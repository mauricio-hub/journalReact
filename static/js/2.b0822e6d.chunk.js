/*! For license information please see 2.b0822e6d.chunk.js.LICENSE.txt */
(this["webpackJsonpjournal-app"]=this["webpackJsonpjournal-app"]||[]).push([[2],[function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return N})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return Z})),n.d(e,"k",(function(){return F})),n.d(e,"l",(function(){return z})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return $})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return V})),n.d(e,"v",(function(){return T})),n.d(e,"w",(function(){return C})),n.d(e,"x",(function(){return g})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return S})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return I})),n.d(e,"C",(function(){return L})),n.d(e,"D",(function(){return R})),n.d(e,"E",(function(){return B})),n.d(e,"F",(function(){return q})),n.d(e,"G",(function(){return U})),n.d(e,"H",(function(){return J})),n.d(e,"I",(function(){return X})),n.d(e,"J",(function(){return D})),n.d(e,"K",(function(){return G})),n.d(e,"L",(function(){return Y})),n.d(e,"M",(function(){return Q})),n.d(e,"N",(function(){return O}));var r=n(0),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(t,e){if(!t)throw u(e)},u=function(t){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+t)},c=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=c(t);return l.encodeByteArray(e,!0)},f=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var v=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return y().indexOf("Electron/")>=0}function T(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I(){return y().indexOf("MSAppHost/")>=0}function S(){return!0===i||!0===o}function C(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function k(){return!(!navigator||!navigator.cookieEnabled)}var N=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return Object(r.c)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?x(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new N(i,s,r);return u},t}();function x(t,e){return t.replace(P,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=R(f(o[0])||""),n=R(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e=M(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=M(t).claims;return"object"===typeof e&&!0===e.admin};function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function B(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var W=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function z(t,e){var n=new H(t,e);return n.subscribe.bind(n)}var H=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function K(){}var G=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function $(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function Y(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error($(t,e,r)+"must be a valid function.")}function Q(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error($(t,e,r)+"must be a valid context object.")}var X=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},J=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Z(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}}).call(this,n(25))},function(t,e,n){"use strict";t.exports=n(65)},function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!("string"===typeof t||t instanceof String)){var e;throw e=null===t?"null":"object"===(e=r(t))&&t.constructor&&t.constructor.hasOwnProperty("name")?t.constructor.name:"a ".concat(e),new TypeError("Expected string but received ".concat(e,"."))}},t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";var r,i,o=n(0),a=n(1),s=n(8),u=n(9),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(a.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.n)(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next()){var y=v.value;e[y]._addComponent(s)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.r)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",e),t.registerVersion("fire-js","")}(w),e.a=w},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(35);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s}));var r=n(0),i=n(1),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(f){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(f){}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w}));var r=n(3),i=n.n(r),o=(n(26),i.a.createContext(null));var a=function(t){t()},s={notify:function(){}};function u(){var t=a,e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var c=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},t}();var l=function(t){var e=t.store,n=t.context,a=t.children,s=Object(r.useMemo)((function(){var t=new c(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),u=Object(r.useMemo)((function(){return e.getState()}),[e]);Object(r.useEffect)((function(){var t=s.subscription;return t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[s,u]);var l=n||o;return i.a.createElement(l.Provider,{value:s},a)},h=(n(7),n(14),n(28),n(33),"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect);n(24);function f(){return Object(r.useContext)(o)}function p(t){void 0===t&&(t=o);var e=t===o?f:function(){return Object(r.useContext)(t)};return function(){return e().store}}var d=p();function v(t){void 0===t&&(t=o);var e=t===o?d:p(t);return function(){return e().dispatch}}var y=v(),g=function(t,e){return t===e};function m(t){void 0===t&&(t=o);var e=t===o?f:function(){return Object(r.useContext)(t)};return function(t,n){void 0===n&&(n=g);var i=e(),o=function(t,e,n,i){var o,a=Object(r.useReducer)((function(t){return t+1}),0)[1],s=Object(r.useMemo)((function(){return new c(n,i)}),[n,i]),u=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useRef)(),p=Object(r.useRef)(),d=n.getState();try{o=t!==l.current||d!==f.current||u.current?t(d):p.current}catch(v){throw u.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),v}return h((function(){l.current=t,f.current=d,p.current=o,u.current=void 0})),h((function(){function t(){try{var t=l.current(n.getState());if(e(t,p.current))return;p.current=t}catch(v){u.current=v}a()}return s.onStateChange=t,s.trySubscribe(),t(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(t,n,i.store,i.subscription);return Object(r.useDebugValue)(o),o}}var b,w=m(),_=n(32);b=_.unstable_batchedUpdates,a=b},function(t,e,n){t.exports=n(73)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return A})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return T}));var r=n(15),i=n(3),o=n.n(i),a=(n(26),n(17)),s=n(44),u=n(16),c=n(7),l=n(45),h=n.n(l),f=(n(33),n(14)),p=(n(28),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),d=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;var y=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);var g={},m=0;function b(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(g[t])return g[t];var e=h.a.compile(t);return m<1e4&&(g[t]=e,m++),e}(t)(e,{pretty:!0})}function w(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(d.Consumer,null,(function(t){t||Object(u.a)(!1);var r=t.history,s=t.staticContext,l=i?r.push:r.replace,h=Object(a.c)(e?"string"===typeof n?b(n,e.params):Object(c.a)({},n,{pathname:b(n.pathname,e.params)}):n);return s?(l(h),null):o.a.createElement(y,{onMount:function(){l(h)},onUpdate:function(t,e){var n=Object(a.c)(e.to);Object(a.f)(n,Object(c.a)({},h,{key:n.key}))||l(h)},to:n})}))}var _={},E=0;function T(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=_[n]||(_[n]={});if(r[t])return r[t];var i=[],o={regexp:h()(t,i,e),keys:i};return E<1e4&&(r[t]=o,E++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=f[n],t}),{})}}),null)}var I=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?T(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(d.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function S(t){return"/"===t.charAt(0)?t:"/"+t}function C(t,e){if(!t)return e;var n=S(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function O(t){return"string"===typeof t?t:Object(a.e)(t)}function k(t){return function(){Object(u.a)(!1)}}function N(){}o.a.Component;var A=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?T(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);o.a.useContext},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r="Invariant failed";e.a=function(t,e){if(!t)throw new Error(r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return N})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return d}));var r=n(7);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},c=n(16);function l(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var w="popstate",_="hashchange";function E(){try{return window.history.state||{}}catch(t){return{}}}function T(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,T=void 0===y?6:y,I=t.basename?p(l(t.basename)):"";function S(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=f(o,I)),v(o,r,n)}function C(){return Math.random().toString(36).substr(2,T)}var O=g();function k(t){Object(r.a)(V,t),V.length=e.length,O.notifyListeners(V.location,V.action)}function N(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(S(t.state))}function A(){P(S(E()))}var x=!1;function P(t){if(x)x=!1,k();else{O.confirmTransitionTo(t,"POP",h,(function(e){e?k({action:"POP",location:t}):function(t){var e=V.location,n=D.indexOf(e.key);-1===n&&(n=0);var r=D.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(t)}))}}var R=S(E()),D=[R.key];function M(t){return I+d(t)}function L(t){e.go(t)}var j=0;function F(t){1===(j+=t)&&1===t?(window.addEventListener(w,N),i&&window.addEventListener(_,A)):0===j&&(window.removeEventListener(w,N),i&&window.removeEventListener(_,A))}var U=!1;var V={length:e.length,action:"POP",location:R,createHref:M,push:function(t,r){var i="PUSH",o=v(t,r,C(),V.location);O.confirmTransitionTo(o,i,h,(function(t){if(t){var r=M(o),a=o.key,u=o.state;if(n)if(e.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,k({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=v(t,r,C(),V.location);O.confirmTransitionTo(o,i,h,(function(t){if(t){var r=M(o),a=o.key,u=o.state;if(n)if(e.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=o.key),k({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=O.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=O.appendListener(t);return F(1),function(){F(-1),e()}}};return V}var I="hashchange",S={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function O(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function k(t){window.location.replace(C(window.location.href)+"#"+t)}function N(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",h=S[s],y=h.encodePath,w=h.decodePath;function _(){var t=w(O());return u&&(t=f(t,u)),v(t)}var E=g();function T(t){Object(r.a)(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)}var N=!1,A=null;function x(){var t,e,n=O(),r=y(n);if(n!==r)k(r);else{var i=_(),a=V.location;if(!N&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(A===d(i))return;A=null,function(t){if(N)N=!1,T();else{var e="POP";E.confirmTransitionTo(t,e,o,(function(n){n?T({action:e,location:t}):function(t){var e=V.location,n=M.lastIndexOf(d(e));-1===n&&(n=0);var r=M.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(t)}))}}(i)}}var P=O(),R=y(P);P!==R&&k(R);var D=_(),M=[d(D)];function L(t){e.go(t)}var j=0;function F(t){1===(j+=t)&&1===t?window.addEventListener(I,x):0===j&&window.removeEventListener(I,x)}var U=!1;var V={length:e.length,action:"POP",location:D,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+d(t))},push:function(t,e){var n="PUSH",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);if(O()!==i){A=e,function(t){window.location.hash=t}(i);var o=M.lastIndexOf(d(V.location)),a=M.slice(0,o+1);a.push(e),M=a,T({action:n,location:r})}else T()}}))},replace:function(t,e){var n="REPLACE",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);O()!==i&&(A=e,k(i));var o=M.indexOf(d(V.location));-1!==o&&(M[o]=e),T({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=E.appendListener(t);return F(1),function(){F(-1),e()}}};return V}function A(t,e,n){return Math.min(Math.max(t,e),n)}function x(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=g();function h(t){Object(r.a)(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=A(s,0,o.length-1),y=o.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),m=d;function b(t){var e=A(w.index+t,0,w.entries.length-1),r=w.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:m,push:function(t,e){var r="PUSH",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),h({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){t&&(w.entries[w.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var n in e)"undefined"===typeof t[n]&&(t[n]=e[n]);return t},t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(34);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return nr})),n.d(e,"b",(function(){return rr})),n.d(e,"c",(function(){return ir})),n.d(e,"d",(function(){return or})),n.d(e,"e",(function(){return er}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++d)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}var O,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var x=u.navigator;if(x){var P=x.userAgent;if(P){O=P;break t}}O=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var F,U=N(O,"Opera"),V=N(O,"Trident")||N(O,"MSIE"),B=N(O,"Edge"),q=B||V,W=N(O,"Gecko")&&!(N(O.toLowerCase(),"webkit")&&!N(O,"Edge"))&&!(N(O,"Trident")||N(O,"MSIE"))&&!N(O,"Edge"),z=N(O.toLowerCase(),"webkit")&&!N(O,"Edge");function H(){var t=u.document;return t?t.documentMode:void 0}t:{var K="",G=function(){var t=O;return W?/rv:([^\);]+)(\)|;)/.exec(t):B?/Edge\/([\d\.]+)/.exec(t):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):z?/WebKit\/(\S+)/.exec(t):U?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(G&&(K=G?G[1]:""),V){var $=H();if(null!=$&&$>parseFloat(K)){F=String($);break t}}F=K}var Y,Q={};function X(t){return function(t,e){var n=Q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=k(String(F)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=A(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||A(0==a[2].length,0==s[2].length)||A(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var J=H();Y=J||(parseInt(F,10)||void 0)}else Y=void 0;var Z=Y,tt=!V||9<=Number(Z),et=V&&!X("9"),nt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},w(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),dt={};function vt(t,e,n,r,i){if(r&&r.once)return gt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[at]?t.va(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!tt)return null;var s=Tt(t);if(s||(t[pt]=s=new lt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Et,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=St(n),t&&t[at]?t.wa(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function mt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=St(n),t&&t[at]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=ft(o=t.a[e],n,r,i))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Tt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ft(e,n,r,i)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])ht(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(ht(n,t),0==n.b&&(n.src=null,e[pt]=null)):ct(t)}}}function wt(t){return t in dt?dt[t]:dt[t]="on"+t}function _t(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&bt(t),n.call(r,e)}function Et(t,e){if(t.Y)return!0;if(!tt){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _t(t,e=new it(e,this))}return _t(t,new it(e,this))}function Tt(t){return(t=t[pt])instanceof lt?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==l(t)?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function Ct(){_.call(this),this.c=new lt(this),this.J=this,this.C=null}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ht(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}w(Ct,_),Ct.prototype[at]=!0,(o=Ct.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){mt(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"===typeof t)t=new rt(t,n);else if(t instanceof rt)t.target=t.target||n;else{var i=t;L(t=new rt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ot(a,r,!0,t)&&i}if(i=Ot(a=t.a=n,r,!0,t)&&i,i=Ot(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ot(a=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ct(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=u.JSON.stringify;function Nt(){this.b=this.a=null}var At,xt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}),100);function Pt(){var t=jt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){u.setTimeout((function(){throw t}),0)}function Mt(t,e){At||function(){var t=u.Promise.resolve(void 0);At=function(){t.then(Ft)}}(),Lt||(At(),Lt=!0),jt.add(t,e)}Nt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,jt=new Nt;function Ft(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=xt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){Ct.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Ya,this),this.g=b()}function Vt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function qt(t){t.a=Bt((function(){t.a=null,t.c&&(t.c=!1,qt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Ut,Ct),(o=Ut.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Vt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Ut.S.G.call(this),Vt(this),delete this.a};var Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:qt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function zt(t){_.call(this),this.b=t,this.a={}}w(zt,_);var Ht=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function $t(){this.a=!0}function Yt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return kt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.G=function(){zt.S.G.call(this),Gt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$t.prototype.info=function(){};var Qt=null;function Xt(){return Qt=Qt||new Ct}function Jt(t){rt.call(this,"serverreachability",t)}function Zt(t){var e=Xt();e.dispatchEvent(new Jt(e,t))}function te(t){rt.call(this,"statevent",t)}function ee(t){var e=Xt();e.dispatchEvent(new te(e,t))}function ne(t){rt.call(this,"timingevent",t)}function re(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Jt,rt),w(te,rt),w(ne,rt);var ie={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},oe={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function se(t){var e;return(e=t.a)||(e=t.a={}),e}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){rt.call(this,"d")}function fe(){rt.call(this,"c")}function pe(){}function de(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new zt(this),this.P=ve,t=q?125:void 0,this.R=new Ut(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(he,rt),w(fe,rt),w(pe,ae),ce=new pe;var ve=45e3,ye={},ge={};function me(t,e,n){t.H=1,t.i=Ve(De(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=b(),Ee(t),t.l=De(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ze(n.b,"t",r),t.D=0,t.a=$n(t.g,t.g.C?e:null),0<t.O&&(t.F=new Wt(g(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Wa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function we(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_e(t,n);if(i==ge){4==e&&(t.h=4,ee(14),r=!1),Yt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ye){t.h=4,ee(15),Yt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Yt(t.c,t.f,i,null),Oe(t,i)}4==e&&0==n.length&&(t.h=1,ee(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0)):(Yt(t.c,t.f,n,"[Invalid Chunked Response]"),Ce(t),Se(t))}function _e(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ge:(n=Number(e.substring(n,r)),isNaN(n)?ye:(r+=1)+n>e.length?ge:(e=e.substr(r,n),t.D=r+n,e))}function Ee(t){t.U=b()+t.P,Te(t,t.P)}function Te(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=re(g(t.Ua,t),e)}function Ie(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Se(t){0==t.g.v||t.A||Wn(t.g,t)}function Ce(t){Ie(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vt(t.R),Gt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Oe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sn(n.b,t)))if(n.I=t.N,!t.C&&sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;qn(n),xn(n)}Un(n),ee(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=re(g(n.Ra,n),6e3));if(1>=an(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Hn(n,11)}else if((t.C||n.a==t)&&qn(n),!C(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ue(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Gn(u,u.C?u.ga:null,u.fa),p.C){cn(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Ie(d),Ee(d)),u.a=p}else Fn(u);0<n.g.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Hn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hn(n,7):An(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zt(4)}catch(y){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)T(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ne(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ne)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=de.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==Cn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Cn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!q&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=r?3:2),Ie(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ee(12),Ce(this),Se(this);break t}Yt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Oe(this,u)}this.I?(we(this,e,o),q&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Va),this.R.start())):(Yt(this.c,this.f,o,null),Oe(this,o)),4==e&&Ce(this),this.b&&!this.A&&(4==e?Wn(this.g,this):(this.b=!1,Ee(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ee(12)):(this.h=0,ee(13)),Ce(this),Se(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=Cn(this.a),e=this.a.$();this.D<e.length&&(Ie(this),we(this,t,e),this.b&&4!=t&&Ee(this))}},o.cancel=function(){this.A=!0,Ce(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),ee(17)),Ce(this),this.h=2,Se(this)):Te(this,this.U-t)},(o=Ne.prototype).K=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ae(this),this.a.concat()},o.get=function(t,e){return xe(this.b,t)?this.b[t]:e},o.set=function(t,e){xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,Me(this,t.f),this.j=t.j,Le(this,t.c),je(this,t.h),this.g=t.g,e=t.b;var n=new Ye;n.c=e.c,e.a&&(n.a=new Ne(e.a),n.b=e.b),Fe(this,n),this.i=t.i}else t&&(n=String(t).match(Pe))?(this.a=!!e,Me(this,n[1]||"",!0),this.j=Be(n[2]||""),Le(this,n[3]||"",!0),je(this,n[4]),this.g=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.i=Be(n[7]||"")):(this.a=!!e,this.b=new Ye(null,this.a))}function De(t){return new Re(t)}function Me(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.c=n?Be(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fe(t,e,n){e instanceof Ye?(t.b=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Ze(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=qe(e,Ge)),t.b=new Ye(e,t.a))}function Ue(t,e,n){t.b.set(e,n)}function Ve(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ke:He,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qe(n,$e)),t.join("")};var ze=/[#\/\?@]/g,He=/[#\?:]/g,Ke=/[#\?]/g,Ge=/[#\?@]/g,$e=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Ne,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Qe(t),e=tn(t,e),xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t)))}function Je(t,e){return Qe(t),e=tn(t,e),xe(t.a.b,e)}function Ze(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),S(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ye.prototype).add=function(t,e){Qe(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Qe(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Qe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Qe(this);var e=[];if("string"===typeof t)Je(this,t)&&(e=I(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},o.set=function(t,e){return Qe(this),this.c=null,Je(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function an(t){return t.b?1:t.a?t.a.size:0}function sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function hn(){}function fn(){this.a=new hn}function pn(t,e,n){var r=n||"";try{ke(t,(function(t,n){var i=t;f(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var vn=u.JSON.parse;function yn(t){Ct.call(this),this.headers=new Ne,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gn,this.D=this.F=!1}w(yn,Ct);var gn="",mn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),In(t)}function En(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Tn(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=Cn(t)||2!=t.X()))if(t.l&&4==Cn(t))Bt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Cn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pe)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!mn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Cn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",En(t)}}finally{In(t)}}}function In(t,e){if(t.a){Sn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Sn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function Cn(t){return t.a?t.a.readyState:0}function On(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Nn(t){this.pa=0,this.g=[],this.c=new $t,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=kn("baseRetryDelayMs",5e3,t),this.Ma=kn("retryDelaySeedMs",1e4,t),this.Ja=kn("forwardChannelMaxRetries",2,t),this.ma=kn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function An(t){if(Pn(t),3==t.v){var e=t.R++,n=De(t.B);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Ln(t,n),(e=new de(t,t.c,e,void 0)).H=2,e.i=Ve(De(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=$n(e.g,null),e.a.ba(e.i)),e.u=b(),Ee(e)}Kn(t)}function xn(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function Pn(t){xn(t),t.j&&(u.clearTimeout(t.j),t.j=null),qn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Dn(t)}function Dn(t){on(t.b)||t.h||(t.h=!0,Mt(t.Ba,t),t.u=0)}function Mn(t,e){var n;n=e?e.f:t.R++;var r=De(t.B);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.P),Ln(t,r),t.i&&t.l&&On(r,t.i,t.l),n=new de(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),me(n,r,e)}function Ln(t,e){t.f&&ke({},(function(t,n){Ue(e,n,t)}))}function jn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{pn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fn(t){t.a||t.j||(t.U=1,Mt(t.Aa,t),t.o=0)}function Un(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=re(g(t.Aa,t),zn(t,t.o)),t.o++,!0)}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Bn(t){t.a=new de(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.H?"0":"1"),Ue(e,"AID",t.P),Ln(t,e),Ue(e,"TYPE","xmlhttp"),t.i&&t.l&&On(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(De(e)),n.j=null,n.I=!0,be(n,t)}function qn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Wn(t,e){var n=null;if(t.a==e){qn(t),Vn(t),t.a=null;var r=2}else{if(!sn(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Xt()).dispatchEvent(new ne(r,n,e,i)),Dn(t)}else Fn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(an(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=re(g(t.Ba,t,e),zn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Un(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hn(t,5);break;case 4:Hn(t,10);break;case 3:Hn(t,6);break;default:Hn(t,2)}}function zn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Hn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Me(n,"https"),Ve(n)),function(t,e){var n=new $t;if(u.Image){var r=new Image;r.onload=m(dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(dn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(dn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.v=0,t.f&&t.f.ra(e),Kn(t),Pn(t)}function Kn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Gn(t,e,n){var r=function(t){return t instanceof Re?De(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Le(r,e+"."+r.c),je(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Me(i,t),e&&Le(i,e),n&&je(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&R(t.W,(function(t,e){Ue(r,e,t)})),e=t.A,n=t.na,e&&n&&Ue(r,e,n),Ue(r,"VER",t.ha),Ln(t,r),r}function $n(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(t.Ka)).F=t.C,e}function Yn(){}function Qn(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Xn(t,e){Ct.call(this),this.a=new Nn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new tr(this)}function Jn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zn(){fe.call(this),this.status=1}function tr(t){this.a=t}(o=yn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?se(this.H):se(ce),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void _n(this,o)}t=n||"";var i=new Ne(this.headers);r&&ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=wn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sn(this),0<this.o&&((this.D=function(t){return V&&X(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){_n(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),In(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),In(this,!0)),yn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?Tn(this):this.Ta())},o.Ta=function(){Tn(this)},o.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=Nn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new de(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jn(this,n,e),Ue(i=De(this.B),"RID",t),Ue(i,"CVER",22),this.A&&Ue(i,"X-HTTP-Session-Id",this.A),Ln(this,i),this.i&&r&&On(i,this.i,r),un(this.b,n),this.Ga&&Ue(i,"TYPE","init"),this.da?(Ue(i,"$req",e),Ue(i,"SID","null"),n.V=!0,me(n,i,null)):me(n,i,e),this.v=2}}else 3==this.v&&(t?Mn(this,t):0==this.g.length||on(this.b)||Mn(this))},o.Aa=function(){if(this.j=null,Bn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=re(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xn(this),Bn(this))},o.Ra=function(){null!=this.m&&(this.m=null,xn(this),Un(this),ee(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ee(2)):(this.c.info("Failed to ping google.com"),ee(1))},(o=Yn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Qn.prototype.a=function(t,e){return new Xn(t,e)},w(Xn,Ct),(o=Xn.prototype).addEventListener=function(t,e,n,r){Xn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Xn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ee(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Gn(t,null,t.fa),Dn(t)},o.close=function(){An(this.a)},o.Pa=function(t){if("string"===typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.g?((e={}).__data__=kt(t),Rn(this.a,e)):Rn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,An(this.a),delete this.a,Xn.S.G.call(this)},w(Jn,he),w(Zn,fe),w(tr,Yn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Zn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Qn.prototype.createWebChannel=Qn.prototype.a,Xn.prototype.send=Xn.prototype.Pa,Xn.prototype.open=Xn.prototype.Oa,Xn.prototype.close=Xn.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,yn.prototype.listenOnce=yn.prototype.wa,yn.prototype.getLastError=yn.prototype.Qa,yn.prototype.getLastErrorCode=yn.prototype.ua,yn.prototype.getStatus=yn.prototype.X,yn.prototype.getResponseJson=yn.prototype.Na,yn.prototype.getResponseText=yn.prototype.$,yn.prototype.send=yn.prototype.ba;var er=function(){return new Qn},nr=ie,rr=oe,ir=ue,or=yn}).call(this,n(25))},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return g}));var r=n(12),i=n(15),o=n(3),a=n.n(o),s=n(17),u=(n(26),n(7)),c=n(14),l=n(16),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=d);var y=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=d!==v&&e||n,a.a.createElement("a",l)}));var g=v((function(t,e){var n=t.component,i=void 0===n?y:n,o=t.replace,s=t.to,h=t.innerRef,g=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),c=r?n.createHref(r):"",y=Object(u.a)({},g,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==v?y.ref=e||h:y.innerRef=h,a.a.createElement(i,y)}))})),m=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,v=t.exact,y=t.isActive,w=t.location,_=t.sensitive,E=t.strict,T=t.style,I=t.to,S=t.innerRef,C=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=w||t.location,o=p(f(I,n),n),c=o.pathname,O=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=O?Object(r.f)(n.pathname,{path:O,exact:v,sensitive:_,strict:E}):null,N=!!(y?y(k,n):k),A=N?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,x=N?Object(u.a)({},T,{},h):T,P=Object(u.a)({"aria-current":N&&i||null,className:A,style:x,to:o},C);return m!==b?P.ref=e||S:P.innerRef=S,a.a.createElement(g,P)}))}))},function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return(c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?l(t):e}function f(t){var e=u();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function d(t,e,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=p(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var v="SweetAlert2:",y=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},g=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},m=function(t){return Object.keys(t).map((function(e){return t[e]}))},b=function(t){return Array.prototype.slice.call(t)},w=function(t){console.warn("".concat(v," ").concat(t))},_=function(t){console.error("".concat(v," ").concat(t))},E=[],T=function(t){-1===E.indexOf(t)&&(E.push(t),w(t))},I=function(t,e){T('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'))},S=function(t){return"function"===typeof t?t():t},C=function(t){return t&&"function"===typeof t.toPromise},O=function(t){return C(t)?t.toPromise():Promise.resolve(t)},k=function(t){return t&&Promise.resolve(t)===t},N=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),A=function(e){return"object"===t(e)&&e.jquery},x=function(t){return t instanceof Element||A(t)},P=function(e){var n={};return"object"!==t(e[0])||x(e[0])?["title","html","icon"].forEach((function(r,i){var o=e[i];"string"===typeof o||x(o)?n[r]=o:void 0!==o&&_("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))})):i(n,e[0]),n},R="swal2-",D=function(t){var e={};for(var n in t)e[t[n]]=R+t[n];return e},M=D(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),L=D(["success","warning","info","question","error"]),j=function(){return document.body.querySelector(".".concat(M.container))},F=function(t){var e=j();return e?e.querySelector(t):null},U=function(t){return F(".".concat(t))},V=function(){return U(M.popup)},B=function(){var t=V();return b(t.querySelectorAll(".".concat(M.icon)))},q=function(){var t=B().filter((function(t){return Ot(t)}));return t.length?t[0]:null},W=function(){return U(M.title)},z=function(){return U(M.content)},H=function(){return U(M["html-container"])},K=function(){return U(M.image)},G=function(){return U(M["progress-steps"])},$=function(){return U(M["validation-message"])},Y=function(){return F(".".concat(M.actions," .").concat(M.confirm))},Q=function(){return F(".".concat(M.actions," .").concat(M.deny))},X=function(){return U(M["input-label"])},J=function(){return F(".".concat(M.loader))},Z=function(){return F(".".concat(M.actions," .").concat(M.cancel))},tt=function(){return U(M.actions)},et=function(){return U(M.header)},nt=function(){return U(M.footer)},rt=function(){return U(M["timer-progress-bar"])},it=function(){return U(M.close)},ot='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',at=function(){var t=b(V().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=b(V().querySelectorAll(ot)).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return y(t.concat(e)).filter((function(t){return Ot(t)}))},st=function(){return!ut()&&!document.body.classList.contains(M["no-backdrop"])},ut=function(){return document.body.classList.contains(M["toast-shown"])},ct=function(){return V().hasAttribute("data-loading")},lt={previousBodyPadding:null},ht=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");b(n.querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),b(n.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)}))}},ft=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},pt=function(t,e){b(t.classList).forEach((function(n){-1===m(M).indexOf(n)&&-1===m(L).indexOf(n)&&-1===m(e.showClass).indexOf(n)&&t.classList.remove(n)}))},dt=function(e,n,r){if(pt(e,n),n.customClass&&n.customClass[r]){if("string"!==typeof n.customClass[r]&&!n.customClass[r].forEach)return w("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));bt(e,n.customClass[r])}};function vt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return _t(t,M[e]);case"checkbox":return t.querySelector(".".concat(M.checkbox," input"));case"radio":return t.querySelector(".".concat(M.radio," input:checked"))||t.querySelector(".".concat(M.radio," input:first-child"));case"range":return t.querySelector(".".concat(M.range," input"));default:return _t(t,M.input)}}var yt,gt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},mt=function(t,e,n){t&&e&&("string"===typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},bt=function(t,e){mt(t,e,!0)},wt=function(t,e){mt(t,e,!1)},_t=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(ft(t.childNodes[n],e))return t.childNodes[n]},Et=function(t,e,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"===typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},It=function(t){t.style.display="none"},St=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},Ct=function(t,e,n){e?Tt(t,n):It(t)},Ot=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},kt=function(){return!Ot(Y())&&!Ot(Q())&&!Ot(Z())},Nt=function(t){return!!(t.scrollHeight>t.clientHeight)},At=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},xt=function(t,e){if("function"===typeof t.contains)return t.contains(e)},Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=rt();Ot(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},Rt=function(){var t=rt(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")},Dt=function(){return"undefined"===typeof window||"undefined"===typeof document},Mt='\n <div aria-labelledby="'.concat(M.title,'" aria-describedby="').concat(M.content,'" class="').concat(M.popup,'" tabindex="-1">\n   <div class="').concat(M.header,'">\n     <ul class="').concat(M["progress-steps"],'"></ul>\n     <div class="').concat(M.icon," ").concat(L.error,'"></div>\n     <div class="').concat(M.icon," ").concat(L.question,'"></div>\n     <div class="').concat(M.icon," ").concat(L.warning,'"></div>\n     <div class="').concat(M.icon," ").concat(L.info,'"></div>\n     <div class="').concat(M.icon," ").concat(L.success,'"></div>\n     <img class="').concat(M.image,'" />\n     <h2 class="').concat(M.title,'" id="').concat(M.title,'"></h2>\n     <button type="button" class="').concat(M.close,'"></button>\n   </div>\n   <div class="').concat(M.content,'">\n     <div id="').concat(M.content,'" class="').concat(M["html-container"],'"></div>\n     <input class="').concat(M.input,'" />\n     <input type="file" class="').concat(M.file,'" />\n     <div class="').concat(M.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(M.select,'"></select>\n     <div class="').concat(M.radio,'"></div>\n     <label for="').concat(M.checkbox,'" class="').concat(M.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(M.label,'"></span>\n     </label>\n     <textarea class="').concat(M.textarea,'"></textarea>\n     <div class="').concat(M["validation-message"],'" id="').concat(M["validation-message"],'"></div>\n   </div>\n   <div class="').concat(M.actions,'">\n     <div class="').concat(M.loader,'"></div>\n     <button type="button" class="').concat(M.confirm,'"></button>\n     <button type="button" class="').concat(M.deny,'"></button>\n     <button type="button" class="').concat(M.cancel,'"></button>\n   </div>\n   <div class="').concat(M.footer,'"></div>\n   <div class="').concat(M["timer-progress-bar-container"],'">\n     <div class="').concat(M["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Lt=function(){var t=j();return!!t&&(t.parentNode.removeChild(t),wt([document.documentElement,document.body],[M["no-backdrop"],M["toast-shown"],M["has-column"]]),!0)},jt=function(t){ti.isVisible()&&yt!==t.target.value&&ti.resetValidationMessage(),yt=t.target.value},Ft=function(){var t=z(),e=_t(t,M.input),n=_t(t,M.file),r=t.querySelector(".".concat(M.range," input")),i=t.querySelector(".".concat(M.range," output")),o=_t(t,M.select),a=t.querySelector(".".concat(M.checkbox," input")),s=_t(t,M.textarea);e.oninput=jt,n.onchange=jt,o.onchange=jt,a.onchange=jt,s.oninput=jt,r.oninput=function(t){jt(t),i.value=r.value},r.onchange=function(t){jt(t),r.nextSibling.value=r.value}},Ut=function(t){return"string"===typeof t?document.querySelector(t):t},Vt=function(t){var e=V();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Bt=function(t){"rtl"===window.getComputedStyle(t).direction&&bt(j(),M.rtl)},qt=function(t){var e=Lt();if(Dt())_("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=M.container,e&&bt(n,M["no-transition"]),ht(n,Mt);var r=Ut(t.target);r.appendChild(n),Vt(t),Bt(r),Ft()}},Wt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?zt(e,n):e&&ht(n,e)},zt=function(t,e){t.jquery?Ht(e,t):ht(e,t.toString())},Ht=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Kt=function(){if(Dt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"undefined"!==typeof t.style[n])return e[n];return!1}(),Gt=function(){var t=document.createElement("div");t.className=M["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},$t=function(t,e){var n=tt(),r=J(),i=Y(),o=Q(),a=Z();e.showConfirmButton||e.showDenyButton||e.showCancelButton||It(n),dt(n,e,"actions"),Qt(i,"confirm",e),Qt(o,"deny",e),Qt(a,"cancel",e),Yt(i,o,a,e),e.reverseButtons&&(n.insertBefore(a,r),n.insertBefore(o,r),n.insertBefore(i,r)),r.innerHTML=e.loaderHtml,dt(r,e,"loader")};function Yt(t,e,n,r){if(!r.buttonsStyling)return wt([t,e,n],M.styled);bt([t,e,n],M.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}function Qt(t,e,n){Ct(t,n["show".concat(g(e),"Button")],"inline-block"),ht(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=M[e],dt(t,n,"".concat(e,"Button")),bt(t,n["".concat(e,"ButtonClass")])}function Xt(t,e){"string"===typeof e?t.style.background=e:e||bt([document.documentElement,document.body],M["no-backdrop"])}function Jt(t,e){e in M?bt(t,M[e]):(w('The "position" parameter is not valid, defaulting to "center"'),bt(t,M.center))}function Zt(t,e){if(e&&"string"===typeof e){var n="grow-".concat(e);n in M&&bt(t,M[n])}}var te=function(t,e){var n=j();if(n){Xt(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&w('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),Jt(n,e.position),Zt(n,e.grow),dt(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}},ee={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ne=["input","file","range","select","radio","checkbox","textarea"],re=function(t,e){var n=z(),r=ee.innerParams.get(t),i=!r||e.input!==r.input;ne.forEach((function(t){var r=M[t],o=_t(n,r);ae(t,e.inputAttributes),o.className=r,i&&It(o)})),e.input&&(i&&ie(e),se(e))},ie=function(t){if(!he[t.input])return _('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=le(t.input),n=he[t.input](e,t);Tt(n),setTimeout((function(){gt(n)}))},oe=function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}},ae=function(t,e){var n=vt(z(),t);if(n)for(var r in oe(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])},se=function(t){var e=le(t.input);t.customClass&&bt(e,t.customClass.input)},ue=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ce=function(t,e,n){if(n.inputLabel){t.id=M.input;var r=document.createElement("label"),i=M["input-label"];r.setAttribute("for",t.id),r.className=i,r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},le=function(t){var e=M[t]?M[t]:M.input;return _t(z(),e)},he={};he.text=he.email=he.password=he.number=he.tel=he.url=function(e,n){return"string"===typeof n.inputValue||"number"===typeof n.inputValue?e.value=n.inputValue:k(n.inputValue)||w('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),ce(e,e,n),ue(e,n),e.type=n.input,e},he.file=function(t,e){return ce(t,t,e),ue(t,e),t},he.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,ce(n,t,e),t},he.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");ht(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ce(t,t,e),t},he.radio=function(t){return t.textContent="",t},he.checkbox=function(t,e){var n=vt(z(),"checkbox");n.value=1,n.id=M.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return ht(r,e.inputPlaceholder),t},he.textarea=function(t,e){if(t.value=e.inputValue,ue(t,e),ce(t,t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(V()).width),r=parseInt(window.getComputedStyle(V()).paddingLeft)+parseInt(window.getComputedStyle(V()).paddingRight);new MutationObserver((function(){var e=t.offsetWidth+r;V().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var fe=function(t,e){var n=z().querySelector("#".concat(M.content));e.html?(Wt(e.html,n),Tt(n,"block")):e.text?(n.textContent=e.text,Tt(n,"block")):It(n),re(t,e),dt(z(),e,"content")},pe=function(t,e){var n=nt();Ct(n,e.footer),e.footer&&Wt(e.footer,n),dt(n,e,"footer")},de=function(t,e){var n=it();ht(n,e.closeButtonHtml),dt(n,e,"closeButton"),Ct(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)},ve=function(t,e){var n=ee.innerParams.get(t);if(n&&e.icon===n.icon&&q())ge(q(),e);else if(ye(),e.icon)if(-1!==Object.keys(L).indexOf(e.icon)){var r=F(".".concat(M.icon,".").concat(L[e.icon]));Tt(r),be(r,e),ge(r,e),bt(r,e.showClass.icon)}else _('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))},ye=function(){for(var t=B(),e=0;e<t.length;e++)It(t[e])},ge=function(t,e){we(t,e),me(),dt(t,e,"icon")},me=function(){for(var t=V(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},be=function(t,e){t.textContent="",e.iconHtml?ht(t,_e(e.iconHtml)):"success"===e.icon?ht(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?ht(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):ht(t,_e({question:"?",warning:"!",info:"i"}[e.icon]))},we=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];St(t,i,"backgroundColor",e.iconColor)}St(t,".swal2-success-ring","borderColor",e.iconColor)}},_e=function(t){return'<div class="'.concat(M["icon-content"],'">').concat(t,"</div>")},Ee=function(t,e){var n=K();if(!e.imageUrl)return It(n);Tt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),Et(n,"width",e.imageWidth),Et(n,"height",e.imageHeight),n.className=M.image,dt(n,e,"image")},Te=[],Ie=function(t){var e=this;Te=t;var n=function(t,e){Te=[],t(e)},r=[];return new Promise((function(t){!function i(o,a){o<Te.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(Te[o]).then((function(e){"undefined"!==typeof e.value?(r.push(e.value),i(o+1,a)):n(t,{dismiss:e.dismiss})}))):n(t,{value:r})}(0)}))},Se=function(){return j()&&j().getAttribute("data-queue-step")},Ce=function(t,e){return e&&e<Te.length?Te.splice(e,0,t):Te.push(t)},Oe=function(t){"undefined"!==typeof Te[t]&&Te.splice(t,1)},ke=function(t){var e=document.createElement("li");return bt(e,M["progress-step"]),ht(e,t),e},Ne=function(t){var e=document.createElement("li");return bt(e,M["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},Ae=function(t,e){var n=G();if(!e.progressSteps||0===e.progressSteps.length)return It(n);Tt(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Se():e.currentProgressStep);r>=e.progressSteps.length&&w("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,i){var o=ke(t);if(n.appendChild(o),i===r&&bt(o,M["active-progress-step"]),i!==e.progressSteps.length-1){var a=Ne(e);n.appendChild(a)}}))},xe=function(t,e){var n=W();Ct(n,e.title||e.titleText),e.title&&Wt(e.title,n),e.titleText&&(n.innerText=e.titleText),dt(n,e,"title")},Pe=function(t,e){var n=et();dt(n,e,"header"),Ae(t,e),ve(t,e),Ee(t,e),xe(t,e),de(t,e)},Re=function(t,e){var n=V();Et(n,"width",e.width),Et(n,"padding",e.padding),e.background&&(n.style.background=e.background),De(n,e)},De=function(t,e){t.className="".concat(M.popup," ").concat(Ot(t)?e.showClass.popup:""),e.toast?(bt([document.documentElement,document.body],M["toast-shown"]),bt(t,M.toast)):bt(t,M.modal),dt(t,e,"popup"),"string"===typeof e.customClass&&bt(t,e.customClass),e.icon&&bt(t,M["icon-".concat(e.icon)])},Me=function(t,e){Re(t,e),te(t,e),Pe(t,e),fe(t,e),$t(t,e),pe(t,e),"function"===typeof e.didRender?e.didRender(V()):"function"===typeof e.onRender&&e.onRender(V())},Le=function(){return Ot(V())},je=function(){return Y()&&Y().click()},Fe=function(){return Q()&&Q().click()},Ue=function(){return Z()&&Z().click()};function Ve(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}function Be(t){return function(n){o(u,n);var s=f(u);function u(){return e(this,u),s.apply(this,arguments)}return r(u,[{key:"_main",value:function(e){return d(a(u.prototype),"_main",this).call(this,i({},t,e))}}]),u}(this)}var qe=function(t){var e=V();e||ti.fire(),e=V();var n=tt(),r=J();!t&&Ot(Y())&&(t=Y()),Tt(n),t&&(It(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),bt([e,n],M.loading),Tt(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},We=100,ze={},He=function(){ze.previousActiveElement&&ze.previousActiveElement.focus?(ze.previousActiveElement.focus(),ze.previousActiveElement=null):document.body&&document.body.focus()},Ke=function(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;ze.restoreFocusTimeout=setTimeout((function(){He(),t()}),We),"undefined"!==typeof e&&"undefined"!==typeof n&&window.scrollTo(e,n)}))},Ge=function(){return ze.timeout&&ze.timeout.getTimerLeft()},$e=function(){if(ze.timeout)return Rt(),ze.timeout.stop()},Ye=function(){if(ze.timeout){var t=ze.timeout.start();return Pt(t),t}},Qe=function(){var t=ze.timeout;return t&&(t.running?$e():Ye())},Xe=function(t){if(ze.timeout){var e=ze.timeout.increase(t);return Pt(e,!0),e}},Je=function(){return ze.timeout&&ze.timeout.isRunning()},Ze={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},tn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],en={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},nn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],rn=function(t){return Object.prototype.hasOwnProperty.call(Ze,t)},on=function(t){return-1!==tn.indexOf(t)},an=function(t){return en[t]},sn=function(t){rn(t)||w('Unknown parameter "'.concat(t,'"'))},un=function(t){-1!==nn.indexOf(t)&&w('The parameter "'.concat(t,'" is incompatible with toasts'))},cn=function(t){an(t)&&I(t,an(t))},ln=function(t){for(var e in t)sn(e),t.toast&&un(e),cn(e)},hn=Object.freeze({isValidParameter:rn,isUpdatableParameter:on,isDeprecatedParameter:an,argsToParams:P,isVisible:Le,clickConfirm:je,clickDeny:Fe,clickCancel:Ue,getContainer:j,getPopup:V,getTitle:W,getContent:z,getHtmlContainer:H,getImage:K,getIcon:q,getIcons:B,getInputLabel:X,getCloseButton:it,getActions:tt,getConfirmButton:Y,getDenyButton:Q,getCancelButton:Z,getLoader:J,getHeader:et,getFooter:nt,getTimerProgressBar:rt,getFocusableElements:at,getValidationMessage:$,isLoading:ct,fire:Ve,mixin:Be,queue:Ie,getQueueStep:Se,insertQueueStep:Ce,deleteQueueStep:Oe,showLoading:qe,enableLoading:qe,getTimerLeft:Ge,stopTimer:$e,resumeTimer:Ye,toggleTimer:Qe,increaseTimer:Xe,isTimerRunning:Je});function fn(){if(ee.innerParams.get(this)){var t=ee.domCache.get(this);It(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Tt(e[0],"inline-block"):kt()&&It(t.actions),wt([t.popup,t.actions],M.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}function pn(t){var e=ee.innerParams.get(t||this),n=ee.domCache.get(t||this);return n?vt(n.content,e.input):null}var dn=function(){null===lt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(lt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(lt.previousBodyPadding+Gt(),"px"))},vn=function(){null!==lt.previousBodyPadding&&(document.body.style.paddingRight="".concat(lt.previousBodyPadding,"px"),lt.previousBodyPadding=null)},yn=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ft(document.body,M.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),bt(document.body,M.iosfix),mn(),gn()}},gn=function(){if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){var t=44;V().scrollHeight>window.innerHeight-t&&(j().style.paddingBottom="".concat(t,"px"))}},mn=function(){var t,e=j();e.ontouchstart=function(e){t=bn(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},bn=function(t){var e=t.target,n=j();return!wn(t)&&!_n(t)&&(e===n||!(Nt(n)||"INPUT"===e.tagName||Nt(z())&&z().contains(e)))},wn=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},_n=function(t){return t.touches&&t.touches.length>1},En=function(){if(ft(document.body,M.iosfix)){var t=parseInt(document.body.style.top,10);wt(document.body,M.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Tn=function(){return!!window.MSInputMethodContext&&!!document.documentMode},In=function(){var t=j(),e=V();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},Sn=function(){"undefined"!==typeof window&&Tn()&&(In(),window.addEventListener("resize",In))},Cn=function(){"undefined"!==typeof window&&Tn()&&window.removeEventListener("resize",In)},On=function(){b(document.body.children).forEach((function(t){t===j()||xt(t,j())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))},kn=function(){b(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Nn={swalPromiseResolve:new WeakMap};function An(t,e,n,r){n?jn(t,r):(Ke().then((function(){return jn(t,r)})),ze.keydownTarget.removeEventListener("keydown",ze.keydownHandler,{capture:ze.keydownListenerCapture}),ze.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),st()&&(vn(),En(),Cn(),kn()),xn()}function xn(){wt([document.documentElement,document.body],[M.shown,M["height-auto"],M["no-backdrop"],M["toast-shown"],M["toast-column"]])}function Pn(t){var e=V();if(e){t=Rn(t);var n=ee.innerParams.get(this);if(n&&!ft(e,n.hideClass.popup)){var r=Nn.swalPromiseResolve.get(this);wt(e,n.showClass.popup),bt(e,n.hideClass.popup);var i=j();wt(i,n.showClass.backdrop),bt(i,n.hideClass.backdrop),Dn(this,e,n),r(t)}}}var Rn=function(t){return"undefined"===typeof t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},Dn=function(t,e,n){var r=j(),i=Kt&&At(e),o=n.onClose,a=n.onAfterClose,s=n.willClose,u=n.didClose;Mn(e,s,o),i?Ln(t,e,r,u||a):An(t,r,ut(),u||a)},Mn=function(t,e,n){null!==e&&"function"===typeof e?e(t):null!==n&&"function"===typeof n&&n(t)},Ln=function(t,e,n,r){ze.swalCloseEventFinishedCallback=An.bind(null,t,n,ut(),r),e.addEventListener(Kt,(function(t){t.target===e&&(ze.swalCloseEventFinishedCallback(),delete ze.swalCloseEventFinishedCallback)}))},jn=function(t,e){setTimeout((function(){"function"===typeof e&&e(),t._destroy()}))};function Fn(t,e,n){var r=ee.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Un(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}function Vn(){Fn(this,["confirmButton","denyButton","cancelButton"],!1)}function Bn(){Fn(this,["confirmButton","denyButton","cancelButton"],!0)}function qn(){return Un(this.getInput(),!1)}function Wn(){return Un(this.getInput(),!0)}function zn(t){var e=ee.domCache.get(this),n=ee.innerParams.get(this);ht(e.validationMessage,t),e.validationMessage.className=M["validation-message"],n.customClass&&n.customClass.validationMessage&&bt(e.validationMessage,n.customClass.validationMessage),Tt(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",M["validation-message"]),gt(r),bt(r,M.inputerror))}function Hn(){var t=ee.domCache.get(this);t.validationMessage&&It(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),wt(e,M.inputerror))}function Kn(){return ee.domCache.get(this).progressSteps}var Gn=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),$n={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Yn(t){t.inputValidator||Object.keys($n).forEach((function(e){t.input===e&&(t.inputValidator=$n[e])}))}function Qn(t){(!t.target||"string"===typeof t.target&&!document.querySelector(t.target)||"string"!==typeof t.target&&!t.target.appendChild)&&(w('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Xn(t){Yn(t),t.showLoaderOnConfirm&&!t.preConfirm&&w("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=S(t.animation),Qn(t),"string"===typeof t.title&&(t.title=t.title.split("\n").join("<br />")),qt(t)}var Jn=10,Zn=function(t){var e=j(),n=V();"function"===typeof t.willOpen?t.willOpen(n):"function"===typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;ir(e,n,t),setTimeout((function(){nr(e,n)}),Jn),st()&&(rr(e,t.scrollbarPadding,r),On()),ut()||ze.previousActiveElement||(ze.previousActiveElement=document.activeElement),tr(n,t),wt(e,M["no-transition"])},tr=function(t,e){"function"===typeof e.didOpen?setTimeout((function(){return e.didOpen(t)})):"function"===typeof e.onOpen&&setTimeout((function(){return e.onOpen(t)}))},er=function t(e){var n=V();if(e.target===n){var r=j();n.removeEventListener(Kt,t),r.style.overflowY="auto"}},nr=function(t,e){Kt&&At(e)?(t.style.overflowY="hidden",e.addEventListener(Kt,er)):t.style.overflowY="auto"},rr=function(t,e,n){yn(),Sn(),e&&"hidden"!==n&&dn(),setTimeout((function(){t.scrollTop=0}))},ir=function(t,e,n){bt(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),Tt(e),setTimeout((function(){bt(e,n.showClass.popup),e.style.removeProperty("opacity")}),Jn),bt([document.documentElement,document.body],M.shown),n.heightAuto&&n.backdrop&&!n.toast&&bt([document.documentElement,document.body],M["height-auto"])},or=function(t,e){"select"===e.input||"radio"===e.input?lr(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&(C(e.inputValue)||k(e.inputValue))&&hr(t,e)},ar=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return sr(n);case"radio":return ur(n);case"file":return cr(n);default:return e.inputAutoTrim?n.value.trim():n.value}},sr=function(t){return t.checked?1:0},ur=function(t){return t.checked?t.value:null},cr=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},lr=function(e,n){var r=z(),i=function(t){return fr[n.input](r,pr(t),n)};C(n.inputOptions)||k(n.inputOptions)?(qe(),O(n.inputOptions).then((function(t){e.hideLoading(),i(t)}))):"object"===t(n.inputOptions)?i(n.inputOptions):_("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))},hr=function(t,e){var n=t.getInput();It(n),O(e.inputValue).then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),Tt(n),n.focus(),t.hideLoading()})).catch((function(e){_("Error in inputValue promise: ".concat(e)),n.value="",Tt(n),n.focus(),t.hideLoading()}))},fr={select:function(t,e,n){var r=_t(t,M.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,ht(i,e),n.inputValue.toString()===r.toString()&&(i.selected=!0),t.appendChild(i)};e.forEach((function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach((function(t){return i(o,t[1],t[0])}))}else i(r,n,e)})),r.focus()},radio:function(t,e,n){var r=_t(t,M.radio);e.forEach((function(t){var e=t[0],i=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=M.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var s=document.createElement("span");ht(s,i),s.className=M.label,a.appendChild(o),a.appendChild(s),r.appendChild(a)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},pr=function e(n){var r=[];return"undefined"!==typeof Map&&n instanceof Map?n.forEach((function(n,i){var o=n;"object"===t(o)&&(o=e(o)),r.push([i,o])})):Object.keys(n).forEach((function(i){var o=n[i];"object"===t(o)&&(o=e(o)),r.push([i,o])})),r},dr=function(t,e){t.disableButtons(),e.input?gr(t,e,"confirm"):_r(t,e,!0)},vr=function(t,e){t.disableButtons(),e.returnInputValueOnDeny?gr(t,e,"deny"):br(t,e,!1)},yr=function(t,e){t.disableButtons(),e(N.cancel)},gr=function(t,e,n){var r=ar(t,e);e.inputValidator?mr(t,e,r):t.getInput().checkValidity()?"deny"===n?br(t,e,r):_r(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},mr=function(t,e,n){t.disableInput(),Promise.resolve().then((function(){return O(e.inputValidator(n,e.validationMessage))})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):_r(t,e,n)}))},br=function(t,e,n){e.preDeny?Promise.resolve().then((function(){return O(e.preDeny(n,e.validationMessage))})).then((function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:"undefined"===typeof e?n:e})})):t.closePopup({isDenied:!0,value:n})},wr=function(t,e){t.closePopup({isConfirmed:!0,value:e})},_r=function(t,e,n){e.showLoaderOnConfirm&&qe(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return O(e.preConfirm(n,e.validationMessage))})).then((function(e){Ot($())||!1===e?t.hideLoading():wr(t,"undefined"===typeof e?n:e)}))):wr(t,n)},Er=function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return Or(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:V(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Tr=function(t,e,n){for(var r=at(),i=0;i<r.length;i++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();V().focus()},Ir=["ArrowRight","ArrowDown","Right","Down"],Sr=["ArrowLeft","ArrowUp","Left","Up"],Cr=["Escape","Esc"],Or=function(t,e,n){var r=ee.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?kr(t,e,r):"Tab"===e.key?Nr(e,r):-1!==[].concat(Ir,Sr).indexOf(e.key)?Ar(e.key):-1!==Cr.indexOf(e.key)&&xr(e,r,n)},kr=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;je(),e.preventDefault()}},Nr=function(t,e){for(var n=t.target,r=at(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}t.shiftKey?Tr(e,i,-1):Tr(e,i,1),t.stopPropagation(),t.preventDefault()},Ar=function(t){if(-1!==[Y(),Q(),Z()].indexOf(document.activeElement)){var e=-1!==Ir.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}},xr=function(t,e,n){S(e.allowEscapeKey)&&(t.preventDefault(),n(N.esc))},Pr=function(t,e,n){ee.innerParams.get(t).toast?Rr(t,e,n):(Mr(e),Lr(e),jr(t,e,n))},Rr=function(t,e,n){e.popup.onclick=function(){var e=ee.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.input||n(N.close)}},Dr=!1,Mr=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Dr=!0)}}},Lr=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Dr=!0)}}},jr=function(t,e,n){e.container.onclick=function(r){var i=ee.innerParams.get(t);Dr?Dr=!1:r.target===e.container&&S(i.allowOutsideClick)&&n(N.backdrop)}};function Fr(t){ln(t),ze.currentInstance&&ze.currentInstance._destroy(),ze.currentInstance=this;var e=Ur(t);Xn(e),Object.freeze(e),ze.timeout&&(ze.timeout.stop(),delete ze.timeout),clearTimeout(ze.restoreFocusTimeout);var n=Br(this);return Me(this,e),ee.innerParams.set(this,e),Vr(this,n,e)}var Ur=function(t){var e=i({},Ze.showClass,t.showClass),n=i({},Ze.hideClass,t.hideClass),r=i({},Ze,t);return r.showClass=e,r.hideClass=n,!1===t.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r},Vr=function(t,e,n){return new Promise((function(r){var i=function(e){t.closePopup({isDismissed:!0,dismiss:e})};Nn.swalPromiseResolve.set(t,r),e.confirmButton.onclick=function(){return dr(t,n)},e.denyButton.onclick=function(){return vr(t,n)},e.cancelButton.onclick=function(){return yr(t,i)},e.closeButton.onclick=function(){return i(N.close)},Pr(t,e,i),Er(t,ze,n,i),n.toast&&(n.input||n.footer||n.showCloseButton)?bt(document.body,M["toast-column"]):wt(document.body,M["toast-column"]),or(t,n),Zn(n),qr(ze,n,i),Wr(e,n),setTimeout((function(){e.container.scrollTop=0}))}))},Br=function(t){var e={popup:V(),container:j(),content:z(),actions:tt(),confirmButton:Y(),denyButton:Q(),cancelButton:Z(),loader:J(),closeButton:it(),validationMessage:$(),progressSteps:G()};return ee.domCache.set(t,e),e},qr=function(t,e,n){var r=rt();It(r),e.timer&&(t.timeout=new Gn((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(Tt(r),setTimeout((function(){t.timeout.running&&Pt(e.timer)}))))},Wr=function(t,e){if(!e.toast)return S(e.allowEnterKey)?void(zr(t,e)||Tr(e,-1,1)):Hr()},zr=function(t,e){return e.focusDeny&&Ot(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ot(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Ot(t.confirmButton))&&(t.confirmButton.focus(),!0)},Hr=function(){document.activeElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};function Kr(t){var e=V(),n=ee.innerParams.get(this);if(!e||ft(e,n.hideClass.popup))return w("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach((function(e){ti.isUpdatableParameter(e)?r[e]=t[e]:w('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}));var o=i({},n,r);Me(this,o),ee.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})}function Gr(){var t=ee.domCache.get(this),e=ee.innerParams.get(this);e&&(t.popup&&ze.swalCloseEventFinishedCallback&&(ze.swalCloseEventFinishedCallback(),delete ze.swalCloseEventFinishedCallback),ze.deferDisposalTimer&&(clearTimeout(ze.deferDisposalTimer),delete ze.deferDisposalTimer),Yr(e),Qr(this))}var $r,Yr=function(t){"function"===typeof t.didDestroy?t.didDestroy():"function"===typeof t.onDestroy&&t.onDestroy()},Qr=function(t){delete t.params,delete ze.keydownHandler,delete ze.keydownTarget,Xr(ee),Xr(Nn)},Xr=function(t){for(var e in t)t[e]=new WeakMap},Jr=Object.freeze({hideLoading:fn,disableLoading:fn,getInput:pn,close:Pn,closePopup:Pn,closeModal:Pn,closeToast:Pn,enableButtons:Vn,disableButtons:Bn,enableInput:qn,disableInput:Wn,showValidationMessage:zn,resetValidationMessage:Hn,getProgressSteps:Kn,_main:Fr,update:Kr,_destroy:Gr}),Zr=function(){function t(){if(e(this,t),"undefined"!==typeof window){"undefined"===typeof Promise&&_("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),$r=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var a=this._main(this.params);ee.promise.set(this,a)}}return r(t,[{key:"then",value:function(t){return ee.promise.get(this).then(t)}},{key:"finally",value:function(t){return ee.promise.get(this).finally(t)}}]),t}();i(Zr.prototype,Jr),i(Zr,hn),Object.keys(Jr).forEach((function(t){Zr[t]=function(){var e;if($r)return(e=$r)[t].apply(e,arguments)}})),Zr.DismissReason=N,Zr.version="10.10.2";var ti=Zr;return ti.default=ti,ti}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#2778c4;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#d14529;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{display:none;align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return s}));var r=n(43),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var u=t,c=e,l=[],h=l,f=!1;function p(){h===l&&(h=l.slice())}function d(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function v(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return p(),h.push(t),function(){if(e){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,p();var n=h.indexOf(t);h.splice(n,1),l=null}}}function y(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,t)}finally{f=!1}for(var e=l=h,n=0;n<e.length;n++){(0,e[n])()}return t}function g(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,y({type:o.REPLACE})}function m(){var t,e=v;return(t={subscribe:function(t){if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t}return y({type:o.INIT}),(i={dispatch:y,subscribe:v,getState:d,replaceReducer:g})[r.a]=m,i}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"===typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(c){a=c}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],h=t[c],f=l(h,e);if("undefined"===typeof f){var p=u(c,e);throw new Error(p)}i[c]=f,r=r||f!==h}return(r=r||s.length!==Object.keys(t).length)?i:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function h(t,e){if("function"===typeof t)return l(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"===typeof i&&(n[r]=l(i,e))}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return d({},n,{dispatch:r=v.apply(void 0,o)(n.dispatch)})}}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(70)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commaDecimal=e.dotDecimal=e.farsiLocales=e.arabicLocales=e.englishLocales=e.decimal=e.alphanumeric=e.alpha=void 0;var r={"en-US":/^[A-Z]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03ce]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"vi-VN":/^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[\u05d0-\u05ea]+$/,fa:/^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc']+$/i};e.alpha=r;var i={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,"vi-VN":/^[0-9A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[0-9\u05d0-\u05ea]+$/,fa:/^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0']+$/i};e.alphanumeric=i;var o={"en-US":".",ar:"\u066b",fa:"\u066b"};e.decimal=o;var a=["AU","GB","HK","IN","NZ","ZA","ZM"];e.englishLocales=a;for(var s,u=0;u<a.length;u++)r[s="en-".concat(a[u])]=r["en-US"],i[s]=i["en-US"],o[s]=o["en-US"];var c=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];e.arabicLocales=c;for(var l,h=0;h<c.length;h++)r[l="ar-".concat(c[h])]=r.ar,i[l]=i.ar,o[l]=o.ar;var f=["IR","AF"];e.farsiLocales=f;for(var p,d=0;d<f.length;d++)r[p="fa-".concat(f[d])]=r.fa,i[p]=i.fa,o[p]=o.fa;var v=["ar-EG","ar-LB","ar-LY"];e.dotDecimal=v;var y=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-FR","it-IT","ku-IQ","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];e.commaDecimal=y;for(var g=0;g<v.length;g++)o[v[g]]=o["en-US"];for(var m=0;m<y.length;m++)o[y[m]]=",";r["pt-BR"]=r["pt-PT"],i["pt-BR"]=i["pt-PT"],o["pt-BR"]=o["pt-PT"],r["pl-Pl"]=r["pl-PL"],i["pl-Pl"]=i["pl-PL"],o["pl-Pl"]=o["pl-PL"]},function(t,e,n){"use strict";var r=n(33),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(e,g,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a}));var r=n(5),i=(n(48),n(74),n(75),n(0)),o=n(8),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(i.c)(e,t),e}(Error);var u=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var l=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return c(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?c(t,(function(t){return e.decode(t)})):t},t}();var h=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new l,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new u(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(s){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},t.prototype.call=function(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,u,c,l,h,p,d,v,y,g;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},u={},[4,this.contextProvider.getContext()];case 1:return(c=i.sent()).authToken&&(u.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(u["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=n.timeout||7e4,h=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new s("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(l),p=h.timer,d=h.promise,[4,Promise.race([f(p,this.postJSON(r,o,u)),d,f(p,this.cancelAllRequests)])];case 2:if(!(v=i.sent()))throw new s("cancelled","Firebase Functions instance was deleted.");if(y=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var u=e&&e.error;if(u){var c=u.status;if("string"===typeof c){if(!a[c])return new s("internal","internal");r=a[c],i=c}var l=u.message;"string"===typeof l&&(i=l),void 0!==(o=u.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new s(r,i,o)}(v.status,v.json,this.serializer))throw y;if(!v.json)throw new s("internal","Response is not valid JSON object.");if("undefined"===typeof(g=v.json.data)&&(g=v.json.result),"undefined"===typeof g)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},t}();function f(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:h};t.INTERNAL.registerComponent(new o.a("functions",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new h(r,i,o,n,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.a,fetch.bind(self)),r.a.registerVersion("@firebase/functions","0.6.1");var p,d=n(1),v=n(23),y="0.4.19",g=1e4,m="w:0.4.19",b="FIS_v2",w=36e5,_=((p={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',p["not-registered"]="Firebase Installation is not registered.",p["installation-not-found"]="Firebase Installation not found.",p["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',p["app-offline"]="Could not process request. Application offline.",p["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",p),E=new d.b("installations","Installations",_);function T(t){return t instanceof d.c&&t.code.includes("request-failed")}function I(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function S(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function C(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,E.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function O(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function k(t,e){var n=e.refreshToken,r=O(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function N(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function A(t,e){var n=e.fid;return Object(i.b)(this,void 0,void 0,(function(){var e,r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return e=I(t),r=O(t),o={fid:n,authVersion:b,appId:t.appId,sdkVersion:m},a={method:"POST",headers:r,body:JSON.stringify(o)},[4,N((function(){return fetch(e,a)}))];case 1:return(s=i.sent()).ok?[4,s.json()]:[3,3];case 2:return u=i.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:S(u.authToken)}];case 3:return[4,C("Create Installation",s)];case 4:throw i.sent()}}))}))}function x(t){return new Promise((function(e){setTimeout(e,t)}))}var P=/^[cdef][\w-]{21}$/;function R(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(i.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return P.test(e)?e:""}catch(n){return""}}function D(t){return t.appName+"!"+t.appId}var M=new Map;function L(t,e){var n=D(t);j(n,e),function(t,e){var n=U();n&&n.postMessage({key:t,fid:e});V()}(n,e)}function j(t,e){var n,r,o=M.get(t);if(o)try{for(var a=Object(i.h)(o),s=a.next();!s.done;s=a.next()){(0,s.value)(e)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var F=null;function U(){return!F&&"BroadcastChannel"in self&&((F=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){j(t.data.key,t.data.fid)}),F}function V(){0===M.size&&F&&(F.close(),F=null)}var B,q,W="firebase-installations-store",z=null;function H(){return z||(z=Object(v.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(W)}}))),z}function K(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=D(t),[4,H()];case 1:return r=i.sent(),o=r.transaction(W,"readwrite"),[4,(a=o.objectStore(W)).get(n)];case 2:return s=i.sent(),[4,a.put(e,n)];case 3:return i.sent(),[4,o.complete];case 4:return i.sent(),s&&s.fid===e.fid||L(t,e.fid),[2,e]}}))}))}function G(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return e=D(t),[4,H()];case 1:return n=i.sent(),[4,(r=n.transaction(W,"readwrite")).objectStore(W).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function $(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=D(t),[4,H()];case 1:return r=i.sent(),o=r.transaction(W,"readwrite"),[4,(a=o.objectStore(W)).get(n)];case 2:return s=i.sent(),void 0!==(u=e(s))?[3,4]:[4,a.delete(n)];case 3:return i.sent(),[3,6];case 4:return[4,a.put(u,n)];case 5:i.sent(),i.label=6;case 6:return[4,o.complete];case 7:return i.sent(),!u||s&&s.fid===u.fid||L(t,u.fid),[2,u]}}))}))}function Y(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r;return Object(i.d)(this,(function(o){switch(o.label){case 0:return[4,$(t,(function(n){var r=function(t){return J(t||{fid:R(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(E.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,A(t,e)];case 1:return n=i.sent(),[2,K(t,n)];case 2:return T(r=i.sent())&&409===r.customData.serverCode?[4,G(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,K(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Q(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Q(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,X(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,x(100)];case 3:return i.sent(),[4,X(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Y(t)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,e]}}))}))}function X(t){return $(t,(function(t){if(!t)throw E.create("installation-not-found");return J(t)}))}function J(t){return 1===(e=t).registrationStatus&&e.registrationTime+g<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function Z(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(i.b)(this,void 0,void 0,(function(){var t,o,a,s,u,c,l;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t=function(t,e){var n=e.fid;return I(t)+"/"+n+"/authTokens:generate"}(n,e),o=k(n,e),(a=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:m}},u={method:"POST",headers:o,body:JSON.stringify(s)},[4,N((function(){return fetch(t,u)}))];case 1:return(c=i.sent()).ok?[4,c.json()]:[3,3];case 2:return l=i.sent(),[2,S(l)];case 3:return[4,C("Generate Auth Token",c)];case 4:throw i.sent()}}))}))}function tt(t,e){return void 0===e&&(e=!1),Object(i.b)(this,void 0,void 0,(function(){var n,r,o;return Object(i.d)(this,(function(a){switch(a.label){case 0:return[4,$(t.appConfig,(function(r){if(!nt(r))throw E.create("not-registered");var o=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+w}(t)}(o))return r;if(1===o.requestStatus)return n=function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,et(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,x(100)];case 3:return i.sent(),[4,et(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,tt(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw E.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(i.a)(Object(i.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o;return Object(i.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,Z(t,e)];case 1:return n=a.sent(),o=Object(i.a)(Object(i.a)({},e),{authToken:n}),[4,K(t.appConfig,o)];case 2:return a.sent(),[2,n];case 3:return!T(r=a.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,G(t.appConfig)];case 4:return a.sent(),[3,7];case 5:return o=Object(i.a)(Object(i.a)({},e),{authToken:{requestStatus:0}}),[4,K(t.appConfig,o)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return[2,o]}}))}))}function et(t){return $(t,(function(t){if(!nt(t))throw E.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+g<Date.now()?Object(i.a)(Object(i.a)({},t),{authToken:{requestStatus:0}}):t}))}function nt(t){return void 0!==t&&2===t.registrationStatus}function rt(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,Y(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function it(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e){var n=e.fid;return I(t)+"/"+n}(t,e),r=k(t,e),o={method:"DELETE",headers:r},[4,N((function(){return fetch(n,o)}))];case 1:return(a=i.sent()).ok?[3,3]:[4,C("Delete Installation",a)];case 2:throw i.sent();case 3:return[2]}}))}))}function ot(t,e){var n=t.appConfig;return function(t,e){U();var n=D(t),r=M.get(n);r||(r=new Set,M.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=D(t),r=M.get(n);r&&(r.delete(e),0===r.size&&M.delete(n),V())}(n,e)}}function at(t){return E.create("missing-app-config-values",{valueName:t})}(B=r.a).INTERNAL.registerComponent(new o.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw at("App Configuration");if(!t.name)throw at("App Name");try{for(var r=Object(i.h)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var a=o.value;if(!t.options[a])throw at(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Y(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):tt(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,rt(t.appConfig)];case 1:return n.sent(),[4,tt(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,$(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw E.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw E.create("app-offline");case 3:return[4,it(e,n)];case 4:return r.sent(),[4,G(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return ot(n,t)}}}),"PUBLIC")),B.registerVersion("@firebase/installations",y);var st,ut=((q={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',q["only-available-in-window"]="This method is available in a Window context.",q["only-available-in-sw"]="This method is available in a service worker context.",q["permission-default"]="The notification permission was not granted and dismissed instead.",q["permission-blocked"]="The notification permission was not granted and blocked instead.",q["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",q["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",q["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",q["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",q["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",q["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",q["token-update-no-token"]="FCM returned no token when updating the user to push.",q["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",q["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",q["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",q["invalid-vapid-key"]="The public VAPID key must be a string.",q["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",q),ct=new d.b("messaging","Messaging",ut),lt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ht="google.c.a.c_id";function ft(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(i.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(st||(st={}));var dt="fcm_token_details_db",vt="fcm_token_object_Store";function yt(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=o.sent(),!e.map((function(t){return t.name})).includes(dt))return[2,null];o.label=2;case 2:return n=null,[4,Object(v.openDb)(dt,5,(function(e){return Object(i.b)(r,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(vt)?[4,(r=e.transaction.objectStore(vt)).index("fcmSenderId").get(t)]:[2];case 1:return o=i.sent(),[4,r.clear()];case 2:if(i.sent(),!o)return[2];if(2===e.oldVersion){if(!(a=o).auth||!a.p256dh||!a.endpoint)return[2];n={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:ft(a.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(a=o).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:ft(a.auth),p256dh:ft(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:ft(a.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,Object(v.deleteDb)(dt)];case 4:return o.sent(),[4,Object(v.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,Object(v.deleteDb)("undefined")];case 6:return o.sent(),[2,gt(n)?n:null]}}))}))}function gt(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var mt="firebase-messaging-store",bt=null;function wt(){return bt||(bt=Object(v.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(mt)}}))),bt}function _t(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return e=It(t),[4,wt()];case 1:return[4,i.sent().transaction(mt).objectStore(mt).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,yt(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Et(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Et(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=It(t),[4,wt()];case 1:return r=i.sent(),[4,(o=r.transaction(mt,"readwrite")).objectStore(mt).put(e,n)];case 2:return i.sent(),[4,o.complete];case 3:return i.sent(),[2,e]}}))}))}function Tt(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return e=It(t),[4,wt()];case 1:return n=i.sent(),[4,(r=n.transaction(mt,"readwrite")).objectStore(mt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function It(t){return t.appConfig.appId}function St(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Nt(t)];case 1:n=i.sent(),r=At(e),o={method:"POST",headers:n,body:JSON.stringify(r)},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(kt(t.appConfig),o)];case 3:return[4,i.sent().json()];case 4:return a=i.sent(),[3,6];case 5:throw s=i.sent(),ct.create("token-subscribe-failed",{errorInfo:s});case 6:if(a.error)throw u=a.error.message,ct.create("token-subscribe-failed",{errorInfo:u});if(!a.token)throw ct.create("token-subscribe-no-token");return[2,a.token]}}))}))}function Ct(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Nt(t)];case 1:n=i.sent(),r=At(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(kt(t.appConfig)+"/"+e.token,o)];case 3:return[4,i.sent().json()];case 4:return a=i.sent(),[3,6];case 5:throw s=i.sent(),ct.create("token-update-failed",{errorInfo:s});case 6:if(a.error)throw u=a.error.message,ct.create("token-update-failed",{errorInfo:u});if(!a.token)throw ct.create("token-update-no-token");return[2,a.token]}}))}))}function Ot(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Nt(t)];case 1:n=i.sent(),r={method:"DELETE",headers:n},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(kt(t.appConfig)+"/"+e,r)];case 3:return[4,i.sent().json()];case 4:if((o=i.sent()).error)throw a=o.error.message,ct.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=i.sent(),ct.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function kt(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Nt(t){var e=t.appConfig,n=t.installations;return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function At(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==lt&&(o.web.applicationPubKey=i),o}function xt(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:if("granted"!==Notification.permission)throw ct.create("permission-blocked");return[4,Mt(e,n)];case 1:return r=i.sent(),[4,_t(t)];case 2:return o=i.sent(),a={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:ft(r.getKey("auth")),p256dh:ft(r.getKey("p256dh"))},o?[3,3]:[2,Dt(t,a)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(o.subscriptionOptions,a))return[3,8];i.label=4;case 4:return i.trys.push([4,6,,7]),[4,Ot(t,o.token)];case 5:return i.sent(),[3,7];case 6:return s=i.sent(),console.warn(s),[3,7];case 7:return[2,Dt(t,a)];case 8:return Date.now()>=o.createTime+6048e5?[2,Rt({token:o.token,createTime:Date.now(),subscriptionOptions:a},t,e)]:[2,o.token];case 9:return[2]}}))}))}function Pt(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,_t(t)];case 1:return(n=i.sent())?[4,Ot(t,n.token)]:[3,4];case 2:return i.sent(),[4,Tt(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Rt(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,a;return Object(i.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Ct(e,t)];case 1:return r=s.sent(),o=Object(i.a)(Object(i.a)({},t),{token:r,createTime:Date.now()}),[4,Et(e,o)];case 2:return s.sent(),[2,r];case 3:return a=s.sent(),[4,Pt(e,n)];case 4:throw s.sent(),a;case 5:return[2]}}))}))}function Dt(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,St(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Et(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Mt(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pt(e)})]}}))}))}function Lt(t){return"object"===typeof t&&!!t&&ht in t}function jt(t){return new Promise((function(e){setTimeout(e,t)}))}var Ft=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw ct.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,_t(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:lt,r.label=2;case 2:return[2,xt(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Pt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw ct.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ct.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw ct.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw ct.create("only-available-in-window")},t.prototype.onMessage=function(){throw ct.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw ct.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,qt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,Bt(n,e)]:(r=!1,e.notification?[4,Wt(Ut(e))]:[3,3]);case 2:i.sent(),r=!0,i.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,jt(1e3)]);case 4:return i.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Pt(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,_t(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Pt(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,xt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:lt)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(o=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Lt(t.data)?self.location.origin:null}(r))?(a=new URL(o,self.location.href),s=new URL(self.location.origin),a.host!==s.host?[2]:[4,Vt(a)]):[2]):[2];case 1:return(u=i.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=i.sent(),[4,jt(3e3)];case 3:return i.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=i.sent(),i.label=6;case 6:return u?(r.messageType=st.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},t}();function Ut(t){var e,n=Object(i.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Vt(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r,o,a,s,u;return Object(i.d)(this,(function(c){switch(c.label){case 0:return[4,qt()];case 1:e=c.sent();try{for(n=Object(i.h)(e),r=n.next();!r.done;r=n.next())if(o=r.value,a=new URL(o.url,self.location.href),t.host===a.host)return[2,o]}catch(l){s={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Bt(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=st.PUSH_RECEIVED;try{for(var o=Object(i.h)(t),a=o.next();!a.done;a=o.next()){a.value.postMessage(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function qt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Wt(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var zt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===st.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Lt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw ct.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,xt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=lt),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw ct.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),ct.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Pt(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?ct.create("permission-blocked"):ct.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ct.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw ct.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw ct.create("invalid-sw-registration");if(this.swRegistration)throw ct.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw ct.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw ct.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Ht(t){return ct.create("missing-app-config-values",{valueName:t})}var Kt={isSupported:Gt};function Gt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.a.INTERNAL.registerComponent(new o.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Ht("App Configuration Object");if(!t.name)throw Ht("App Name");var r=t.options;try{for(var o=Object(i.h)(["projectId","apiKey","appId","messagingSenderId"]),a=o.next();!a.done;a=o.next()){var s=a.value;if(!r[s])throw Ht(s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Gt())throw ct.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ft(n):new zt(n)}),"PUBLIC").setServiceProps(Kt));var $t="firebasestorage.googleapis.com",Yt=function(t){function e(n,r){var i=t.call(this,ve(n),"Firebase Storage: "+r+" ("+ve(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(i.c)(e,t),e.prototype.codeEquals=function(t){return ve(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(d.c),Qt="unknown",Xt="object-not-found",Jt="quota-exceeded",Zt="unauthenticated",te="unauthorized",ee="retry-limit-exceeded",ne="canceled",re="invalid-url",ie="invalid-default-bucket",oe="no-default-bucket",ae="cannot-slice-blob",se="server-file-wrong-size",ue="no-download-url",ce="invalid-argument",le="app-deleted",he="invalid-root-operation",fe="invalid-format",pe="internal-error",de="unsupported-environment";function ve(t){return"storage/"+t}function ye(){return new Yt(Qt,"An unknown error occurred, please check the error payload for server response.")}function ge(){return new Yt(ne,"User canceled the upload/download.")}function me(){return new Yt(ae,"Cannot slice blob for upload. Please retry the upload.")}function be(t){return new Yt(ce,t)}function we(){return new Yt(le,"The Firebase app was deleted.")}function _e(t){return new Yt(he,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ee(t,e){return new Yt(fe,"String does not match format '"+t+"': "+e)}function Te(t){throw new Yt(pe,"Internal error: "+t)}var Ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Se=function(t,e){this.data=t,this.contentType=e||null};function Ce(t,e){switch(t){case Ie.RAW:return new Se(Oe(e));case Ie.BASE64:case Ie.BASE64URL:return new Se(ke(t,e));case Ie.DATA_URL:return new Se(function(t){var e=new Ne(t);return e.base64?ke(Ie.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Ee(Ie.DATA_URL,"Malformed data URL.")}return Oe(e)}(e.rest)}(e),new Ne(e).contentType)}throw ye()}function Oe(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ke(t,e){switch(t){case Ie.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Ee(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ie.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ee(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw Ee(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Ne=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Ee(Ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var Ae,xe={STATE_CHANGED:"state_changed"},Pe="running",Re="pausing",De="paused",Me="success",Le="canceling",je="canceled",Fe="error",Ue={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ve(t){switch(t){case Pe:case Re:case Le:return Ue.RUNNING;case De:return Ue.PAUSED;case Me:return Ue.SUCCESS;case je:return Ue.CANCELED;case Fe:default:return Ue.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ae||(Ae={}));var Be=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ae.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ae.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ae.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Te("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Te("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Te("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Te("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),qe=function(){function t(){}return t.prototype.createXhrIo=function(){return new Be},t}();function We(t){return"string"===typeof t||t instanceof String}function ze(t){return He()&&t instanceof Blob}function He(){return"undefined"!==typeof Blob}function Ke(t,e,n,r){if(r<e)throw new Yt(ce,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Yt(ce,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function Ge(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ge();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(He())return new Blob(t);throw new Yt(de,"This browser doesn't seem to support creating Blobs")}var Ye=function(){function t(t,e){var n=0,r="";ze(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ze(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(He()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t($e.apply(null,r))}var i=e.map((function(t){return We(t)?Ce(Ie.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Qe=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Yt(ie,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=$t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new t(h,f),c.postModify(n);break}}if(null==n)throw function(t){return new Yt(re,"Invalid URL '"+t+"'.")}(e);return n},t}();function Xe(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function Je(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ze(t){return"https://"+$t+"/v0"+t}function tn(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}function en(t,e){return e}var nn=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||en},rn=null;function on(){if(rn)return rn;var t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));var e=new nn("name");e.xform=function(t,e){return function(t){return!We(t)||t.length<2?t:Je(t)}(e)},t.push(e);var n=new nn("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),rn=t}function an(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Qe(n,r);return e.makeStorageReference(i)}})}(r,t),r}function sn(t,e,n){var r=Xe(e);return null===r?null:an(t,r,n)}function un(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function cn(t,e,n){var r=Xe(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new Qe(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new Qe(e,l.name)),r.items.push(s)}return r}(t,e,r)}var ln=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function hn(t){if(!t)throw ye()}function fn(t,e){return function(n,r){var i=sn(t,r,e);return hn(null!==i),i}}function pn(t,e){return function(n,r){var i=sn(t,r,e);return hn(null!==i),function(t,e){var n=Xe(e);if(null===n)return null;if(!We(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Ze("/b/"+i(n)+"/o/"+i(r))+tn({alt:"media",token:e})}))[0]}(i,r)}}function dn(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new Yt(Zt,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Yt(Jt,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Yt(te,"User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function vn(t){var e=dn(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Yt(Xt,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function yn(t,e,n){var r=Ze(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new ln(r,"GET",fn(t,n),i);return o.errorHandler=vn(e),o}function gn(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ze(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new ln(a,"GET",function(t,e){return function(n,r){var i=cn(t,e,r);return hn(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=dn(e),u}function mn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var bn=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function wn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){hn(!1)}return hn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var _n=262144;function En(t,e,n,r,i,o,a,s){var u=new bn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Yt(se,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw me();var v=e.maxUploadRetryTime,y=new ln(n,"POST",(function(t,n){var i,a=wn(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?fn(e,o)(t,n):null,new bn(s,c,"final"===a,i)}),v);return y.headers=p,y.body=d.uploadData(),y.progressCallback=s||null,y.errorHandler=dn(t),y}var Tn=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},In=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function Sn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Cn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=on(),this._resumable=this._shouldDoResumable(this._blob),this._state=Pe,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(ne)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(Fe))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(ne)?r.completeTransitions_():(r._error=t,r._transition(Fe))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Pe&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case Pe:t(n);break;case Le:e._transition(je);break;case Re:e._transition(De)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=mn(e,r,i),s={name:a.fullPath},u=Ze(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=un(a,n),h=t.maxUploadRetryTime,f=new ln(u,"POST",(function(t){var e;wn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){hn(!1)}return hn(We(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=dn(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new ln(n,"POST",(function(t){var e=wn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){hn(!1)}n||hn(!1);var i=Number(n);return hn(!isNaN(i)),new bn(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=dn(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=_n*this._chunkMultiplier,n=new bn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=En(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(s){return t._error=s,void t._transition(Fe)}var a=t._ref.storage.makeRequest(o,i);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(Me)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){_n*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=yn(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(Me)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=mn(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+un(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Ye.getBlob(c,r,l);if(null===h)throw me();var f={name:u.fullPath},p=Ze(o),d=t.maxUploadRetryTime,v=new ln(p,"POST",fn(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=dn(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(Me)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case Le:case Re:this._state=t,void 0!==this._request&&this._request.cancel();break;case Pe:var e=this._state===De;this._state=t,e&&(this._notifyObservers(),this._start());break;case De:this._state=t,this._notifyObservers();break;case je:this._error=ge(),this._state=t,this._notifyObservers();break;case Fe:case Me:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case Re:this._transition(De);break;case Le:this._transition(je);break;case Pe:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Ve(this._state);return new In(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Tn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Ve(this._state)){case Ue.SUCCESS:Sn(this._resolve.bind(null,this.snapshot))();break;case Ue.CANCELED:case Ue.ERROR:Sn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Ve(this._state)){case Ue.RUNNING:case Ue.PAUSED:t.next&&Sn(t.next.bind(t,this.snapshot))();break;case Ue.SUCCESS:t.complete&&Sn(t.complete.bind(t))();break;case Ue.CANCELED:case Ue.ERROR:t.error&&Sn(t.error.bind(t,this._error))();break;default:t.error&&Sn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===De||this._state===Re;return t&&this._transition(Pe),t},t.prototype.pause=function(){var t=this._state===Pe;return t&&this._transition(Re),t},t.prototype.cancel=function(){var t=this._state===Pe||this._state===Re;return t&&this._transition(Le),t},t}(),On=function(){function t(t,e){this._service=t,this._location=e instanceof Qe?e:Qe.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Qe(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Je(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Qe(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw _e(t)},t}();function kn(t){var e={prefixes:[],items:[]};return Nn(t,e).then((function(){return e}))}function Nn(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,An(t,{pageToken:n})];case 1:return r=i.sent(),(o=e.prefixes).push.apply(o,r.prefixes),(a=e.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,Nn(t,e,r.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function An(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&Ke("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=e||{},o=gn(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(o,n).getPromise()]}}))}))}function xn(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Ze(e.fullServerUrl()),o=un(n,r),a=t.maxOperationRetryTime,s=new ln(i,"PATCH",fn(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=vn(e),s}(t.storage,t._location,e,on()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}function Pn(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Ze(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new ln(r,"GET",pn(t,n),i);return o.errorHandler=vn(e),o}(t.storage,t._location,on()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Yt(ue,"The given file does not have any download URLs.");return t}))]}}))}))}function Rn(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Ze(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new ln(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=vn(e),i}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}function Dn(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Qe(t._location.bucket,n);return new On(t.storage,r)}var Mn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Ln=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Mn(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Mn(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Mn(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Mn(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),jn=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Fn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Fn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Fn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Dn(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Ln(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Cn(t,new Ye(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Ie.RAW),this._throwIfRoot("putString"),new Ln(function(t,e,n,r){void 0===n&&(n=Ie.RAW),t._throwIfRoot("putString");var o=Ce(n,e),a=Object(i.a)({},r);return null==a.contentType&&null!=o.contentType&&(a.contentType=o.contentType),new Cn(t,new Ye(o.data,!0),a)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return kn(this._delegate).then((function(e){return new jn(e,t.storage)}))},t.prototype.list=function(t){var e=this;return An(this._delegate,t).then((function(t){return new jn(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=yn(t.storage,t._location,on()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return xn(this._delegate,t)},t.prototype.getDownloadURL=function(){return Pn(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Rn(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw _e(t)},t}(),Un=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();var Vn=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=ye()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?we():ge()):o(r=new Yt(ee,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Bn(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){o=setTimeout((function(){o=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(i.g)([null,t],e));else{var o;u()||a?l.call.apply(l,Object(i.g)([null,t],e)):(r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o))}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new Bn(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ae.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new Bn(a,n))}else{var s=n.getErrorCode()===Ae.ABORT;e(!1,new Bn(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Bn=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function qn(t,e,n,i){var o=tn(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){var e="undefined"!==typeof r.a?r.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(s),new Vn(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}function Wn(t){return/^[A-Za-z]+:\/\//.test(t)}function zn(t,e){if(t instanceof Kn){var n=t;if(null==n._bucket)throw new Yt(oe,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new On(n,n._bucket);return null!=e?zn(r,e):r}if(void 0!==e){if(e.includes(".."))throw be('`path` param cannot contain ".."');return Dn(t,e)}return t}function Hn(t,e){if(e&&Wn(e)){if(t instanceof Kn)return new On(t,e);throw be("To use ref(service, url), the first argument must be a Storage instance.")}return zn(t,e)}var Kn=function(){function t(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qe.makeFromBucketSpec(r):function(t){var e=null===t||void 0===t?void 0:t.storageBucket;return null==e?null:Qe.makeFromBucketSpec(e)}(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ke("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ke("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new On(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Un(we());var r=qn(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),Gn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Wn(t))throw be("ref() expected a child path but got a URL, use refFromURL instead.");return new Fn(Hn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Wn(t))throw be("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qe.makeFromUrl(t)}catch(e){throw be("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fn(Hn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function $n(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Gn(n,new Kn(n,r,new qe,e))}!function(t){var e={TaskState:Ue,TaskEvent:xe,StringFormat:Ie,Storage:Kn,Reference:Fn};t.INTERNAL.registerComponent(new o.a("storage",$n,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(r.a);var Yn,Qn,Xn,Jn=n(9),Zn="0.4.4",tr=Zn,er="FB-PERF-TRACE-MEASURE",nr="_wt_",rr="_fcp",ir="_fid",or="@firebase/performance/config",ar="@firebase/performance/configexpire",sr="Performance",ur=((Yn={})["trace started"]="Trace {$traceName} was started before.",Yn["trace stopped"]="Trace {$traceName} is not running.",Yn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Yn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Yn["no window"]="Window is not available.",Yn["no app id"]="App id is not available.",Yn["no project id"]="Project id is not available.",Yn["no api key"]="Api key is not available.",Yn["invalid cc log"]="Attempted to queue invalid cc event",Yn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Yn["RC response not ok"]="RC response is not ok",Yn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Yn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Yn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Yn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Yn),cr=new d.b("performance",sr,ur),lr=new Jn.b(sr);lr.logLevel=Jn.a.INFO;var hr,fr=function(){function t(t){if(this.window=t,!t)throw cr.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(d.w)()||(lr.info("IndexedDB is not supported by current browswer"),!1):(lr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Qn&&(Qn=new t(Xn)),Qn},t}();function pr(t,e){var n=t.length-e.length;if(n<0||n>1)throw cr.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var dr,vr,yr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=pr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=pr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw cr.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw cr.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw cr.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===hr&&(hr=new t),hr},t}();function gr(){return dr}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(vr||(vr={}));var mr=["firebase_","google_","ga_"],br=new RegExp("^[a-zA-Z]\\w*$");function wr(){var t=fr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function _r(){switch(fr.getInstance().document.visibilityState){case"visible":return vr.VISIBLE;case"hidden":return vr.HIDDEN;default:return vr.UNKNOWN}}function Er(){var t=fr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Tr="0.0.1",Ir=!0,Sr="FIREBASE_INSTALLATIONS_AUTH";function Cr(t){var e=function(){var t=fr.getInstance().localStorage;if(!t)return;var e=t.getItem(ar);if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem(or);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return e?(kr(e),Promise.resolve()):function(t){return function(){var t=yr.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+yr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+yr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Sr+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:yr.getInstance().getAppId(),app_version:tr,sdk_version:Tr})});return fetch(r).then((function(t){if(t.ok)return t.json();throw cr.create("RC response not ok")}))})).catch((function(){lr.info(Or)}))}(t).then(kr).then((function(t){return function(t){var e=fr.getInstance().localStorage;if(!t||!e)return;e.setItem(or,JSON.stringify(t)),e.setItem(ar,String(Date.now()+60*yr.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var Or="Could not fetch config, will use default configs";function kr(t){if(!t)return t;var e=yr.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=Ir,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Nr(e.tracesSamplingRate),e.logNetworkAfterSampling=Nr(e.networkRequestsSamplingRate),t}function Nr(t){return Math.random()<=t}var Ar,xr=1;function Pr(){return xr=2,Ar=Ar||function(){var t=fr.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return function(){var t=yr.getInstance().installationsService.getId();return t.then((function(t){dr=t})),t}()})).then((function(t){return Cr(t)})).then((function(){return Rr()}),(function(){return Rr()}))}function Rr(){xr=3}var Dr,Mr=1e4,Lr=3,jr=[],Fr=!1;function Ur(t){setTimeout((function(){if(0!==Lr)return jr.length?void function(){var t=Object(i.g)(jr);jr=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=yr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||lr.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Mr;isNaN(n)||(r=Math.max(n,r));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(jr=Object(i.g)(e,jr),lr.info("Retry transport request later.")),Lr=3,Ur(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:yr.getInstance().logSource,log_event:e},t).catch((function(){jr=Object(i.g)(t,jr),Lr--,lr.info("Tries left: "+Lr+"."),Ur(Mr)}))}():Ur(Mr)}),t)}function Vr(t){if(!t.eventTime||!t.message)throw cr.create("invalid cc log");jr=Object(i.g)(jr,[t])}function Br(t,e){Dr||(Dr=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Vr({message:t.apply(void 0,e),eventTime:Date.now()})}}(zr)),Dr(t,e)}function qr(t){var e=yr.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&fr.getInstance().requiredApisAvailable()&&(t.isAuto&&_r()!==vr.VISIBLE||(3===xr?Wr(t):Pr().then((function(){return Wr(t)}),(function(){return Wr(t)}))))}function Wr(t){if(gr()){var e=yr.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Br(t,1)}),0)}}function zr(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:Hr(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Hr(),trace_metric:e};return JSON.stringify(r)}(t)}function Hr(){return{google_app_id:yr.getInstance().getAppId(),app_instance_id:gr(),web_app_info:{sdk_version:tr,page_url:fr.getInstance().getUrl(),service_worker_status:wr(),visibility_state:_r(),effective_connection_type:Er()},application_process_state:0}}var Kr=["_fp",rr,ir];var Gr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=fr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw cr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw cr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),qr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw cr.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw cr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(i.a)({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var a=o[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}qr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(nr)&&Kr.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw cr.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function(t){var e=Math.floor(t);return e<t&&lr.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&!mr.some((function(e){return t.startsWith(e)}))&&!!t.match(br)}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw cr.create("invalid attribute name",{attributeName:t});if(!r)throw cr.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(i.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=fr.getInstance().getUrl();if(i){var o=new t(nr+i,!0),a=Math.floor(1e3*fr.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(rr,Math.floor(1e3*u.startTime)),r&&o.putMetric(ir,Math.floor(1e3*r))}qr(o)}},t.createUserTimingTrace=function(e){qr(new t(e,!1,e))},t}();function $r(t){var e=t;if(e&&void 0!==e.responseStart){var n=fr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=yr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Br(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Yr(){gr()&&(setTimeout((function(){return function(){var t=fr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Gr.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Gr.createOobTrace(e,n,t))}))}else Gr.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=fr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){$r(r[n])}t.setupObserver("resource",$r)}()}),0),setTimeout((function(){return function(){for(var t=fr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Qr(r[n])}t.setupObserver("measure",Qr)}()}),0))}function Qr(t){var e=t.name;e.substring(0,er.length)!==er&&Gr.createUserTimingTrace(e)}var Xr=function(){function t(t){this.app=t,fr.getInstance().requiredApisAvailable()&&Object(d.N)().then((function(t){t&&(Fr||(Ur(5500),Fr=!0),Pr().then(Yr,Yr))})).catch((function(t){lr.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Gr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return yr.getInstance().instrumentationEnabled},set:function(t){yr.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return yr.getInstance().dataCollectionEnabled},set:function(t){yr.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw cr.create("FB not default");if("undefined"===typeof window)throw cr.create("no window");return function(t){Xn=t}(window),yr.getInstance().firebaseAppInstance=t,yr.getInstance().installationsService=e,new Xr(t)};t.INTERNAL.registerComponent(new o.a("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",Zn)}(r.a);var Jr,Zr,ti="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Jr||(Jr={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Zr||(Zr={}));var ei,ni=new Jn.b("@firebase/analytics");function ri(t,e,n,r,o,a){return Object(i.b)(this,void 0,void 0,(function(){var s,u,c,l;return Object(i.d)(this,(function(i){switch(i.label){case 0:s=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=i.sent(),(c=u.find((function(t){return t.measurementId===o})))?[4,e[c.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return l=i.sent(),ni.error(l),[3,8];case 8:return t(Jr.CONFIG,o,a),[2]}}))}))}function ii(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f,p;return Object(i.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),a=[],o&&o.send_to?(s=o.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(u=i.sent(),c=function(t){var n=u.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return a=[],"break";a.push(r)},l=0,h=s;l<h.length&&(f=h[l],"break"!==c(f));l++);i.label=2;case 2:return 0===a.length&&(a=Object.values(e)),[4,Promise.all(a)];case 3:return i.sent(),t(Jr.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),ni.error(p),[3,5];case 5:return[2]}}))}))}function oi(t,e,n,r,o){var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(a=window[o]),window[o]=function(t,e,n,r){return function(o,a,s){return Object(i.b)(this,void 0,void 0,(function(){var u;return Object(i.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==Jr.EVENT?[3,2]:[4,ii(t,e,n,a,s)];case 1:return i.sent(),[3,5];case 2:return o!==Jr.CONFIG?[3,4]:[4,ri(t,e,n,r,a,s)];case 3:return i.sent(),[3,5];case 4:t(Jr.SET,a),i.label=5;case 5:return[3,7];case 6:return u=i.sent(),ni.error(u),[3,7];case 7:return[2]}}))}))}}(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}var ai=((ei={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ei["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ei["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ei["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ei["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ei["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ei["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ei),si=new d.b("analytics","Analytics",ai),ui=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function ci(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function li(t){var e;return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:return n=t.appId,r=t.apiKey,o={method:"GET",headers:ci(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(a,o)];case 1:if(200===(s=i.sent()).status||304===s.status)return[3,6];u="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,s.json()];case 3:return c=i.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(u=c.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw si.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 6:return[2,s.json()]}}))}))}function hi(t,e,n,r){var o=e.throttleEndTimeMillis,a=e.backoffCount;return void 0===r&&(r=ui),Object(i.b)(this,void 0,void 0,(function(){var e,s,u,c,l,h,f;return Object(i.d)(this,(function(i){switch(i.label){case 0:e=t.appId,s=t.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fi(n,o)];case 2:return i.sent(),[3,4];case 3:if(u=i.sent(),s)return ni.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u;case 4:return i.trys.push([4,6,,7]),[4,li(t)];case 5:return c=i.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof d.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=i.sent())){if(r.deleteThrottleMetadata(e),s)return ni.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:s}];throw l}return h=503===Number(l.customData.httpStatus)?Object(d.j)(a,r.intervalMillis,30):Object(d.j)(a,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},r.setThrottleMetadata(e,f),ni.debug("Calling attemptFetch again in "+h+" millis"),[2,hi(t,f,n,r)];case 7:return[2]}}))}))}function fi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(si.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var pi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function di(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return Object(i.d)(this,(function(p){switch(p.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=ui),Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l=this;return Object(i.d)(this,(function(h){if(r=t.options,o=r.appId,a=r.apiKey,s=r.measurementId,!o)throw si.create("no-app-id");if(!a){if(s)return[2,{measurementId:s,appId:o}];throw si.create("no-api-key")}return u=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new pi,setTimeout((function(){return Object(i.b)(l,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return c.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,hi({appId:o,apiKey:a,measurementId:s},u,c,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ni.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ni.error(t)})),e.push(a),s=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return Object(d.w)()?[3,1]:(ni.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(d.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ni.warn(si.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=p.sent(),c=u[0],l=u[1],o("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),o(Jr.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var vi,yi,gi={},mi=[],bi={},wi="dataLayer",_i="gtag",Ei=!1;function Ti(t){if(Ei)throw si.create("already-initialized");t.dataLayerName&&(wi=t.dataLayerName),t.gtagName&&(_i=t.gtagName)}function Ii(t,e){!function(){var t=[];if(Object(d.s)()&&t.push("This is a browser extension environment."),Object(d.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=si.create("invalid-analytics-context",{errorInfo:e});ni.warn(n.message)}}();var n=t.options.appId;if(!n)throw si.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw si.create("no-api-key");ni.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=gi[n])throw si.create("already-exists",{id:n});if(!Ei){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ti))return r}return null})()||function(t){var e=document.createElement("script");e.src=ti+"?l="+t,e.async=!0,document.head.appendChild(e)}(wi),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(wi);var r=oi(gi,mi,bi,wi,_i),o=r.wrappedGtag,a=r.gtagCore;yi=o,vi=a,Ei=!0}return gi[n]=di(t,mi,bi,e,vi),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,o){return Object(i.b)(this,void 0,void 0,(function(){var a,s;return Object(i.d)(this,(function(u){switch(u.label){case 0:return o&&o.global?(t(Jr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:a=u.sent(),s=Object(i.a)(Object(i.a)({},r),{send_to:a}),t(Jr.EVENT,n,s),u.label=3;case 3:return[2]}}))}))})(yi,gi[n],t,e,r).catch((function(t){return ni.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,(function(){var o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(Jr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(Jr.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(yi,gi[n],t,e).catch((function(t){return ni.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,(function(){var o;return Object(i.d)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(Jr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(Jr.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(yi,gi[n],t,e).catch((function(t){return ni.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(i.b)(this,void 0,void 0,(function(){var o,a,s,u,c;return Object(i.d)(this,(function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},a=0,s=Object.keys(n);a<s.length;a++)u=s[a],o["user_properties."+u]=n[u];return t(Jr.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:c=i.sent(),t(Jr.CONFIG,c,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}}))}))})(yi,gi[n],t,e).catch((function(t){return ni.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(gi[n],t).catch((function(t){return ni.error(t)}))},INTERNAL:{delete:function(){return delete gi[n],Promise.resolve()}}}}var Si="analytics";function Ci(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:if(Object(d.s)())return[2,!1];if(!Object(d.e)())return[2,!1];if(!Object(d.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(d.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new o.a(Si,(function(t){return Ii(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ti,EventName:Zr,isSupported:Ci})),t.INTERNAL.registerComponent(new o.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Si).getImmediate().logEvent}}catch(e){throw si.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(r.a);var Oi,ki=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=i.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=i.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return i.sent(),[2,o]}}))}))},t}(),Ni=((Oi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Oi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Oi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Oi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Oi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Oi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Oi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Oi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Oi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Oi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Oi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Oi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Oi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Oi),Ai=new d.b("remoteconfig","Remote Config",Ni);var xi=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n,r,o,a,s,u,c,l,h,f,p,d,v,y,g,m,b,w;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=i.sent(),n=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(a,c),h=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return i.sent(),[4,l];case 4:return f=i.sent(),[3,6];case 5:throw p=i.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),Ai.create(d,{originalErrorMessage:p.message});case 6:if(v=f.status,y=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,f.json()];case 8:return b=i.sent(),[3,10];case 9:throw w=i.sent(),Ai.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:g=b.entries,m=b.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==v&&200!==v)throw Ai.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:y,config:g}]}var _}))}))},t}(),Pi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Ri=["1","true","t","yes","y","on"],Di=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Ri.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Mi=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Jn.a.DEBUG;break;case"silent":this._logger.logLevel=Jn.a.SILENT;break;default:this._logger.logLevel=Jn.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e,n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(i.d)(this,(function(o){switch(o.label){case 0:t=new Pi,setTimeout((function(){return Object(i.b)(r,void 0,void 0,(function(){return Object(i.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),s="fetch-throttle",n=(a=e)instanceof d.c&&-1!==a.code.indexOf(s)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}var a,s}))}))},t.prototype.fetchAndActivate=function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(i.a)(Object(i.a)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Di("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Di("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Di("static"))},t}();function Li(t,e){var n=t.target.error||void 0;return Ai.create(e,{originalErrorMessage:n&&n.message})}var ji="app_namespace_store";var Fi=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(Li(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(ji,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n=this;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([ji],"readonly").objectStore(ji),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(Li(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(u){i(Ai.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r=this;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([ji],"readwrite").objectStore(ji),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(Li(t,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(Ai.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,n=this;return Object(i.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([ji],"readwrite").objectStore(ji),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(Li(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(Ai.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Ui=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e,n,r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=i.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(a=i.sent())&&(this.activeConfig=a),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Vi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Ai.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Bi,qi=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(i.b)(this,void 0,void 0,(function(){var e,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Vi(t.signal,n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof d.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o=i.sent()))throw o;return a={throttleEndTimeMillis:Date.now()+Object(d.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return i.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}}))}))},t}(),Wi="@firebase/remote-config";(Bi=r.a).INTERNAL.registerComponent(new o.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Ai.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw Ai.create("registration-project-id");if(!a)throw Ai.create("registration-api-key");if(!s)throw Ai.create("registration-app-id");e=e||"firebase";var u=new Fi(s,n.name,e),c=new Ui(u),l=new Jn.b(Wi);l.logLevel=Jn.a.ERROR;var h=new xi(r,Bi.SDK_VERSION,e,o,a,s),f=new qi(h,u),p=new ki(f,u,c,l),d=new Mi(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),Bi.registerVersion(Wi,"0.1.30");r.a.registerVersion("firebase","8.0.2","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.a.registerVersion("firebase","8.0.2")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(e),!(n=String(n)))return t(e,4)||t(e,6);if("4"===n){if(!o.test(e))return!1;var r=e.split(".").sort((function(t,e){return t-e}));return r[3]<=255}if("6"===n){var s=[e];if(e.includes("%")){if(2!==(s=e.split("%")).length)return!1;if(!s[0].includes(":"))return!1;if(""===s[1])return!1}var u=s[0].split(":"),c=!1,l=t(u[u.length-1],4),h=l?7:8;if(u.length>h)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(u.shift(),u.shift(),c=!0):"::"===e.substr(e.length-2)&&(u.pop(),u.pop(),c=!0);for(var f=0;f<u.length;++f)if(""===u[f]&&f>0&&f<u.length-1){if(c)return!1;c=!0}else if(l&&f===u.length-1);else if(!a.test(u[f]))return!1;return c?u.length>=1:u.length===h}return!1};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,a=/^[0-9A-F]{1,4}$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(67)},function(t,e,n){"use strict";t.exports=n(72)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(29);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),t=Date.parse(t),isNaN(t)?null:new Date(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,r.default)(t),(e=(0,i.default)(e,a)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));for(var n=t.split("."),o=0;o<n.length;o++)if(n[o].length>63)return!1;if(e.require_tld){var s=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20\u00A9\uFFFD]/.test(s))return!1}for(var u,c=0;c<n.length;c++){if(u=n[c],e.allow_underscores&&(u=u.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(u))return!1;if(/[\uff01-\uff5e]/.test(u))return!1;if("-"===u[0]||"-"===u[u.length-1])return!1}return!0};var r=o(n(4)),i=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){return t.some((function(t){return e===t}))};e.default=r,t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";(function(t,r){var i,o=n(61);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(25),n(47)(t))},function(t,e,n){"use strict";(function(t){var r=n(3),i=n.n(r),o=n(15),a=n(26),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var h=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=l(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:f}};e.a=h}).call(this,n(25))},function(t,e,n){var r=n(78);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=d&&d!==v,E="+"===b||"*"===b,T="?"===b||"*"===b,I=n[2]||l,S=g||m;r.push({name:y||o++,prefix:v||"",delimiter:I,optional:T,repeat:E,partial:_,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(I)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(29);var i=n(34);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";(function(t){var e=n(5);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Pa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function O(t,e,n){this.code=A+t,this.message=e||x[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new O(e.substring(A.length),t.message,t.serverResponse):null}S(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var N,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function j(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}N=R("__EID__")?"__EID__":void 0,S(M,Error),M.prototype.name="CustomError",S(L,M),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new F((function(){return new W}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function W(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},W.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},$=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=z(t,e)}function Q(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=Tt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Tt={},It={};function St(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Ct(t,e){this.a=e===xt?t:""}function Ot(t){return t instanceof Ct&&t.constructor===Ct?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ct(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Pt(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Pt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Dt.test(e[1])?new Pt(t,Ut):null}return t}function Ft(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Ut))}var Ut={},Vt=new Pt("about:invalid#zClosurez",Ut);function Bt(t,e,n){this.a=n===qt?t:""}Bt.prototype.sa=!0,Bt.prototype.ra=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Wt(t,e,n,r){return t=t instanceof Pt?t:Ft(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var Gt,$t=pt("Opera"),Yt=pt("Trident")||pt("MSIE"),Qt=pt("Edge"),Xt=Qt||Yt,Jt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):$t?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Gt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&Yt){var se=te();ie=se||(parseInt(Gt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var ce=!Yt||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function he(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}H(a?Z(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function me(t,e){pe||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!pt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new V;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}U(B,t)}be=!1}function Ee(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Le(n,Ie,t)}),(function(t){if(!(t instanceof We))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Se,t)}))}catch(r){Le(this,Se,r)}}var Te=0,Ie=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new F((function(){return new Ce}),(function(t){t.reset()}));function ke(t,e,n){var r=Oe.get();return r.g=t,r.b=e,r.f=n,r}function Ne(t){if(t instanceof Ee)return t;var e=new Ee(f);return Le(e,Ie,t),e}function Ae(t){return new Ee((function(e,n){n(t)}))}function xe(t,e,n){je(t,e,n,null)||me(T(e,t))}function Pe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],T(i,o,!0),T(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Te&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Ve(n,i,Se,e)))}t.c=null}else Le(t,Se,e)}function De(t,e){t.b||t.a!=Ie&&t.a!=Se||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Me(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof We?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,De(t,i),i.a}function Le(t,e,n){t.a==Te&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Se||n instanceof We||function(t,e){t.g=!0,me((function(){t.g&&qe.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof Ee)return De(t,ke(e||f,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,me(t.fc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(i){qe.call(null,i)}U(Oe,e)}function Be(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Me(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).na=function(t,e){return(t=ke(t,t,e)).c=!0,De(this,t),this},n.s=function(t,e){return Me(this,null,t,e)},n.cancel=function(t){if(this.a==Te){var e=new We(t);me((function(){Re(this,e)}),this)}},n.Zc=function(t){this.a=Te,Le(this,Ie,t)},n.$c=function(t){this.a=Te,Le(this,Se,t)},n.fc=function(){for(var t;t=Ue(this);)Ve(this,t,this.a,this.i);this.h=!1};var qe=ge;function We(t){M.call(this,t)}function ze(){0!=He&&(Ke[g(this)]=this),this.xa=this.xa,this.oa=this.oa}S(We,M),We.prototype.name="cancel";var He=0,Ke={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=g(t);if(0!=He&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var $e=Object.freeze||function(t){return t},Ye=!Yt||9<=Number(ue),Qe=Yt&&!ae("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(n){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,Je);var tn=$e({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=En(n),t&&t[en]?In(t,e,n,y(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,y(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in ln?ln[t]:ln[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Tn(){ze.call(this),this.v=new an(this),this.$b=this,this.fb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function On(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=On((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(Tn,ze),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;mt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(n=xn.prototype).V=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Pn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},n.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Mn?(this.i=void 0!==e?e:t.i,Ln(this,t.f),this.l=t.l,this.a=t.a,jn(this,t.g),this.c=t.c,Fn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),jn(this,n[4]),this.c=Wn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Ln(t,e,n){t.f=n?Wn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Yn)),t.b=new Xn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function Bn(t){return t instanceof Mn?new Mn(t):new Mn(t,void 0)}function qn(t,e,n,r){var i=new Mn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.c=r),i}function Wn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?$n:Gn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Qn)),t.join("")},Mn.prototype.resolve=function(t){var e=new Mn(this),n=!!t.f;n?Ln(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)jn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Fn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,$n=/[#\?]/g,Yn=/[#\?@]/g,Qn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Jn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function er(t,e){return Jn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(n=Xn.prototype).add=function(t,e){Jn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.V=function(t){Jn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=J(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Jn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=xr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(jt(t)||Vt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||u.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(xr())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:jt("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Ft(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Wt("",r,n,a),t=Rt(e),a&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=St())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Wt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).s((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||xr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var Cr="Firefox",Or="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Cr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Nr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=kr(i=xr()):"Worker"===r&&(r=kr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return u.navigator&&u.navigator.userAgent||""}function Pr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Dr(){return(Mr()||"chrome-extension:"===Lr()||_r())&&!Sr()&&Rr()&&!Tr()}function Mr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function jr(t){return!vr(t=t||xr())&&kr(t)!=Cr}function Fr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=kr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Wr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function zr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Ir(),this.b=vr(t)||"ReactNative"===e}function Hr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t)}function Gr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function $r(){return!(!Pr("fireauth.oauthhelper",u)&&!Pr("fireauth.iframe",u))}zr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Mr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Qr={};function Xr(t){Qr[t]||(Qr[t]=!0,Kr(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Jr.abcd}catch(pa){Yr=!1}function Zr(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ti(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zr(t,n,e[n])}function ei(t){var e={};return ti(e,t),e}function ni(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Zr(e,n,ni(t[n]));return e}function ri(t){var e=t&&(t[ui]?"phone":null);if(!(e&&t&&t[si]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Zr(this,"uid",t[si]),Zr(this,"displayName",t[oi]||null);var n=null;t[ai]&&(n=new Date(t[ai]).toUTCString()),Zr(this,"enrollmentTime",n),Zr(this,"factorId",e)}function ii(t){try{var e=new ci(t)}catch(n){e=null}return e}ri.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oi="displayName",ai="enrolledAt",si="mfaEnrollmentId",ui="phoneInfo";function ci(t){ri.call(this,t),Zr(this,"phoneNumber",t[ui])}function li(t){var e={},n=t[di],r=t[yi],i=t[gi];if(t=ii(t[vi]),!i||i!=fi&&i!=pi&&!n||i==pi&&!r||i==hi&&!t)throw Error("Invalid checkActionCode response!");i==pi?(e[bi]=n||null,e[_i]=n||null,e[mi]=r):(e[bi]=r||null,e[_i]=r||null,e[mi]=n||null),e[wi]=t||null,Zr(this,Ti,i),Zr(this,Ei,ni(e))}S(ci,ri),ci.prototype.w=function(){var t=ci.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",di="email",vi="mfaInfo",yi="newEmail",gi="requestType",mi="email",bi="fromEmail",wi="multiFactorInfo",_i="previousEmail",Ei="data",Ti="operation";function Ii(t){var e=Vn(t=Bn(t),Si)||null,n=Vn(t,Ci)||null,r=Vn(t,Ni)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new O("argument-error",Si+", "+Ci+"and "+Ni+" are required in a valid action code URL.");ti(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Oi)||null,languageCode:Vn(t,ki)||null,tenantId:Vn(t,Ai)||null})}var Si="apiKey",Ci="oobCode",Oi="continueUrl",ki="languageCode",Ni="mode",Ai="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ii(t)}catch(e){return null}}function Ri(t){var e=t[Fi];if("undefined"===typeof e)throw new O("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"===typeof n){e=n[Bi];var r=n[Ui];if(n=n[Vi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new O("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new O("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new O("argument-error",Bi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new O("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new O("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[ji])&&"object"===typeof e){if("string"===typeof(e=e[qi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new O("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new O("argument-error",ji+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Li])&&"boolean"!==typeof e)throw new O("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Mi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new O("argument-error",Mi+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Mi="dynamicLinkDomain",Li="handleCodeInApp",ji="iOS",Fi="url",Ui="installApp",Vi="minimumVersion",Bi="packageName",qi="bundleId";function Wi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var zi=null;function Hi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!zi){zi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ki(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,I(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Gi(t){try{return new Ki(t)}catch(e){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Hi(t))}catch(r){}return null}Ki.prototype.S=function(){return this.f},Ki.prototype.i=function(){return this.b},Ki.prototype.toString=function(){return this.g};var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Xi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Qi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Qi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Qi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Yi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Ji(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function Zi(t){var e={};e["facebook.com"]=io,e["google.com"]=ao,e["github.com"]=oo,e["twitter.com"]=so;var n=t&&t[eo];try{if(n)return e[n]?new e[n](t):new ro(t);if("undefined"!==typeof t[to])return new no(t)}catch(r){}return null}var to="idToken",eo="providerId";function no(t){var e=t[eo];if(!e&&t[to]){var n=Gi(t[to]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Zr(this,"providerId",e),Zr(this,"isNewUser",n)}function ro(t){no.call(this,t),Zr(this,"profile",ni((t=Vr(t.rawUserInfo||"{}"))||{}))}function io(t){if(ro.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(ro.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",this.profile&&this.profile.login||null)}function ao(t){if(ro.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(ro.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zr(this,"username",t.screenName||null)}function uo(t){var e=Bn(t),n=Vn(e,"link"),r=Vn(Bn(n),"link");return e=Vn(e,"deep_link_id"),Vn(Bn(e),"link")||e||r||n||t}function co(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?lo:ho}S(ro,no),S(io,ro),S(oo,ro),S(ao,ro),S(so,ro);var lo="enroll",ho="signin";function fo(){}function po(t,e){return t.then((function(t){if(t[rs]){var n=Gi(t[rs]);if(!n||e!=n.h)throw new O("user-mismatch");return t}throw new O("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new O("user-mismatch"):t}))}function vo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Zr(this,"providerId",t),Zr(this,"signInMethod",t)}function yo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function go(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new vo(t.providerId,t.pendingToken)}catch(e){}return null}function mo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Zr(this,"idToken",e.idToken),e.accessToken&&Zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Zr(this,"accessToken",e.oauthToken),Zr(this,"secret",e.oauthTokenSecret)}Zr(this,"providerId",t),Zr(this,"signInMethod",n)}function bo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function wo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new mo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function _o(t,e){this.Pc=e||[],ti(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Ji(t)||{}).Ja||null,this.nb=null}function Eo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,t,[])}function To(t){_o.call(this,t,Qi),this.a=[]}function Io(){To.call(this,"facebook.com")}function So(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function Co(){To.call(this,"github.com")}function Oo(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function ko(){To.call(this,"google.com"),this.Ca("profile")}function No(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new ko).credential({idToken:n,accessToken:e})}function Ao(){_o.call(this,"twitter.com",Yi)}function xo(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function Po(t,e,n){this.a=t,this.f=e,Zr(this,"providerId","password"),Zr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ro(t){return t&&t.email&&t.password?new Po(t.email,t.password,t.signInMethod):null}function Do(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Mo(t,e){if(!(e=Lo(e)))throw new O("argument-error","Invalid email link!");return new Po(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Pi(t=uo(t)))&&t.operation===fi?t:null}function jo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new O("internal-error");this.a=t,Zr(this,"providerId","phone"),this.fa="phone",Zr(this,"signInMethod","phone")}function Fo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new jo(e)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Vo(t){try{this.a=t||e.a.auth()}catch(n){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function Bo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new jo({cb:t,bb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new jo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return No(o,n);case"facebook.com":return So(n);case"github.com":return Oo(n);case"twitter.com":return xo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new vo(e,a):new mo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new To(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Wo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function zo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function Ho(t){return(t=t||{}).type?new zo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}co.prototype.Ha=function(){return this.a?Ne(this.a):Ne(this.b)},co.prototype.w=function(){return this.type==lo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fo.prototype.ja=function(){},fo.prototype.b=function(){},fo.prototype.c=function(){},fo.prototype.w=function(){},vo.prototype.ja=function(t){return Ss(t,yo(this))},vo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Cs(t,n)},vo.prototype.c=function(t,e){return po(Os(t,yo(this)),e)},vo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ja=function(t){return Ss(t,bo(this))},mo.prototype.b=function(t,e){var n=bo(this);return n.idToken=e,Cs(t,n)},mo.prototype.c=function(t,e){return po(Os(t,bo(this)),e)},mo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},_o.prototype.Ka=function(t){return this.Hb=yt(t),this},S(Eo,_o),S(To,_o),To.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},To.prototype.Pb=function(){return Z(this.a)},To.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},S(Io,To),Zr(Io,"PROVIDER_ID","facebook.com"),Zr(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(Co,To),Zr(Co,"PROVIDER_ID","github.com"),Zr(Co,"GITHUB_SIGN_IN_METHOD","github.com"),S(ko,To),Zr(ko,"PROVIDER_ID","google.com"),Zr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Ao,_o),Zr(Ao,"PROVIDER_ID","twitter.com"),Zr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),Po.prototype.ja=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?uu(t,Ms,{email:this.a,oobCode:this.f}):uu(t,ru,{email:this.a,password:this.f})},Po.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?uu(t,Ls,{idToken:e,email:this.a,oobCode:this.f}):uu(t,Ys,{idToken:e,email:this.a,password:this.f})},Po.prototype.c=function(t,e){return po(this.ja(t),e)},Po.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Do,{PROVIDER_ID:"password"}),ti(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),jo.prototype.ja=function(t){return t.eb(Uo(this))},jo.prototype.b=function(t,e){var n=Uo(this);return n.idToken=e,uu(t,ou,n)},jo.prototype.c=function(t,e){var n=Uo(this);return n.operation="REAUTH",po(t=uu(t,au,n),e)},jo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Vo.prototype.eb=function(t,e){var n=this.a.a;return Ne(e.verify()).then((function(r){if("string"!==typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==lo?i.Ha().then((function(t){return function(t,e){return uu(t,Xs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ho?i.Ha().then((function(e){return function(t,e){return uu(t,Js,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return uu(t,Gs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ti(Vo,{PROVIDER_ID:"phone"}),ti(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),zo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},zo.prototype.S=function(){return this.h},zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Go,$o=null;function Yo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.f)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Qo(t,e,n){O.call(this,t,n),(t=e||{}).Ib&&Zr(this,"email",t.Ib),t.ea&&Zr(this,"phoneNumber",t.ea),t.credential&&Zr(this,"credential",t.credential),t.Yb&&Zr(this,"tenantId",t.Yb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:qo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Qo(e,n,t.message)}return null}function Jo(){}function Zo(t){return t.c||(t.c=t.b())}function ta(){}function ea(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function na(){}function ra(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.pc,this),this.a.onerror=E(this.Rb,this),this.a.onprogress=E(this.qc,this),this.a.ontimeout=E(this.uc,this)}function ia(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function oa(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Yo,O),S(Qo,O),Qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Qo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,S(ta,Jo),ta.prototype.a=function(){var t=ea(this);return t?new ActiveXObject(t):new XMLHttpRequest},ta.prototype.b=function(){var t={};return ea(this)&&(t[0]=!0,t[1]=!0),t},Go=new ta,S(na,Jo),na.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ra;throw Error("Unsupported browser")},na.prototype.b=function(){return{}},(n=ra.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ia(this,4)},n.Rb=function(){this.status=500,this.response=this.responseText="",ia(this,4)},n.uc=function(){this.Rb()},n.qc=function(){this.status=200,ia(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},oa.prototype.a=null;function aa(t){this.f=t,this.b=this.c=this.a=null}function sa(t,e){this.name=t,this.value=e}oa.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},sa.prototype.toString=function(){return this.name};var ua=new sa("SEVERE",1e3),ca=new sa("WARNING",900),la=new sa("CONFIG",700),ha=new sa("FINE",500);function fa(t){return t.c?t.c:t.a?fa(t.a):(j("Root logger has no level set."),null)}aa.prototype.log=function(t,e,n){if(t.value>=fa(this).value)for(v(e)&&(e=e()),t=new oa(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var pa,da={},va=null;function ya(t){var e;if(va||(va=new aa(""),da[""]=va,va.c=la),!(e=da[t])){e=new aa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ya(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,da[t]=e}return e}function ga(t,e){t&&t.log(ha,e,void 0)}function ma(t){this.f=t}function ba(t){Tn.call(this),this.u=t,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=ya("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ma,Jo),ma.prototype.a=function(){return new ba(this.f)},ma.prototype.b=(pa={},function(){return pa}),S(ba,Tn);var wa=0;function _a(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function Ea(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ta(t)}function Ta(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ia(t){Tn.call(this),this.headers=new xn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Sa,this.u=this.R=!1}(n=ba.prototype).open=function(t,e){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,Ta(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=wa},n.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,_a(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},n.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ea(this):Ta(this),3==this.readyState&&_a(this)}},n.sc=function(t){this.a&&(this.response=this.responseText=t,Ea(this))},n.rc=function(t){this.a&&(this.response=t,Ea(this))},n.Ta=function(t){var e=this.i;e&&e.log(ca,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Ea(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ca,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ca,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Ia,Tn);var Sa="";Ia.prototype.b=ya("goog.net.XhrIo");var Ca=/^https?$/i,Oa=["POST","PUT"];function ka(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Go.a(),t.A=t.O?Zo(t.O):Zo(Go),t.a.onreadystatechange=E(t.Ub,t);try{ga(t.b,ja(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return ga(t.b,ja(t,"Error opening Xhr: "+a.message)),void Aa(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)H(t,e,void 0);else for(var n=An(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Na,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Y(Oa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Da(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ga(t.b,ja(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.o=On(t.Ma,t.g,t)),ga(t.b,ja(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ga(t.b,ja(t,"Send error: "+a.message)),Aa(t,a)}}function Na(t){return"content-type"==t.toLowerCase()}function Aa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,xa(t),Ra(t)}function xa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pa(t){if(t.c&&"undefined"!=typeof s)if(t.A[1]&&4==Ma(t)&&2==La(t))ga(t.b,ja(t,"Local request error detected and ignored"));else if(t.i&&4==Ma(t))On(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ma(t)){ga(t.b,ja(t,"Request complete")),t.c=!1;try{var e,n=La(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ca.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ma(t)?t.a.statusText:""}catch(l){ga(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+La(t)+"]",xa(t)}}finally{Ra(t)}}}function Ra(t,e){if(t.a){Da(t);var n=t.a,r=t.A[0]?f:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ua,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Ma(t){return t.a?t.a.readyState:0}function La(t){try{return 2<Ma(t)?t.a.status:-1}catch(e){return-1}}function ja(t,e){return e+" ["+t.P+" "+t.l+" "+La(t)+"]"}function Fa(t){var e=Ya;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ua(t,e,n){t.a=!0,t.c=n,t.f=!e,Wa(t)}function Va(t){if(t.a){if(!t.m)throw new za(t);t.m=!1}}function Ba(t,e,n,r){t.g.push([e,n,r]),t.a&&Wa(t)}function qa(t){return $(t.g,(function(t){return v(t[1])}))}function Wa(t){if(t.h&&t.a&&qa(t)){var e=t.h,n=Ga[e];n&&(u.clearTimeout(n.a),delete Ga[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(D(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,qa(t)||(n=!0)}}t.c=e,r&&(s=E(t.v,t,!0),r=E(t.v,t,!1),e instanceof Fa?(Ba(e,s,r),e.A=!0):e.then(s,r)),n&&(e=new Ka(e),Ga[e.a]=e,t.h=e.a)}function za(){M.call(this)}function Ha(){M.call(this)}function Ka(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=Ia.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ga(this.b,ja(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ga(this.b,ja(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ra(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ra(this,!0)),Ia.$a.Da.call(this)},n.Ub=function(){this.xa||(this.N||this.i||this.f?Pa(this):this.Ic())},n.Ic=function(){Pa(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ua,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ga(this.b,"Can not get response: "+e.message),null}},Fa.prototype.cancel=function(t){if(this.a)this.c instanceof Fa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ha(this),Va(this),Ua(this,!1,t))}},Fa.prototype.v=function(t,e){this.i=!1,Ua(this,t,e)},Fa.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Ba(this,r,(function(t){t instanceof Ha?o.cancel():i(t)})),o.then(t,e,n)},Fa.prototype.$goog_Thenable=!0,S(za,M),za.prototype.message="Deferred has already fired",za.prototype.name="AlreadyCalledError",S(Ha,M),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Ka.prototype.c=function(){throw delete Ga[this.a],this.b};var Ga={};function $a(t){var e={},n=e.document||document,r=Ot(t).toString(),i=ye(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Fa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Qa(i,!0);var t=new Za(Ja,"Timeout reached for loading script "+r);Va(a),Ua(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,e.wd||!1,s),Va(a),Ua(a,!0,null))},i.onerror=function(){Qa(i,!0,s);var t=new Za(Xa,"Error while loading script "+r);Va(a),Ua(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ya(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Qa(t,!0,this.Ma)}}function Qa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Xa=0,Ja=1;function Za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function ts(t){this.f=t}function es(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||is,this.g=yt(t.secureTokenHeaders||os),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||as,this.a=yt(t.firebaseHeaders||ss),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Ir(),!(r=u.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ma(self):Sr()?this.f=new ts(r):this.f=new na,this.b=null}S(Za,M),S(ts,Jo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var ns,rs="idToken",is=new zr(3e4,6e4),os={"Content-Type":"application/x-www-form-urlencoded"},as=new zr(3e4,6e4),ss={"Content-Type":"application/json"};function us(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function cs(t,e){e&&(t.l=ls("https://securetoken.googleapis.com/v1/token",e),t.h=ls("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ls("https://identitytoolkit.googleapis.com/v2/",e))}function ls(t,e){return t=Bn(t),e=Bn(e.url),t.c=t.a+t.c,Ln(t,e.f),t.a=e.a,jn(t,e.g),t.toString()}function hs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function fs(t,e,n,r,i,o,a){(function(){var t=xr();return!((t=kr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!ue||9<ue)})()||Tr()?t=E(t.u,t):(ns||(ns=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ds]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ba(t,null,e,void 0)}($a(kt(ps,{onload:ds})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.o,t)),t(e,n,r,i,o,a)}es.prototype.S=function(){return this.b},es.prototype.u=function(t,e,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ia(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ga(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),Ge(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),Ge(this),e&&e(null)})),ka(a,t,n,r,i)};var ps=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function vs(t,e,n,r,i,o,a){var s=Bn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){fs(t,s.toString(),(function(t){t?t.error?n(lu(t,o||{})):e(t):n(new O("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.m.get())}))}function ys(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new O("invalid-email")}function gs(t){"email"in t&&ys(t)}function ms(t){if(!t[rs]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,yt(t));throw new O("internal-error")}}function bs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}es.prototype.o=function(t,e,n,r,i){var o=this;ns.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},es.prototype.yb=function(){return uu(this,Qs,{})},es.prototype.Ab=function(t,e){return uu(this,$s,{idToken:t,email:e})},es.prototype.Bb=function(t,e){return uu(this,Ys,{idToken:t,password:e})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _s(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function Es(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function Ts(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Is(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=cu(t.errorMessage)),e)throw e;ms(t)}function Ss(t,e){return e.returnIdpCredential=!0,uu(t,Zs,e)}function Cs(t,e){return e.returnIdpCredential=!0,uu(t,eu,e)}function Os(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,uu(t,tu,e)}function ks(t){if(!t.oobCode)throw new O("invalid-action-code")}(n=es.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ws,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),uu(this,$s,n)},n.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),uu(this,Ws,t)},n.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),uu(this,Vs,t)},n.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),uu(this,Bs,t)},n.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),uu(this,qs,t)},n.eb=function(t){return uu(this,iu,t)},n.mb=function(t,e){return uu(this,Ks,{oobCode:t,newPassword:e})},n.Qa=function(t){return uu(this,As,{oobCode:t})},n.ib=function(t){return uu(this,Ns,{oobCode:t})};var Ns={endpoint:"setAccountInfo",B:ks,Z:"email",C:!0},As={endpoint:"resetPassword",B:ks,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},C:!0},xs={endpoint:"signupNewUser",B:function(t){if(ys(t),!t.password)throw new O("weak-password")},F:ms,U:!0,C:!0},Ps={endpoint:"createAuthUri",C:!0},Rs={endpoint:"deleteAccount",M:["idToken"]},Ds={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Ms={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ys,F:ms,U:!0,C:!0},Ls={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ys,F:ms,U:!0},js={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:_s,F:ms,C:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:_s,F:ms,C:!0,Na:!0},Us={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");ys(t)},Z:"email",C:!0},Bs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",C:!0},qs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",C:!0},Ws={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");ys(t)},Z:"email",C:!0},zs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Hs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Ks={endpoint:"resetPassword",B:ks,Z:"email",C:!0},Gs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},$s={endpoint:"setAccountInfo",M:["idToken"],B:gs,U:!0},Ys={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(gs(t),!t.password)throw new O("weak-password")},F:ms,U:!0},Qs={endpoint:"signupNewUser",F:ms,U:!0,C:!0},Xs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},Js={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},Zs={endpoint:"verifyAssertion",B:Es,Xa:Ts,F:Is,U:!0,C:!0},tu={endpoint:"verifyAssertion",B:Es,Xa:Ts,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw cu(t.errorMessage);ms(t)},U:!0,C:!0},eu={endpoint:"verifyAssertion",B:function(t){if(Es(t),!t.idToken)throw new O("internal-error")},Xa:Ts,F:Is,U:!0},nu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new O("invalid-custom-token")},F:ms,U:!0,C:!0},ru={endpoint:"verifyPassword",B:function(t){if(ys(t),!t.password)throw new O("wrong-password")},F:ms,U:!0,C:!0},iu={endpoint:"verifyPhoneNumber",B:bs,F:ms,C:!0},ou={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new O("internal-error");bs(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);ms(t)}},au={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:bs,F:ms,C:!0},su={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[rs]^!!t.refreshToken)throw new O("internal-error")},C:!0,Na:!0};function uu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return Ae(new O("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ne(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),vs(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]}))}function cu(t){return lu({error:{errors:[{message:t}],code:400,message:t}})}function lu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=Fr(t)),new O("internal-error",e)}function hu(t){this.b=t,this.a=null,this.qb=function(t){return(vu||(vu=new Ee((function(t,e){function n(){Wr(),Pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Wr(),e(Error("Network Error"))},timeout:pu.get()})}if(Pr("gapi.iframes.Iframe"))t();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Pr("gapi.load")?n():e(Error("Network Error"))},Ne($a(r=kt(fu,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw vu=null,t})))).then((function(){return new Ee((function(e,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new zr(3e4,6e4),du=new zr(5e3,15e3),vu=null;function yu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Bn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function gu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function mu(t){try{return e.a.app(t).auth().Ga()}catch(n){return[]}}function bu(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function wu(t){var e=fr();return function(t){return uu(t,zs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Yo(fr())}))}function _u(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=mu(t.b),i=new yu(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.m=new hu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ho(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.v}function Eu(t){return t.l||(t.A=t.c?Ar(t.c,mu(t.b)):null,t.l=new es(t.g,R(t.i),t.A),t.f&&cs(t.l,t.f)),t.l}function Tu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new gu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=yt(u||null),t.f=c,t.xb(l).toString()}function Iu(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Su(t){this.b=t,this.a={},this.f=E(this.c,this)}yu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},gu.prototype.xb=function(t){return this.h=t,this},gu.prototype.toString=function(){if(this.m){var t=Bn(this.m.url);t=qn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.o),Un(t,"appName",this.c),Un(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Un(t,"providerId",this.a.providerId),n=Ur((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=yt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),vt(n)||Un(t,"customParameters",Fr(n))}if("function"===typeof this.a.Pb&&((r=this.a.Pb()).length&&Un(t,"scopes",r.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=mu(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(n=bu.prototype).Nb=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return _u(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},n.Wb=function(){var t=xr();return!jr(t)&&!qr(t)},n.Sb=function(){return!1},n.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new O("popup-blocked"));if(a&&!jr())return this.la().s((function(e){yr(t),i(e)})),r(),Ne();this.a||(this.a=wu(Eu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Wo(n),a)||pr(Tu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Mb=function(t,e,n,r){this.a||(this.a=wu(Eu(this)));var i=this;return this.a.then((function(){Wo(e),pr(Tu(i.o,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.la=function(){var t=this;return _u(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new O("network-request-failed")}))},n.Zb=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Ra=function(t){X(this.h,(function(e){return e==t}))},(n=Iu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},n.set=function(t,e){return Ne(this.a.setItem(t,Fr(e)))},n.T=function(t){return Ne(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Cu,Ou=[];function ku(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Nu(t){this.a=t}function Au(t){this.c=t,this.b=!1,this.a=[]}function xu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Pu(t,c),e})).s((function(e){throw Pu(t,c),e}))}function Pu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Ru(){if(!ju())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=u.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.o=!1,this.h=null;var t=this;Tr()&&self?(this.m=function(){var t=Tr()?self:null;if(H(Ou,(function(n){n.b==t&&(e=n)})),!e){var e=new Su(t);Ou.push(e)}return e}(),ku(this.m,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),ku(this.m,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Ne(null)}().then((function(e){(t.h=e)&&(t.g=new Au(new Nu(e)),xu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Du(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function Mu(t){return t.i||(t.i=Du(t)),t.i}function Lu(t,e){var n=0;return new Ee((function r(i,o){Mu(t).then(e).then(i).s((function(e){if(!(3<++n))return Mu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)}));o(e)}))}))}function ju(){try{return!!u.indexedDB}catch(pa){return!1}}function Fu(t){return t.objectStore("firebaseLocalStorage")}function Uu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Vu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Bu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Ne()}function qu(t){return Mu(t).then((function(t){var e=Fu(Uu(t,!1));return e.getAll?Vu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Wu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function zu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(ju()){var t=Br(),r="__sak"+t;return Cu||(Cu=new Ru),(n=Cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Hu(){this.a={},this.type="inMemory"}function Ku(){if(!function(){var t="Node"==Ir();if(!(t=Gu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Gu()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Gu(){try{var t=u.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $u(){this.type="nullStorage"}function Yu(){if(!function(){var t="Node"==Ir();if(!(t=Qu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Qu()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var t=u.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Xu(){var t={};t.Browser=tc,t.Node=ec,t.ReactNative=nc,t.Worker=rc,this.a=t[Ir()]}Su.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Nu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Au.prototype.close=function(){for(;0<this.a.length;)Pu(this,this.a[0]);this.b=!0},(n=Ru.prototype).set=function(t,e){var n=this,r=!1;return Lu(this,(function(e){return Vu((e=Fu(Uu(e,!0))).get(t))})).then((function(i){return Lu(n,(function(o){if(o=Fu(Uu(o,!0)),i)return i.value=e,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Vu(o.add(a))}))})).then((function(){return n.c[t]=e,Bu(n,t)})).na((function(){r&&n.b--}))},n.get=function(t){return Lu(this,(function(e){return Vu(Fu(Uu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.T=function(t){var e=this,n=!1;return Lu(this,(function(r){return n=!0,e.b++,Vu(Fu(Uu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Bu(e,t)})).na((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Wu(t),e()}(this),this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Wu(this)},(n=zu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.T=function(t){return this.b.then((function(e){return e.T(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t}))},(n=Hu.prototype).get=function(t){return Ne(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ne()},n.T=function(t){return delete this.a[t],Ne()},n.ca=function(){},n.ia=function(){},(n=Ku.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ne().then((function(){var r=Fr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&hn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=$u.prototype).get=function(){return Ne(null)},n.set=function(){return Ne()},n.T=function(){return Ne()},n.ca=function(){},n.ia=function(){},(n=Yu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ne().then((function(){var r=Fr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Ju,Zu,tc={D:Ku,ab:Yu},ec={D:Ku,ab:Yu},nc={D:Iu,ab:$u},rc={D:Ku,ab:$u},ic={qd:"local",NONE:"none",sd:"session"};function oc(){var t=!(qr(xr())||!Er()),e=jr(),n=Rr();this.v=t,this.h=e,this.l=n,this.a={},Ju||(Ju=new Xu),t=Ju;try{this.g=!hr()&&$r()||!u.indexedDB?new t.a.D:new zu(Tr()?new Hu:new t.a.D)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Hu}this.m=new Hu,this.f=E(this.Xb,this),this.b={}}function ac(){return Zu||(Zu=new oc),Zu}function sc(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function uc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function cc(t,e,n){return n=uc(e,n),"local"==e.D&&(t.b[n]=null),sc(t,e.D).T(n)}function lc(t){t.c&&(clearInterval(t.c),t.c=null)}function hc(t){this.a=t,this.b=ac()}(n=oc.prototype).get=function(t,e){return sc(this,t.D).get(uc(t,e))},n.set=function(t,e,n){var r=uc(t,n),i=this,o=sc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=uc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(sc(this,"local").ca(this.f),this.h||(hr()||!$r())&&u.indexedDB||!this.l||function(t){lc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=uc(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(sc(this,"local").ia(this.f),lc(this))},n.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?sc(this,"local").ia(this.f):lc(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Yt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,E(this.lb,this))},n.lb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var fc,pc={name:"authEvent",D:"local"};function dc(){this.a=ac()}function vc(t,e){this.b=yc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=u.Int32Array?new Int32Array(Tc):Tc),this.reset()}S(vc,(function(){this.b=-1}));for(var yc=64,gc=yc-1,mc=[],bc=0;bc<gc;bc++)mc[bc]=0;var wc=J(128,mc);function _c(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|fc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ec(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(_c(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(_c(t),i=0)}}t.c=i,t.g+=n}vc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ic(){vc.call(this,8,Sc)}S(Ic,vc);var Sc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new dc,this.g=new hc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Oc(t){return new O("invalid-cordova-configuration",t)}function kc(t){var e=new Ic;Ec(e,t),t=[];var n=8*e.g;56>e.c?Ec(e,wc,56-e.c):Ec(e,wc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(_c(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Nc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ac(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),xc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=uo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Vr(Vn(o=Bn(i),"firebaseError")||null))?k(o):null)?new zo(r.c,r.b,null,null,o,null,r.S()):new zo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Nc(t,i)}))}var n=new zo("unknown",null,null,null,new O("no-auth-event")),r=!1,i=kn(500).then((function(){return xc(t).then((function(){r||Nc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},$o||($o=new Ko),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Pr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function xc(t){var e=null;return function(t){return t.b.get(pc,t.a).then((function(t){return Ho(t)}))}(t.g).then((function(n){return e=n,cc((n=t.g).b,pc,n.a)})).then((function(){return e}))}function Pc(t){this.a=t,this.b=ac()}(n=Cc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",u))throw Oc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",u))throw Oc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",u))throw Oc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",u))throw Oc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new O("cordova-not-ready")}))},n.Nb=function(t,e){return e(new O("operation-not-supported-in-this-environment")),Ne()},n.Lb=function(){return Ae(new O("operation-not-supported-in-this-environment"))},n.Zb=function(){return!1},n.Wb=function(){return!0},n.Sb=function(){return!0},n.Mb=function(t,e,n,r){if(this.c)return Ae(new O("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ne().then((function(){return Wo(e),Ac(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new zo(e,r,null,o,new O("no-auth-event"),null,i),s=Pr("BuildInfo.packageName",u);if("string"!==typeof s)throw new O("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",u),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!xr().toLowerCase().match(/android/))return Ae(new O("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var h=Tu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(pc,a.w(),e)})).then((function(){var e=Pr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new O("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",u)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",u)))throw new O("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Pr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){e(new O("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return xc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null}))},n.Ea=function(t){this.b.push(t),Ac(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new zo("unknown",null,null,null,new O("no-auth-event")),t(e))}))},n.Ra=function(t){X(this.b,(function(e){return e==t}))};var Rc={name:"pendingRedirect",D:"session"};function Dc(t){return cc(t.b,Rc,t.a)}function Mc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=E(this.o,this),this.b=new Qc,this.A=new el,this.g=new Pc($c(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Lc(this.O,this.m,this.v,N,this.G)}function Lc(t,n,r,i,o){var a=e.a.SDK_VERSION||null;return _r()?new Cc(t,n,r,a,i,o):new bu(t,n,r,a,i,o)}function jc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Fc(t){t.a.Wb()&&jc(t).s((function(e){var n=new zo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));zc(e)&&t.o(n)})),t.a.Sb()||Xc(t.b)}function Uc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Rc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){jc(t).s((function(e){var n=new zo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));zc(e)&&t.o(n)}))})):Fc(t)})).s((function(){Fc(t)}))}function Vc(t,e){X(t.h,(function(t){return t==e}))}Mc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Lc(this.O,this.m,this.v,null,this.G),this.i={}},Mc.prototype.o=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Xc(this.b),e};var Bc=new zr(2e3,1e4),qc=new zr(3e4,6e4);function Wc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function zc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Hc(t,e,n,r,i){var o;return function(t){return t.b.set(Rc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(zc(e))throw new O("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Kc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Bc.get())}Mc.prototype.qa=function(){return this.b.qa()};var Gc={};function $c(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Yc(t,e,n,r){var i=$c(e,n,r);return Gc[i]||(Gc[i]=new Mc(t,e,n,r)),Gc[i]}function Qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(t){t.g||(t.g=!0,tl(t,!1,null,null))}function Jc(t){t.g&&!t.i&&tl(t,!1,null,null)}function Zc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function tl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Zc(t,n):Zc(t,{user:null}),t.f=[],t.c=[]}function el(){}function nl(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function rl(t,e){this.a=e,Zr(this,"verificationId",t)}function il(t,e,n,r){return new Vo(t).eb(e,n).then((function(t){return new rl(t,r)}))}function ol(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:t,expirationTime:Gr(1e3*e.exp),authTime:Gr(1e3*e.auth_time),issuedAtTime:Gr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function al(t,e,n){var r=e&&e[ul];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new co(null,r),this.b=[];var i=this;H(e[sl]||[],(function(t){(t=ii(t))&&i.b.push(t)})),Zr(this,"auth",this.a),Zr(this,"session",this.c),Zr(this,"hints",this.b)}Qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(tl(this,!0,null,t.a),Ne()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){tl(t,s,e,null)})).s((function(e){tl(t,s,null,e)}))}(this,t,e):Ae(new O("invalid-auth-event")):(tl(this,!1,null,null),Ne())}else Ae(new O("invalid-auth-event"))},Qc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=kn(qc.get()).then((function(){t.b||(t.g=!0,tl(t,!0,null,e))}))}(t))}))},el.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ne()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Ae(new O("invalid-auth-event"))}else Ae(new O("invalid-auth-event"))},rl.prototype.confirm=function(t){return t=Bo(this.verificationId,t),this.a(t)};var sl="mfaInfo",ul="mfaPendingCredential";function cl(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new al(t,e,n),Zr(this,"resolver",this.b)}function ll(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new cl(e,t.serverResponse,n,t.message)}catch(r){}return null}function hl(){}function fl(t){Zr(this,"factorId",t.fa),this.a=t}function pl(t){if(fl.call(this,t),this.a.fa!=Vo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dl(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function vl(t,e){this.a=t,this.b=[],this.c=E(this.xc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[si]=t.uid),t.displayName&&(r[oi]=t.displayName),t.enrollmentTime&&(r[ai]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ui]=t.phoneNumber);try{e=new ci(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),yl(this,n)}function yl(t,e){t.b=e,Zr(t,"enrolledFactors",e)}function gl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ml(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Hr()||!t?Ne():new Ee((function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){ml(t,!0)})).s((function(e){t.i(e)&&ml(t,!1)}))}function bl(t){this.c=t,this.b=this.a=null}function wl(t){return t.b&&1e3*t.b.c||0}function _l(t,e){var n=e.refreshToken;t.b=Gi(e[rs]||""),t.a=n}function El(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?fs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(lu(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new O("internal-error"))}))}(t.c,e).then((function(e){return t.b=Gi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Tl(t,e){this.a=t||null,this.b=e||null,ti(this,{lastSignInTime:Gr(e||null),creationTime:Gr(t||null)})}function Il(t,e,n,r,i,o){ti(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Sl(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null;this.a=new es(this.l,R(N),i),t.emulatorConfig&&cs(this.a,t.emulatorConfig),this.b=new bl(this.a),Rl(this,n[rs]),_l(this.b,n),Zr(this,"refreshToken",this.b.a),Ll(this,r||{}),Tn.call(this),this.P=!1,this.o&&Dr()&&(this.i=Yc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new gl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=wl(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.$=E(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){cs(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){kl(o,t.f)},this.aa=null,this.N=new vl(this,r),Zr(this,"multiFactor",this.N)}function Cl(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&hn(e,"languageCodeChanged",t.Ba)}function Ol(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&hn(e,"emulatorConfigChanged",t.za)}function kl(t,n){t.X=n,hs(t.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,t.X):null)}function Nl(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&hn(e,"frameworkChanged",t.Aa)}function Al(t){try{return e.a.app(t.m).auth()}catch(n){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function xl(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),hn(t,"tokenChanged",t.$))}function Pl(t){dn(t,"tokenChanged",t.$),t.u.stop()}function Rl(t,e){t.ya=e,Zr(t,"_lat",e)}function Dl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Pe(e).then((function(){return t}))}function Ml(t){t.i&&!t.P&&(t.P=!0,Uc(t.i,t))}function Ll(t,e){ti(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Tl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function jl(){}function Fl(t){return Ne().then((function(){if(t.A)throw new O("app-deleted")}))}function Ul(t){return G(t.providerData,(function(t){return t.providerId}))}function Vl(t,e){e&&(Bl(t,e.providerId),t.providerData.push(e))}function Bl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zr(t,e,n)}function Wl(t,e){t!=e&&(ti(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Zr(t,"metadata",function(t){return new Tl(t.a,t.b)}(e.metadata)):Zr(t,"metadata",new Tl),H(e.providerData,(function(e){Vl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Zr(t,"refreshToken",t.b.a),yl(t.N,e.N.b))}function zl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return uu(t.a,Us,{idToken:e}).then(E(t.Jc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function Hl(t,e){e[rs]&&t.ya!=e[rs]&&(_l(t.b,e),t.dispatchEvent(new dl("tokenChanged")),Rl(t,e[rs]),ql(t,"refreshToken",t.b.a))}function Kl(t,e){return zl(t).then((function(){if(Y(Ul(t),e))return Dl(t).then((function(){throw new O("provider-already-linked")}))}))}function Gl(t,e,n){return ei({user:t,credential:qo(e),additionalUserInfo:e=Zi(e),operationType:n})}function $l(t,e){return Hl(t,e),t.reload().then((function(){return t}))}function Yl(t,n,r,i,o){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ae(t.f);var a=Ji(r.providerId),s=Br(t.uid+":::"),u=null;(!jr()||Er())&&t.o&&r.isOAuthProvider&&(u=Tu(t.o,t.l,t.m,n,r,null,s,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Xl(t),!o)return t.I().then((function(){}))})).then((function(){return Wc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.ma(n,null,new O("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=s,t.c=Kc(t.i,t,n,c,s)}))})).then((function(t){return c&&yr(c),t?ei(t):null})).s((function(t){throw c&&yr(c),t})),Jl(t,i,o)}function Ql(t,e,n,r,i){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ae(t.f);var o=null,a=Br(t.uid+":::");return r=r().then((function(){if(Xl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Dl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(eh,t.w(),e.a)),e})).then((function(){return Hc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return nh(t.ha);throw o})).then((function(){if(o)throw o})),Jl(t,r,i)}function Xl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Jl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ae(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new dl("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ll(e.w(),Al(t),E(t.ic,t))),n||e}))}function Zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[rs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Sl(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Vl(r,ei(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function th(t){this.a=t,this.b=ac()}al.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[sl],delete n[ul],mt(n,t),e.g(n)}))},S(cl,O),hl.prototype.rb=function(t,e,n){return e.type==lo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Uo(t.a)}),uu(e,js,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(t.a)}),uu(e,Fs,n)}))}(this,t,e)},S(fl,hl),S(pl,fl),S(dl,Je),(n=vl.prototype).xc=function(t){yl(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=ii(t))&&e.push(t)})),e}(t.gd))},n.Qb=function(){return this.a.I().then((function(t){return new co(t,null)}))},n.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Hl(n.a,t),n.a.reload()}))},n.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return uu(r,su,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return yl(e,r),Hl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},gl.prototype.start=function(){this.a=this.c,ml(this,!0)},gl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:wl(this)}},bl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new O("user-token-expired")):t||!this.b||I()>wl(this)-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Sl,Tn),Sl.prototype.wa=function(t){this.pa=t,us(this.a,t)},Sl.prototype.ka=function(){return this.pa},Sl.prototype.Ga=function(){return Z(this.X)},Sl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Zr(Sl.prototype,"providerId","firebase"),(n=Sl.prototype).reload=function(){var t=this;return Jl(this,Fl(this).then((function(){return zl(t).then((function(){return Dl(t)})).then(jl)})))},n.nc=function(t){return this.I(t).then((function(t){return new ol(t)}))},n.I=function(t){var e=this;return Jl(this,Fl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.ya&&(Rl(e,t.accessToken),e.dispatchEvent(new dl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Jc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");Ll(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new Il(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Vl(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dl("userReloaded",{gd:t}))},n.Kc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},n.sb=function(t){var e=this,n=null;return Jl(this,t.c(this.a,this.uid).then((function(t){return Hl(e,t),n=Gl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},n.Bc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},n.pb=function(t){var e=this,n=null;return Jl(this,Kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Gl(e,t,"link"),$l(e,t)})).then((function(){return n})))},n.Cc=function(t,e){var n=this;return Jl(this,Kl(this,"phone").then((function(){return il(Al(n),t,e,E(n.pb,n))})))},n.Lc=function(t,e){var n=this;return Jl(this,Ne().then((function(){return il(Al(n),t,e,E(n.sb,n))})),!0)},n.Ab=function(t){var e=this;return Jl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},n.dd=function(t){var e=this;return Jl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Hl(e,t),e.reload()})))},n.Bb=function(t){var e=this;return Jl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},n.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Fl(this);var e=this;return Jl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Hl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Zr(t,"displayName",e.displayName),Zr(t,"photoURL",e.photoURL))})),Dl(e)})).then(jl))},n.bd=function(t){var e=this;return Jl(this,zl(this).then((function(n){return Y(Ul(e),t)?function(t,e,n){return uu(t,Ds,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Ul(e),(function(t){n[t]||Bl(e,t)})),n[Vo.PROVIDER_ID]||Zr(e,"phoneNumber",null),Dl(e)})):Dl(e).then((function(){throw new O("no-such-provider")}))})))},n.delete=function(){var t=this;return Jl(this,this.I().then((function(e){return uu(t.a,Rs,{idToken:e})})).then((function(){t.dispatchEvent(new dl("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Cl(t,null),Ol(t,null),Nl(t,null),t.G=[],t.A=!0,Pl(t),Zr(t,"refreshToken",null),t.i&&Vc(t.i,t)}))},n.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?E(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?E(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):null},n.Dc=function(t){var e=this;return Yl(this,"linkViaPopup",t,(function(){return Kl(e,t.providerId).then((function(){return Dl(e)}))}),!1)},n.Mc=function(t){return Yl(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},n.Ec=function(t){var e=this;return Ql(this,"linkViaRedirect",t,(function(){return Kl(e,t.providerId)}),!1)},n.Nc=function(t){return Ql(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},n.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,this.I().then((function(n){return Cs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Gl(i,t,"link"),$l(i,t)})).then((function(){return o})))},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,Ne().then((function(){return po(Os(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Gl(i,t,"reauthenticate"),Hl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},n.tb=function(t){var e=this,n=null;return Jl(this,this.I().then((function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Wi(new Ri(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Db=function(t,e){var n=this,r=null;return Jl(this,this.I().then((function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Wi(new Ri(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.ic=function(t){var e=null,n=this;return Jl(this,t=po(Ne(t),n.uid).then((function(t){return e=Gl(n,t,"reauthenticate"),Hl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var eh={name:"redirectUser",D:"session"};function nh(t){return cc(t.b,eh,t.a)}function rh(t){this.a=t,this.b=ac(),this.c=null,this.f=function(t){var e=ah("local"),n=ah("session"),r=ah("none");return function(t,e,n){var r=uc(e,n),i=sc(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Vr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(oh,t.a).then((function(t){return t?ah(t):e}))}))}))})).then((function(e){return t.c=e,ih(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ah("local"),this.a,E(this.g,this))}function ih(t,e){var n,r=[];for(n in ic)ic[n]!==e&&r.push(cc(t.b,ah(ic[n]),t.a));return r.push(cc(t.b,oh,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xe(t[s],T(o,s),a);else e(i)}))}(r)}rh.prototype.g=function(){var t=this,e=ah("local");lh(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return ih(t,"local").then((function(){t.c=e}))}))}))};var oh={name:"persistence",D:"session"};function ah(t){return{name:"authUser",D:t}}function sh(t,e){return lh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function uh(t){return lh(t,(function(){return cc(t.b,t.c,t.a)}))}function ch(t,e,n){return lh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Zl(t||{})}))}))}function lh(t,e){return t.f=t.f.then(e,e),t.f}function hh(t){if(this.m=!1,Zr(this,"settings",new nl),Zr(this,"app",t),!wh(this).options||!wh(this).options.apiKey)throw new O("invalid-api-key");t=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null,this.a=new es(wh(this).options&&wh(this).options.apiKey,R(N),t),this.R=[],this.u=[],this.P=[],this.ac=e.a.INTERNAL.createSubscribe(E(this.yc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(E(this.zc,this)),mh(this,null),this.l=new rh(wh(this).options.apiKey+":"+wh(this).name),this.G=new th(wh(this).options.apiKey+":"+wh(this).name),this.$=Ih(this,function(t){var e=wh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(eh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Zl(t||{})}))}(t.G,wh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),nh(t.G)}));return Ih(t,e)}(t).then((function(){return ch(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return sh(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:uh(t.l)}))):null})).then((function(e){mh(t,e||null)}));return Ih(t,n)}(this)),this.i=Ih(this,function(t){return t.$.then((function(){return yh(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(ah("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=E(this.Yc,this),this.Ba=E(this.da,this),this.ya=E(this.kc,this),this.za=E(this.vc,this),this.Aa=E(this.wc,this),this.b=null,function(t){var e=wh(t).options.authDomain,n=wh(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Yc(e,n,wh(t).name,t.f),Uc(t.b,t),_h(t)&&Ml(_h(t)),t.o){Ml(t.o);var r=t.o;r.wa(t.ka()),Cl(r,t),kl(r=t.o,t.N),Nl(r,t),cs((r=t.o).a,t.f),Ol(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Fc,this),this.A=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function fh(t){Je.call(this,"languageCodeChanged"),this.h=t}function ph(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function dh(t){Je.call(this,"frameworkChanged"),this.f=t}function vh(t){return t.gb||Ae(new O("auth-domain-config-required"))}function yh(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var e=vh(t).then((function(){return t.b.qa()})).then((function(t){return t?ei(t):null}));return Ih(t,e)}function gh(t,e){var n={};return n.apiKey=wh(t).options.apiKey,n.authDomain=wh(t).options.authDomain,n.appName=wh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new Sl(t,e);return n&&(i.ha=n),r&&kl(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return _h(t)&&e.uid==_h(t).uid?(Wl(_h(t),e),t.da(e)):(mh(t,e),Ml(e),t.da(e))})).then((function(){Th(t)}))}function mh(t,e){_h(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(_h(t),t.Ba),dn(_h(t),"tokenChanged",t.ya),dn(_h(t),"userDeleted",t.za),dn(_h(t),"userInvalidated",t.Aa),Pl(_h(t))),e&&(e.R.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.A&&xl(e)),Zr(t,"currentUser",e),e&&(e.wa(t.ka()),Cl(e,t),kl(e,t.N),Nl(e,t),cs(e.a,t.f),Ol(e,t))}function bh(t,e){var n=null,r=null;return Ih(t,e.then((function(e){return n=qo(e),r=Zi(e),gh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ll(e.w(),t,E(t.jc,t))),n||e})).then((function(){return ei({user:_h(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wh(t){return t.app}function _h(t){return t.currentUser}function Eh(t){return _h(t)&&_h(t)._lat||null}function Th(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](Eh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](Eh(t))}}function Ih(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function Sh(){}function Ch(){this.a={},this.b=1e12}rh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in ic)if(ic[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ju()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),lh(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,ih(n,t)})).then((function(){if(n.c=ah(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},S(hh,Tn),S(fh,Je),S(ph,Je),S(dh,Je),(n=hh.prototype).wb=function(t){return Ih(this,t=this.l.wb(t))},n.wa=function(t){this.aa===t||this.m||(this.aa=t,us(this.a,this.aa),this.dispatchEvent(new fh(this.ka())))},n.ka=function(){return this.aa},n.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Kr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,cs(this.a,this.f),this.dispatchEvent(new ph(this.f))}},n.Fc=function(t){this.N.push(t),hs(this.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,this.N):null),this.dispatchEvent(new dh(this.N))},n.Ga=function(){return Z(this.N)},n.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},n.S=function(){return this.W},n.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:_h(this)&&_h(this).w()}},n.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},n.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?E(this.hc,this):null},n.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bh(i,Ss(i.a,o))}))},n.Wc=function(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var n=this,r=Ji(t.providerId),i=Br(),o=null;(!jr()||Er())&&wh(this).options.authDomain&&t.isOAuthProvider&&(o=Tu(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",t,null,i,e.a.SDK_VERSION||null,null,null,this.S(),this.f));var a=gr(o,r&&r.ua,r&&r.ta);return Ih(this,r=vh(this).then((function(e){return Wc(e,a,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new Ee((function(t,e){n.ma("signInViaPopup",null,new O("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Kc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&yr(a),t?ei(t):null})).s((function(t){throw a&&yr(a),t})))},n.Xc=function(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this;return Ih(this,vh(this).then((function(){return function(t){return lh(t,(function(){return t.b.set(oh,t.c.D,t.a)}))}(e.l)})).then((function(){return Hc(e.b,"signInViaRedirect",t,void 0,e.S())})))},n.qa=function(){var t=this;return yh(this).then((function(e){return t.b&&Jc(t.b.b),e})).s((function(e){throw t.b&&Jc(t.b.b),e}))},n.cd=function(t){if(!t)return Ae(new O("null-user"));if(this.W!=t.tenantId)return Ae(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[rs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Sl(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&kl(e,r),Wl(e,t),e}(t,n,e.G,e.Ga());return Ih(this,this.i.then((function(){if(wh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _h(e)&&t.uid==_h(e).uid?(Wl(_h(e),t),e.da(t)):(mh(e,r),Ml(r),e.da(r))})).then((function(){Th(e)})))},n.zb=function(){var t=this;return Ih(this,this.i.then((function(){return t.b&&Jc(t.b.b),_h(t)?(mh(t,null),uh(t.l).then((function(){Th(t)}))):Ne()})))},n.Yc=function(){var t=this;return ch(this.l,wh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=_h(t)&&e){n=_h(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Wl(_h(t),e),_h(t).I();(_h(t)||e)&&(mh(t,e),e&&(Ml(e),e.ha=t.G),t.b&&Uc(t.b,t),Th(t))}}))},n.da=function(t){return sh(this.l,t)},n.kc=function(){Th(this),this.da(_h(this))},n.vc=function(){this.zb()},n.wc=function(){this.zb()},n.jc=function(t){var e=this;return this.i.then((function(){return bh(e,Ne(t))}))},n.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_h(e))}))},n.zc=function(t){var e=this;!function(t,e){t.P.push(e),Ih(t,t.i.then((function(){!t.m&&Y(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(Eh(t)))})))}(this,(function(){t.next(_h(e))}))},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(_h(r)):"function"===typeof t.next&&t.next(_h(r))})),this.ac(t,e,n)},n.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(_h(r)):"function"===typeof t.next&&t.next(_h(r))})),this.bc(t,e,n)},n.mc=function(t){var e=this;return Ih(this,this.i.then((function(){return _h(e)?_h(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Sc=function(t){var e=this;return this.i.then((function(){return bh(e,uu(e.a,nu,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.da(n),t}))},n.Tc=function(t,e){var n=this;return this.i.then((function(){return bh(n,uu(n.a,ru,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.i.then((function(){return bh(n,uu(n.a,xs,{email:t,password:e}))}))},n.Za=function(t){var e=this;return this.i.then((function(){return bh(e,t.ja(e.a))}))},n.Rc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},n.yb=function(){var t=this;return this.i.then((function(){var e=_h(t);if(e&&e.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bh(t,t.a.yb()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return _h(this)&&_h(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&_h(this)&&xl(_h(this))},n.Oc=function(t){var e=this;H(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&_h(this)&&Pl(_h(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.u.push(t),Ih(this,this.i.then((function(){e.m||Y(e.u,t)&&t(Eh(e))})))},n.removeAuthTokenListener=function(t){X(this.u,(function(e){return e==t}))},n.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(ah("local"),t.a,this.pa),this.b&&(Vc(this.b,this),Jc(this.b.b)),Promise.resolve()},n.gc=function(t){return Ih(this,function(t,e){return uu(t,Ps,{identifier:e,continueUri:Mr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Ac=function(t){return!!Lo(t)},n.vb=function(t,e){var n=this;return Ih(this,Ne().then((function(){var t=new Ri(e);if(!t.c)throw new O("argument-error",Li+" must be true when sending sign in link to email");return Wi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},n.mb=function(t,e){return Ih(this,this.a.mb(t,e).then((function(){})))},n.Qa=function(t){return Ih(this,this.a.Qa(t).then((function(t){return new li(t)})))},n.ib=function(t){return Ih(this,this.a.ib(t).then((function(){})))},n.ub=function(t,e){var n=this;return Ih(this,Ne().then((function(){return"undefined"===typeof e||vt(e)?{}:Wi(new Ri(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},n.Vc=function(t,e){return Ih(this,il(this,t,e,E(this.Za,this)))},n.Uc=function(t,e){var n=this;return Ih(this,Ne().then((function(){var r=e||fr(),i=Mo(t,r);if(!(r=Lo(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new O("tenant-id-mismatch");return n.Za(i)})))},Sh.prototype.render=function(){},Sh.prototype.reset=function(){},Sh.prototype.getResponse=function(){},Sh.prototype.execute=function(){};var Oh=null;function kh(t,e){return(e=Nh(e))&&t.a[e]||null}function Nh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Ah(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function xh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ph(){}function Rh(){}Ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ah(t,e),this.b++},Ch.prototype.reset=function(t){var e=kh(this,t);t=Nh(t),e&&t&&(e.delete(),delete this.a[t])},Ch.prototype.getResponse=function(t){return(t=kh(this,t))?t.getResponse():null},Ch.prototype.execute=function(t){(t=kh(this,t))&&t.execute()},Ah.prototype.getResponse=function(){return xh(this),this.b},Ah.prototype.execute=function(){xh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Ah.prototype.delete=function(){xh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Zr(Ph,"FACTOR_ID","phone"),Rh.prototype.g=function(){return Oh||(Oh=new Ch),Ne(Oh)},Rh.prototype.c=function(){};var Dh=null;function Mh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jh=new zr(3e4,6e4);Mh.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new O("network-request-failed"))}),jh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete u[e.a]},Ne($a(kt(Lh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Mh.prototype.c=function(){this.b--};var Fh=null;function Uh(t,e,n,r,i,o,a){if(Zr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Dh||(Dh=new Rh),a=Dh):(Fh||(Fh=new Mh),a=Fh),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Wh],!u.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new es(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Vh];this.a[Vh]=function(t){if(zh(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Pr(c,u);"function"===typeof e&&e(t)}};var l=this.a[Bh];this.a[Bh]=function(){if(zh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Pr(l,u);"function"===typeof t&&t()}}}var Vh="callback",Bh="expired-callback",qh="sitekey",Wh="size";function zh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Hh(t,e){return t.h.push(e),e.na((function(){Q(t.h,e)})),e}function Kh(t){if(t.A)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gh(t,n,r){var i=!1;try{this.b=r||e.a.app()}catch(s){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,a):null,Uh.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),a,R(N),i)}function $h(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Yh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Yh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(n=Uh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Hh(this,Ne().then((function(){if(Mr()&&!Tr())return wr();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,uu(t.o,Hs,{})})).then((function(e){t.a[qh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},n.render=function(){Kh(this);var t=this;return Hh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};mt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ye(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Kh(this);var t=this;return Hh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Kh(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Gh,Uh);var Yh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Xh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Jh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:y}}function Zh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function tf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function ef(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function nf(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function rf(t){return y(t)&&"string"===typeof t.uid}function of(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function af(t,e){for(var n in e){var r=e[n].name;t[r]=cf(r,t[n],e[n].j)}}function sf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){$h(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function uf(t,e,n,r){t[e]=cf(e,n,r)}function cf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return $h(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}af(hh.prototype,{ib:{name:"applyActionCode",j:[Qh("code")]},Qa:{name:"checkActionCode",j:[Qh("code")]},mb:{name:"confirmPasswordReset",j:[Qh("code"),Qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qh("email"),Qh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Qh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Qh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Qh("email"),of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Qh("email"),Jh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Qh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[ef()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[ef()]},Sc:{name:"signInWithCustomToken",j:[Qh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Qh("email"),Qh("password")]},Uc:{name:"signInWithEmailLink",j:[Qh("email"),Qh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[of({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Sl)}},tf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Qh("url")]},hd:{name:"verifyPasswordResetCode",j:[Qh("code")]}}),sf(hh.prototype,{lc:{name:"languageCode",jb:of(Qh(),tf(),"languageCode")},ti:{name:"tenantId",jb:of(Qh(),tf(),"tenantId")}}),hh.Persistence=ic,hh.Persistence.LOCAL="local",hh.Persistence.SESSION="session",hh.Persistence.NONE="none",af(Sl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[ef()]},pb:{name:"linkWithCredential",j:[ef()]},Cc:{name:"linkWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ef()]},sb:{name:"reauthenticateWithCredential",j:[ef()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},bd:{name:"unlink",j:[Qh("provider")]},Ab:{name:"updateEmail",j:[Qh("email")]},Bb:{name:"updatePassword",j:[Qh("password")]},dd:{name:"updatePhoneNumber",j:[ef("phone")]},Cb:{name:"updateProfile",j:[Jh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Qh("email"),of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]}}),af(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Ee.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),sf(nl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Xh("appVerificationDisabledForTesting")}}),af(rl.prototype,{confirm:{name:"confirm",j:[Qh("verificationCode")]}}),uf(fo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[wo,Ro,Fo,go],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[of(Qh(),Jh(),"json")]),uf(Do,"credential",(function(t,e){return new Po(t,e)}),[Qh("email"),Qh("password")]),af(Po.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(Io.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Io,"credential",So,[of(Qh(),Jh(),"token")]),uf(Do,"credentialWithLink",Mo,[Qh("email"),Qh("emailLink")]),af(Co.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Co,"credential",Oo,[of(Qh(),Jh(),"token")]),af(ko.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(ko,"credential",No,[of(Qh(),of(Jh(),tf()),"idToken"),of(Qh(),tf(),"accessToken",!0)]),af(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Ao,"credential",xo,[of(Qh(),Jh(),"token"),Qh("secret",!0)]),af(To.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},credential:{name:"credential",j:[of(Qh(),of(Jh(),tf()),"optionsOrIdToken"),of(Qh(),tf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),af(mo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(vo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),uf(Vo,"credential",Bo,[Qh("verificationId"),Qh("verificationCode")]),af(Vo.prototype,{eb:{name:"verifyPhoneNumber",j:[of(Qh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?nf(t.session,lo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?nf(t.session,ho)&&rf(t.multiFactorHint):t.session&&t.multiFactorUid?nf(t.session,ho)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),af(jo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(O.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(Qo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(Yo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(cl.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(al.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),af(vl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Qh("displayName",!0)]},ad:{name:"unenroll",j:[of({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:rf},Qh(),"multiFactorInfoIdentifier")]}}),af(Gh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),uf(Ii,"parseLink",Pi,[Qh("link")]),uf(Ph,"assertion",(function(t){return new pl(t)}),[ef("phone")]),function(){if("undefined"===typeof e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hh,AuthCredential:fo,Error:O};uf(t,"EmailAuthProvider",Do,[]),uf(t,"FacebookAuthProvider",Io,[]),uf(t,"GithubAuthProvider",Co,[]),uf(t,"GoogleAuthProvider",ko,[]),uf(t,"TwitterAuthProvider",Ao,[]),uf(t,"OAuthProvider",To,[Qh("providerId")]),uf(t,"SAMLAuthProvider",Eo,[Qh("providerId")]),uf(t,"PhoneAuthProvider",Vo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof hh)}}]),uf(t,"RecaptchaVerifier",Gh,[of(Qh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Jh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.a.app.App)}}]),uf(t,"ActionCodeURL",Ii,[]),uf(t,"PhoneMultiFactorGenerator",Ph,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new hh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.mc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.15.2"),e.a.INTERNAL.extendNamespace({User:Sl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(25))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t)?parseFloat(t):NaN};var r,i=(r=n(50))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t),e=e||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(e.locale?o.decimal[e.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===t||"."===t||"-"===t||"+"===t)return!1;var r=parseFloat(t.replace(",","."));return n.test(t)&&(!e.hasOwnProperty("min")||r>=e.min)&&(!e.hasOwnProperty("max")||r<=e.max)&&(!e.hasOwnProperty("lt")||r<e.lt)&&(!e.hasOwnProperty("gt")||r>e.gt)},e.locales=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(27);var a=Object.keys(o.decimal);e.locales=a},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){"object"===r(t)&&null!==t?t="function"===typeof t.toString?t.toString():"[object Object]":(null===t||"undefined"===typeof t||isNaN(t)&&!t.length)&&(t="");return String(t)},t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r;(0,i.default)(t),"object"===o(e)?(n=e.min||0,r=e.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(t).split(/%..|./).length-1;return a>=n&&("undefined"===typeof r||a<=r)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=(e=e||{}).hasOwnProperty("allow_leading_zeroes")&&!e.allow_leading_zeroes?o:a,r=!e.hasOwnProperty("min")||t>=e.min,s=!e.hasOwnProperty("max")||t<=e.max,u=!e.hasOwnProperty("lt")||t<e.lt,c=!e.hasOwnProperty("gt")||t>e.gt;return n.test(t)&&r&&s&&u&&c};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)},e.fullWidth=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;e.fullWidth=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)},e.halfWidth=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;e.halfWidth=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(0x|0h)?[0-9A-F]+$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,r.default)(t),e=(0,i.default)(e,u);var n=t.length;if(e.urlSafe)return s.test(t);if(n%4!==0||a.test(t))return!1;var o=t.indexOf("=");return-1===o||o===n-1||o===n-2&&"="===t[n-1]};var r=o(n(4)),i=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}var a=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,u={urlSafe:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=e?new RegExp("^[".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return t.replace(n,"")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=e?new RegExp("[".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g"):/\s+$/g;return t.replace(n,"")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),t.replace(new RegExp("[".concat(e,"]+"),"g"),"")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=Vt(n(40)),o=Vt(n(49)),a=Vt(n(79)),s=Vt(n(80)),u=Vt(n(81)),c=Vt(n(82)),l=Vt(n(83)),h=Vt(n(84)),f=Vt(n(85)),p=Vt(n(86)),d=Vt(n(31)),v=Vt(n(87)),y=Vt(n(41)),g=Vt(n(88)),m=Vt(n(89)),b=Vt(n(90)),w=Ut(n(91)),_=Ut(n(92)),E=Vt(n(93)),T=Vt(n(94)),I=Vt(n(95)),S=Vt(n(96)),C=Vt(n(97)),O=Vt(n(98)),k=Vt(n(99)),N=Vt(n(54)),A=Vt(n(55)),x=Vt(n(100)),P=Vt(n(101)),R=Vt(n(102)),D=Vt(n(104)),M=Vt(n(53)),L=Ut(n(50)),j=Vt(n(105)),F=Vt(n(56)),U=Vt(n(106)),V=Vt(n(107)),B=Vt(n(108)),q=Vt(n(109)),W=Vt(n(110)),z=Vt(n(111)),H=Vt(n(112)),K=Vt(n(113)),G=Vt(n(114)),$=Vt(n(115)),Y=Vt(n(116)),Q=Vt(n(117)),X=Vt(n(118)),J=Vt(n(119)),Z=Vt(n(52)),tt=Vt(n(120)),et=Vt(n(121)),nt=Vt(n(122)),rt=Vt(n(123)),it=Vt(n(124)),ot=Vt(n(125)),at=Vt(n(126)),st=Vt(n(127)),ut=Vt(n(128)),ct=Vt(n(129)),lt=Vt(n(130)),ht=Vt(n(131)),ft=Ut(n(132)),pt=Vt(n(133)),dt=Vt(n(134)),vt=Vt(n(135)),yt=Vt(n(136)),gt=Vt(n(137)),mt=Vt(n(138)),bt=Vt(n(139)),wt=Vt(n(140)),_t=Vt(n(57)),Et=Vt(n(141)),Tt=Vt(n(142)),It=Vt(n(143)),St=Vt(n(144)),Ct=Ut(n(145)),Ot=Vt(n(58)),kt=Vt(n(59)),Nt=Vt(n(146)),At=Vt(n(147)),xt=Vt(n(148)),Pt=Vt(n(149)),Rt=Vt(n(150)),Dt=Vt(n(60)),Mt=Vt(n(151)),Lt=Vt(n(152)),jt=Vt(n(153));function Ft(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return Ft=function(){return t},t}function Ut(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=Ft();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function Vt(t){return t&&t.__esModule?t:{default:t}}var Bt={version:"13.1.17",toDate:i.default,toFloat:o.default,toInt:a.default,toBoolean:s.default,equals:u.default,contains:c.default,matches:l.default,isEmail:h.default,isURL:f.default,isMACAddress:p.default,isIP:d.default,isIPRange:v.default,isFQDN:y.default,isBoolean:m.default,isIBAN:H.default,isBIC:K.default,isAlpha:w.default,isAlphaLocales:w.locales,isAlphanumeric:_.default,isAlphanumericLocales:_.locales,isNumeric:E.default,isPassportNumber:T.default,isPort:I.default,isLowercase:S.default,isUppercase:C.default,isAscii:k.default,isFullWidth:N.default,isHalfWidth:A.default,isVariableWidth:x.default,isMultibyte:P.default,isSemVer:R.default,isSurrogatePair:D.default,isInt:M.default,isIMEI:O.default,isFloat:L.default,isFloatLocales:L.locales,isDecimal:j.default,isHexadecimal:F.default,isOctal:U.default,isDivisibleBy:V.default,isHexColor:B.default,isRgbColor:q.default,isHSL:W.default,isISRC:z.default,isMD5:G.default,isHash:$.default,isJWT:Y.default,isJSON:Q.default,isEmpty:X.default,isLength:J.default,isLocale:b.default,isByteLength:Z.default,isUUID:tt.default,isMongoId:et.default,isAfter:nt.default,isBefore:rt.default,isIn:it.default,isCreditCard:ot.default,isIdentityCard:at.default,isEAN:st.default,isISIN:ut.default,isISBN:ct.default,isISSN:lt.default,isMobilePhone:ft.default,isMobilePhoneLocales:ft.locales,isPostalCode:Ct.default,isPostalCodeLocales:Ct.locales,isEthereumAddress:pt.default,isCurrency:dt.default,isBtcAddress:vt.default,isISO8601:yt.default,isRFC3339:gt.default,isISO31661Alpha2:mt.default,isISO31661Alpha3:bt.default,isBase32:wt.default,isBase64:_t.default,isDataURI:Et.default,isMagnetURI:Tt.default,isMimeType:It.default,isLatLong:St.default,ltrim:Ot.default,rtrim:kt.default,trim:Nt.default,escape:At.default,unescape:xt.default,stripLow:Pt.default,whitelist:Rt.default,blacklist:Dt.default,isWhitelisted:Mt.default,normalizeEmail:Lt.default,toString:toString,isSlug:jt.default,isTaxID:ht.default,isDate:g.default};e.default=Bt,t.exports=e.default,t.exports.default=e.default},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){e=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function c(t){return void 0===t}function l(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return Gn(t,e,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(t){return null==t._pf&&(t._pf=v()),t._pf}function g(t){if(null==t._isValid){var e=y(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=d(NaN);return null!=t?p(y(e),t):y(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function _(t,e){var n,r,i;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=y(e)),c(e._locale)||(t._locale=e._locale),b.length>0)for(n=0;n<b.length;n++)c(i=e[r=b[n]])||(t[r]=i);return t}function E(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function T(t){return t instanceof E||null!=t&&null!=t._isAMomentObject}function I(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,o,a,u=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}I(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var C,O={};function k(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),O[t]||(I(e),O[t]=!0)}function N(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t){var e,n;for(n in t)s(t,n)&&(N(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function x(t,e){var n,r=p({},t);for(n in e)s(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&a(t[n])&&(r[n]=p({},r[n]));return r}function P(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return N(r)?r.call(e,n):r}function M(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(U[t]=i),e&&(U[e[0]]=function(){return M(i.apply(this,arguments),e[1],e[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,r=t.match(L);for(e=0,n=r.length;e<n;e++)U[r[e]]?r[e]=U[r[e]]:r[e]=B(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=N(r[i])?r[i].call(e,t):r[i];return o}}function W(t,e){return t.isValid()?(e=z(e,t.localeData()),F[e]=F[e]||q(e),F[e](t)):t.localeData().invalidDate()}function z(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;n>=0&&j.test(t);)t=t.replace(j,r),j.lastIndex=0,n-=1;return t}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(L).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var G="Invalid date";function $(){return this._invalidDate}var Y="%d",Q=/\d{1,2}/;function X(t){return this._ordinal.replace("%d",t)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(t,e,n,r){var i=this._relativeTime[n];return N(i)?i(t,e,n,r):i.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return N(n)?n(e):n.replace(/%s/i,e)}var et={};function nt(t,e){var n=t.toLowerCase();et[n]=et[n+"s"]=et[e]=t}function rt(t){return"string"===typeof t?et[t]||et[t.toLowerCase()]:void 0}function it(t){var e,n,r={};for(n in t)s(t,n)&&(e=rt(n))&&(r[e]=t[n]);return r}var ot={};function at(t,e){ot[t]=e}function st(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:ot[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function ut(t){return t%4===0&&t%100!==0||t%400===0}function ct(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ct(e)),n}function ht(t,e){return function(n){return null!=n?(pt(this,t,n),r.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&ut(t.year())&&1===t.month()&&29===t.date()?(n=lt(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Zt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function dt(t){return N(this[t=rt(t)])?this[t]():this}function vt(t,e){if("object"===typeof t){var n,r=st(t=it(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(N(this[t=rt(t)]))return this[t](e);return this}var yt,gt=/\d/,mt=/\d\d/,bt=/\d{3}/,wt=/\d{4}/,_t=/[+-]?\d{6}/,Et=/\d\d?/,Tt=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,St=/\d{1,3}/,Ct=/\d{1,4}/,Ot=/[+-]?\d{1,6}/,kt=/\d+/,Nt=/[+-]?\d+/,At=/Z|[+-]\d\d:?\d\d/gi,xt=/Z|[+-]\d\d(?::?\d\d)?/gi,Pt=/[+-]?\d+(\.\d{1,3})?/,Rt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Dt(t,e,n){yt[t]=N(e)?e:function(t,r){return t&&n?n:e}}function Mt(t,e){return s(yt,t)?yt[t](e._strict,e._locale):new RegExp(Lt(t))}function Lt(t){return jt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function jt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}yt={};var Ft={};function Ut(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=lt(t)}),n=0;n<t.length;n++)Ft[t[n]]=r}function Vt(t,e){Ut(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Bt(t,e,n){null!=e&&s(Ft,t)&&Ft[t](e,n._a,n,t)}var qt,Wt=0,zt=1,Ht=2,Kt=3,Gt=4,$t=5,Yt=6,Qt=7,Xt=8;function Jt(t,e){return(t%e+e)%e}function Zt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Jt(e,12);return t+=(e-n)/12,1===n?ut(t)?29:28:31-n%7%2}qt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),V("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),at("month",8),Dt("M",Et),Dt("MM",Et,mt),Dt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Dt("MMMM",(function(t,e){return e.monthsRegex(t)})),Ut(["M","MM"],(function(t,e){e[zt]=lt(t)-1})),Ut(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[zt]=i:y(n).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,re=Rt,ie=Rt;function oe(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ne).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ae(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ne.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=qt.call(this._shortMonthsParse,a))?i:null:-1!==(i=qt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=qt.call(this._shortMonthsParse,a))||-1!==(i=qt.call(this._longMonthsParse,a))?i:null:-1!==(i=qt.call(this._longMonthsParse,a))||-1!==(i=qt.call(this._shortMonthsParse,a))?i:null}function ue(t,e,n){var r,i,o;if(this._monthsParseExact)return se.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ce(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=lt(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Zt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function le(t){return null!=t?(ce(this,t),r.updateOffset(this,!0),this):ft(this,"Month")}function he(){return Zt(this.year(),this.month())}function fe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function de(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=jt(r[e]),i[e]=jt(i[e]);for(e=0;e<24;e++)o[e]=jt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ve(t){return ut(t)?366:365}V("Y",0,0,(function(){var t=this.year();return t<=9999?M(t,4):"+"+t})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),at("year",1),Dt("Y",Nt),Dt("YY",Et,mt),Dt("YYYY",Ct,wt),Dt("YYYYY",Ot,_t),Dt("YYYYYY",Ot,_t),Ut(["YYYYY","YYYYYY"],Wt),Ut("YYYY",(function(t,e){e[Wt]=2===t.length?r.parseTwoDigitYear(t):lt(t)})),Ut("YY",(function(t,e){e[Wt]=r.parseTwoDigitYear(t)})),Ut("Y",(function(t,e){e[Wt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var ye=ht("FullYear",!0);function ge(){return ut(this.year())}function me(t,e,n,r,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function be(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,n){var r=7+e-n;return-(7+be(t,0,r).getUTCDay()-e)%7+r-1}function _e(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+we(t,r,i);return s<=0?a=ve(o=t-1)+s:s>ve(t)?(o=t+1,a=s-ve(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Ee(t,e,n){var r,i,o=we(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Te(i=t.year()-1,e,n):a>Te(t.year(),e,n)?(r=a-Te(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Te(t,e,n){var r=we(t,e,n),i=we(t+1,e,n);return(ve(t)-r+i)/7}function Ie(t){return Ee(t,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),at("week",5),at("isoWeek",5),Dt("w",Et),Dt("ww",Et,mt),Dt("W",Et),Dt("WW",Et,mt),Vt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=lt(t)}));var Se={dow:0,doy:6};function Ce(){return this._week.dow}function Oe(){return this._week.doy}function ke(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ne(t){var e=Ee(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ae(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function xe(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pe(t,e){return t.slice(e,7).concat(t.slice(0,e))}V("d",0,"do","day"),V("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),V("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),V("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),Dt("d",Et),Dt("e",Et),Dt("E",Et),Dt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Dt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Dt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Vt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:y(n).invalidWeekday=t})),Vt(["d","e","E"],(function(t,e,n,r){e[r]=lt(t)}));var Re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),De="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Me="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Le=Rt,je=Rt,Fe=Rt;function Ue(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Pe(n,this._week.dow):t?n[t.day()]:n}function Ve(t){return!0===t?Pe(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Be(t){return!0===t?Pe(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function qe(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=qt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=qt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=qt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=qt.call(this._weekdaysParse,a))||-1!==(i=qt.call(this._shortWeekdaysParse,a))||-1!==(i=qt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=qt.call(this._shortWeekdaysParse,a))||-1!==(i=qt.call(this._weekdaysParse,a))||-1!==(i=qt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=qt.call(this._minWeekdaysParse,a))||-1!==(i=qt.call(this._weekdaysParse,a))||-1!==(i=qt.call(this._shortWeekdaysParse,a))?i:null}function We(t,e,n){var r,i,o;if(this._weekdaysParseExact)return qe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ae(t,this.localeData()),this.add(t-e,"d")):e}function He(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ke(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=xe(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ge(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Le),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function $e(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=je),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ye(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qe(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=jt(this.weekdaysMin(n,"")),i=jt(this.weekdaysShort(n,"")),o=jt(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);a.sort(t),s.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Je(){return this.hours()||24}function Ze(t,e){V(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xe),V("k",["kk",2],0,Je),V("hmm",0,0,(function(){return""+Xe.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xe.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Ze("a",!0),Ze("A",!1),nt("hour","h"),at("hour",13),Dt("a",tn),Dt("A",tn),Dt("H",Et),Dt("h",Et),Dt("k",Et),Dt("HH",Et,mt),Dt("hh",Et,mt),Dt("kk",Et,mt),Dt("hmm",Tt),Dt("hmmss",It),Dt("Hmm",Tt),Dt("Hmmss",It),Ut(["H","HH"],Kt),Ut(["k","kk"],(function(t,e,n){var r=lt(t);e[Kt]=24===r?0:r})),Ut(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Ut(["h","hh"],(function(t,e,n){e[Kt]=lt(t),y(n).bigHour=!0})),Ut("hmm",(function(t,e,n){var r=t.length-2;e[Kt]=lt(t.substr(0,r)),e[Gt]=lt(t.substr(r)),y(n).bigHour=!0})),Ut("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Kt]=lt(t.substr(0,r)),e[Gt]=lt(t.substr(r,2)),e[$t]=lt(t.substr(i)),y(n).bigHour=!0})),Ut("Hmm",(function(t,e,n){var r=t.length-2;e[Kt]=lt(t.substr(0,r)),e[Gt]=lt(t.substr(r))})),Ut("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Kt]=lt(t.substr(0,r)),e[Gt]=lt(t.substr(r,2)),e[$t]=lt(t.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=ht("Hours",!0);function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:R,longDateFormat:H,invalidDate:G,ordinal:Y,dayOfMonthOrdinalParse:Q,relativeTime:J,months:te,monthsShort:ee,week:Se,weekdays:Re,weekdaysMin:Me,weekdaysShort:De,meridiemParse:nn},un={},cn={};function ln(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function hn(t){return t?t.toLowerCase().replace("_","-"):t}function fn(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=hn(t[o]).split("-")).length,n=(n=hn(t[o+1]))?n.split("-"):null;e>0;){if(r=pn(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&ln(i,n)>=e-1)break;e--}o++}return an}function pn(e){var n=null;if(void 0===un[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=an._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),dn(n)}catch(r){un[e]=null}return un[e]}function dn(t,e){var n;return t&&((n=c(e)?gn(t):vn(t,e))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),an._abbr}function vn(t,e){if(null!==e){var n,r=sn;if(e.abbr=t,null!=un[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[t]._config;else if(null!=e.parentLocale)if(null!=un[e.parentLocale])r=un[e.parentLocale]._config;else{if(null==(n=pn(e.parentLocale)))return cn[e.parentLocale]||(cn[e.parentLocale]=[]),cn[e.parentLocale].push({name:t,config:e}),null;r=n._config}return un[t]=new P(x(r,e)),cn[t]&&cn[t].forEach((function(t){vn(t.name,t.config)})),dn(t),un[t]}return delete un[t],null}function yn(t,e){if(null!=e){var n,r,i=sn;null!=un[t]&&null!=un[t].parentLocale?un[t].set(x(un[t]._config,e)):(null!=(r=pn(t))&&(i=r._config),e=x(i,e),null==r&&(e.abbr=t),(n=new P(e)).parentLocale=un[t],un[t]=n),dn(t)}else null!=un[t]&&(null!=un[t].parentLocale?(un[t]=un[t].parentLocale,t===dn()&&dn(t)):null!=un[t]&&delete un[t]);return un[t]}function gn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return an;if(!o(t)){if(e=pn(t))return e;t=[t]}return fn(t)}function mn(){return C(un)}function bn(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[zt]<0||n[zt]>11?zt:n[Ht]<1||n[Ht]>Zt(n[Wt],n[zt])?Ht:n[Kt]<0||n[Kt]>24||24===n[Kt]&&(0!==n[Gt]||0!==n[$t]||0!==n[Yt])?Kt:n[Gt]<0||n[Gt]>59?Gt:n[$t]<0||n[$t]>59?$t:n[Yt]<0||n[Yt]>999?Yt:-1,y(t)._overflowDayOfYear&&(e<Wt||e>Ht)&&(e=Ht),y(t)._overflowWeeks&&-1===e&&(e=Qt),y(t)._overflowWeekday&&-1===e&&(e=Xt),y(t).overflow=e),t}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],In=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,On={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kn(t){var e,n,r,i,o,a,s=t._i,u=wn.exec(s)||_n.exec(s);if(u){for(y(t).iso=!0,e=0,n=Tn.length;e<n;e++)if(Tn[e][1].exec(u[1])){i=Tn[e][0],r=!1!==Tn[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=In.length;e<n;e++)if(In[e][1].exec(u[3])){o=(u[2]||" ")+In[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Vn(t)}else t._isValid=!1}function Nn(t,e,n,r,i,o){var a=[An(t),ee.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function An(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function xn(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(t,e,n){return!t||De.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(t,e,n){if(t)return On[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Dn(t){var e,n=Cn.exec(xn(t._i));if(n){if(e=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],e,t))return;t._a=e,t._tzm=Rn(n[8],n[9],n[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Mn(t){var e=Sn.exec(t._i);null===e?(kn(t),!1===t._isValid&&(delete t._isValid,Dn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Ln(t,e,n){return null!=t?t:null!=e?e:n}function jn(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Fn(t){var e,n,r,i,o,a=[];if(!t._d){for(r=jn(t),t._w&&null==t._a[Ht]&&null==t._a[zt]&&Un(t),null!=t._dayOfYear&&(o=Ln(t._a[Wt],r[Wt]),(t._dayOfYear>ve(o)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=be(o,0,t._dayOfYear),t._a[zt]=n.getUTCMonth(),t._a[Ht]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Kt]&&0===t._a[Gt]&&0===t._a[$t]&&0===t._a[Yt]&&(t._nextDay=!0,t._a[Kt]=0),t._d=(t._useUTC?be:me).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Kt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(y(t).weekdayMismatch=!0)}}function Un(t){var e,n,r,i,o,a,s,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=Ln(e.GG,t._a[Wt],Ee($n(),1,4).year),r=Ln(e.W,1),((i=Ln(e.E,1))<1||i>7)&&(u=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,c=Ee($n(),o,a),n=Ln(e.gg,t._a[Wt],c.year),r=Ln(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>Te(n,o,a)?y(t)._overflowWeeks=!0:null!=u?y(t)._overflowWeekday=!0:(s=_e(n,r,i,o,a),t._a[Wt]=s.year,t._dayOfYear=s.dayOfYear)}function Vn(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],y(t).empty=!0;var e,n,i,o,a,s,u=""+t._i,c=u.length,l=0;for(i=z(t._f,t._locale).match(L)||[],e=0;e<i.length;e++)o=i[e],(n=(u.match(Mt(o,t))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&y(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),l+=n.length),U[o]?(n?y(t).empty=!1:y(t).unusedTokens.push(o),Bt(o,n,t)):t._strict&&!n&&y(t).unusedTokens.push(o);y(t).charsLeftOver=c-l,u.length>0&&y(t).unusedInput.push(u),t._a[Kt]<=12&&!0===y(t).bigHour&&t._a[Kt]>0&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[Kt]=Bn(t._locale,t._a[Kt],t._meridiem),null!==(s=y(t).era)&&(t._a[Wt]=t._locale.erasConvertYear(s,t._a[Wt])),Fn(t),bn(t)}else Dn(t);else kn(t)}function Bn(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function qn(t){var e,n,r,i,o,a,s=!1;if(0===t._f.length)return y(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,a=!1,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Vn(e),g(e)&&(a=!0),o+=y(e).charsLeftOver,o+=10*y(e).unusedTokens.length,y(e).score=o,s?o<r&&(r=o,n=e):(null==r||o<r||a)&&(r=o,n=e,a&&(s=!0));p(t,n||e)}function Wn(t){if(!t._d){var e=it(t._i),n=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Fn(t)}}function zn(t){var e=new E(bn(Hn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Hn(t){var e=t._i,n=t._f;return t._locale=t._locale||gn(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),T(e)?new E(bn(e)):(h(e)?t._d=e:o(n)?qn(t):n?Vn(t):Kn(t),g(t)||(t._d=null),t))}function Kn(t){var e=t._i;c(e)?t._d=new Date(r.now()):h(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Mn(t):o(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),Fn(t)):a(e)?Wn(t):l(e)?t._d=new Date(e):r.createFromInputFallback(t)}function Gn(t,e,n,r,i){var s={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&u(t)||o(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,zn(s)}function $n(t,e,n,r){return Gn(t,e,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Yn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Qn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function Xn(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return $n();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function Zn(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(t){var e,n,r=!1;for(e in t)if(s(t,e)&&(-1===qt.call(er,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<er.length;++n)if(t[er[n]]){if(r)return!1;parseFloat(t[er[n]])!==lt(t[er[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Or(NaN)}function or(t){var e=it(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._isValid=nr(e),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ar(t){return t instanceof or}function sr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ur(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&lt(t[r])!==lt(e[r]))&&a++;return a+o}function cr(t,e){V(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)}))}cr("Z",":"),cr("ZZ",""),Dt("Z",xt),Dt("ZZ",xt),Ut(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=hr(xt,t)}));var lr=/([\+\-]|\d\d)/gi;function hr(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+lt(n[2]))?0:"+"===n[0]?r:-r}function fr(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(T(t)||h(t)?t.valueOf():$n(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):$n(t).local()}function pr(t){return-Math.round(t._d.getTimezoneOffset())}function dr(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=hr(xt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=pr(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Pr(this,Or(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function vr(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yr(t){return this.utcOffset(0,t)}function gr(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pr(this),"m")),this}function mr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=hr(At,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function br(t){return!!this.isValid()&&(t=t?$n(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _(e,this),(e=Hn(e))._a?(t=e._isUTC?d(e._a):$n(e._a),this._isDSTShifted=this.isValid()&&ur(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC}function Ir(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Or(t,e){var n,r,i,o=t,a=null;return ar(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(a=Sr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:lt(a[Ht])*n,h:lt(a[Kt])*n,m:lt(a[Gt])*n,s:lt(a[$t])*n,ms:lt(sr(1e3*a[Yt]))*n}):(a=Cr.exec(t))?(n="-"===a[1]?-1:1,o={y:kr(a[2],n),M:kr(a[3],n),w:kr(a[4],n),d:kr(a[5],n),h:kr(a[6],n),m:kr(a[7],n),s:kr(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ar($n(o.from),$n(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),ar(t)&&s(t,"_locale")&&(r._locale=t._locale),ar(t)&&s(t,"_isValid")&&(r._isValid=t._isValid),r}function kr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Nr(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ar(t,e){var n;return t.isValid()&&e.isValid()?(e=fr(e,t),t.isBefore(e)?n=Nr(t,e):((n=Nr(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function xr(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Or(n,r),t),this}}function Pr(t,e,n,i){var o=e._milliseconds,a=sr(e._days),s=sr(e._months);t.isValid()&&(i=null==i||i,s&&ce(t,ft(t,"Month")+s*n),a&&pt(t,"Date",ft(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Or.fn=or.prototype,Or.invalid=ir;var Rr=xr(1,"add"),Dr=xr(-1,"subtract");function Mr(t){return"string"===typeof t||t instanceof String}function Lr(t){return T(t)||h(t)||Mr(t)||l(t)||Fr(t)||jr(t)||null===t||void 0===t}function jr(t){var e,n,r=a(t)&&!u(t),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<o.length;e+=1)n=o[e],i=i||s(t,n);return r&&i}function Fr(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!l(e)&&Mr(t)})).length),e&&n}function Ur(t){var e,n,r=a(t)&&!u(t),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=o[e],i=i||s(t,n);return r&&i}function Vr(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(t,e){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(t=arguments[0],e=void 0):Ur(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||$n(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(N(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,$n(n)))}function qr(){return new E(this)}function Wr(t,e){var n=T(t)?t:$n(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function zr(t,e){var n=T(t)?t:$n(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Hr(t,e,n,r){var i=T(t)?t:$n(t),o=T(e)?e:$n(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Kr(t,e){var n,r=T(t)?t:$n(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=rt(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Gr(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function $r(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Yr(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=rt(e)){case"year":o=Qr(this,r)/12;break;case"month":o=Qr(this,r);break;case"quarter":o=Qr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ct(o)}function Qr(t,e){if(t.date()<e.date())return-Qr(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(t+e+n+r)}function ti(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function ei(t,e){return this.isValid()&&(T(t)&&t.isValid()||$n(t).isValid())?Or({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ni(t){return this.from($n(),t)}function ri(t,e){return this.isValid()&&(T(t)&&t.isValid()||$n(t).isValid())?Or({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ii(t){return this.to($n(),t)}function oi(t){var e;return void 0===t?this._locale._abbr:(null!=(e=gn(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function si(){return this._locale}var ui=1e3,ci=60*ui,li=60*ci,hi=3506328*li;function fi(t,e){return(t%e+e)%e}function pi(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-hi:new Date(t,e,n).valueOf()}function di(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-hi:Date.UTC(t,e,n)}function vi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?di:pi,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fi(e+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":e=this._d.valueOf(),e-=fi(e,ci);break;case"second":e=this._d.valueOf(),e-=fi(e,ui)}return this._d.setTime(e),r.updateOffset(this,!0),this}function yi(t){var e,n;if(void 0===(t=rt(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?di:pi,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=li-fi(e+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":e=this._d.valueOf(),e+=ci-fi(e,ci)-1;break;case"second":e=this._d.valueOf(),e+=ui-fi(e,ui)-1}return this._d.setTime(e),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function mi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function _i(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Ti(){return g(this)}function Ii(){return p({},y(this))}function Si(){return y(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Oi(t,e){var n,i,o,a=this._eras||gn("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a}function ki(t,e,n){var r,i,o,a,s,u=this.eras();for(t=t.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return u[r];break;case"NNNN":if(o===t)return u[r];break;case"NNNNN":if(s===t)return u[r]}else if([o,a,s].indexOf(t)>=0)return u[r]}function Ni(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n}function Ai(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function xi(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function Pi(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function Ri(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-r(o[t].since).year())*n+o[t].offset;return this.year()}function Di(t){return s(this,"_erasNameRegex")||Bi.call(this),t?this._erasNameRegex:this._erasRegex}function Mi(t){return s(this,"_erasAbbrRegex")||Bi.call(this),t?this._erasAbbrRegex:this._erasRegex}function Li(t){return s(this,"_erasNarrowRegex")||Bi.call(this),t?this._erasNarrowRegex:this._erasRegex}function ji(t,e){return e.erasAbbrRegex(t)}function Fi(t,e){return e.erasNameRegex(t)}function Ui(t,e){return e.erasNarrowRegex(t)}function Vi(t,e){return e._eraYearOrdinalRegex||kt}function Bi(){var t,e,n=[],r=[],i=[],o=[],a=this.eras();for(t=0,e=a.length;t<e;++t)r.push(jt(a[t].name)),n.push(jt(a[t].abbr)),i.push(jt(a[t].narrow)),o.push(jt(a[t].name)),o.push(jt(a[t].abbr)),o.push(jt(a[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(t,e){V(0,[t,t.length],0,e)}function Wi(t){return Yi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zi(t){return Yi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return Te(this.year(),1,4)}function Ki(){return Te(this.isoWeekYear(),1,4)}function Gi(){var t=this.localeData()._week;return Te(this.year(),t.dow,t.doy)}function $i(){var t=this.localeData()._week;return Te(this.weekYear(),t.dow,t.doy)}function Yi(t,e,n,r,i){var o;return null==t?Ee(this,r,i).year:(e>(o=Te(t,r,i))&&(e=o),Qi.call(this,t,e,n,r,i))}function Qi(t,e,n,r,i){var o=_e(t,e,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Xi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Dt("N",ji),Dt("NN",ji),Dt("NNN",ji),Dt("NNNN",Fi),Dt("NNNNN",Ui),Ut(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?y(n).era=i:y(n).invalidEra=t})),Dt("y",kt),Dt("yy",kt),Dt("yyy",kt),Dt("yyyy",kt),Dt("yo",Vi),Ut(["y","yy","yyy","yyyy"],Wt),Ut(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Wt]=n._locale.eraYearOrdinalParse(t,i):e[Wt]=parseInt(t,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),Dt("G",Nt),Dt("g",Nt),Dt("GG",Et,mt),Dt("gg",Et,mt),Dt("GGGG",Ct,wt),Dt("gggg",Ct,wt),Dt("GGGGG",Ot,_t),Dt("ggggg",Ot,_t),Vt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=lt(t)})),Vt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),V("Q",0,"Qo","quarter"),nt("quarter","Q"),at("quarter",7),Dt("Q",gt),Ut("Q",(function(t,e){e[zt]=3*(lt(t)-1)})),V("D",["DD",2],"Do","date"),nt("date","D"),at("date",9),Dt("D",Et),Dt("DD",Et,mt),Dt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ut(["D","DD"],Ht),Ut("Do",(function(t,e){e[Ht]=lt(t.match(Et)[0])}));var Ji=ht("Date",!0);function Zi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),at("dayOfYear",4),Dt("DDD",St),Dt("DDDD",bt),Ut(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=lt(t)})),V("m",["mm",2],0,"minute"),nt("minute","m"),at("minute",14),Dt("m",Et),Dt("mm",Et,mt),Ut(["m","mm"],Gt);var to=ht("Minutes",!1);V("s",["ss",2],0,"second"),nt("second","s"),at("second",15),Dt("s",Et),Dt("ss",Et,mt),Ut(["s","ss"],$t);var eo,no,ro=ht("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),at("millisecond",16),Dt("S",St,gt),Dt("SS",St,mt),Dt("SSS",St,bt),eo="SSSS";eo.length<=9;eo+="S")Dt(eo,kt);function io(t,e){e[Yt]=lt(1e3*("0."+t))}for(eo="S";eo.length<=9;eo+="S")Ut(eo,io);function oo(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=ht("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var so=E.prototype;function uo(t){return $n(1e3*t)}function co(){return $n.apply(null,arguments).parseZone()}function lo(t){return t}so.add=Rr,so.calendar=Br,so.clone=qr,so.diff=Yr,so.endOf=yi,so.format=ti,so.from=ei,so.fromNow=ni,so.to=ri,so.toNow=ii,so.get=dt,so.invalidAt=Si,so.isAfter=Wr,so.isBefore=zr,so.isBetween=Hr,so.isSame=Kr,so.isSameOrAfter=Gr,so.isSameOrBefore=$r,so.isValid=Ti,so.lang=ai,so.locale=oi,so.localeData=si,so.max=Qn,so.min=Yn,so.parsingFlags=Ii,so.set=vt,so.startOf=vi,so.subtract=Dr,so.toArray=wi,so.toObject=_i,so.toDate=bi,so.toISOString=Jr,so.inspect=Zr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(so[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),so.toJSON=Ei,so.toString=Xr,so.unix=mi,so.valueOf=gi,so.creationData=Ci,so.eraName=Ai,so.eraNarrow=xi,so.eraAbbr=Pi,so.eraYear=Ri,so.year=ye,so.isLeapYear=ge,so.weekYear=Wi,so.isoWeekYear=zi,so.quarter=so.quarters=Xi,so.month=le,so.daysInMonth=he,so.week=so.weeks=ke,so.isoWeek=so.isoWeeks=Ne,so.weeksInYear=Gi,so.weeksInWeekYear=$i,so.isoWeeksInYear=Hi,so.isoWeeksInISOWeekYear=Ki,so.date=Ji,so.day=so.days=ze,so.weekday=He,so.isoWeekday=Ke,so.dayOfYear=Zi,so.hour=so.hours=rn,so.minute=so.minutes=to,so.second=so.seconds=ro,so.millisecond=so.milliseconds=no,so.utcOffset=dr,so.utc=yr,so.local=gr,so.parseZone=mr,so.hasAlignedHourOffset=br,so.isDST=wr,so.isLocal=Er,so.isUtcOffset=Tr,so.isUtc=Ir,so.isUTC=Ir,so.zoneAbbr=oo,so.zoneName=ao,so.dates=S("dates accessor is deprecated. Use date instead.",Ji),so.months=S("months accessor is deprecated. Use month instead",le),so.years=S("years accessor is deprecated. Use year instead",ye),so.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),so.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ho=P.prototype;function fo(t,e,n,r){var i=gn(),o=d().set(r,e);return i[n](o,t)}function po(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return fo(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fo(t,r,n,"month");return i}function vo(t,e,n,r){"boolean"===typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var i,o=gn(),a=t?o._week.dow:0,s=[];if(null!=n)return fo(e,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=fo(e,(i+a)%7,r,"day");return s}function yo(t,e){return po(t,e,"months")}function go(t,e){return po(t,e,"monthsShort")}function mo(t,e,n){return vo(t,e,n,"weekdays")}function bo(t,e,n){return vo(t,e,n,"weekdaysShort")}function wo(t,e,n){return vo(t,e,n,"weekdaysMin")}ho.calendar=D,ho.longDateFormat=K,ho.invalidDate=$,ho.ordinal=X,ho.preparse=lo,ho.postformat=lo,ho.relativeTime=Z,ho.pastFuture=tt,ho.set=A,ho.eras=Oi,ho.erasParse=ki,ho.erasConvertYear=Ni,ho.erasAbbrRegex=Mi,ho.erasNameRegex=Di,ho.erasNarrowRegex=Li,ho.months=oe,ho.monthsShort=ae,ho.monthsParse=ue,ho.monthsRegex=pe,ho.monthsShortRegex=fe,ho.week=Ie,ho.firstDayOfYear=Oe,ho.firstDayOfWeek=Ce,ho.weekdays=Ue,ho.weekdaysMin=Be,ho.weekdaysShort=Ve,ho.weekdaysParse=We,ho.weekdaysRegex=Ge,ho.weekdaysShortRegex=$e,ho.weekdaysMinRegex=Ye,ho.isPM=en,ho.meridiem=on,dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===lt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",dn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",gn);var _o=Math.abs;function Eo(){var t=this._data;return this._milliseconds=_o(this._milliseconds),this._days=_o(this._days),this._months=_o(this._months),t.milliseconds=_o(t.milliseconds),t.seconds=_o(t.seconds),t.minutes=_o(t.minutes),t.hours=_o(t.hours),t.months=_o(t.months),t.years=_o(t.years),this}function To(t,e,n,r){var i=Or(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Io(t,e){return To(this,t,e,1)}function So(t,e){return To(this,t,e,-1)}function Co(t){return t<0?Math.floor(t):Math.ceil(t)}function Oo(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Co(No(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=ct(o/1e3),u.seconds=t%60,e=ct(t/60),u.minutes=e%60,n=ct(e/60),u.hours=n%24,a+=ct(n/24),s+=i=ct(ko(a)),a-=Co(No(i)),r=ct(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function ko(t){return 4800*t/146097}function No(t){return 146097*t/4800}function Ao(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=rt(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+ko(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(No(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function xo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12):NaN}function Po(t){return function(){return this.as(t)}}var Ro=Po("ms"),Do=Po("s"),Mo=Po("m"),Lo=Po("h"),jo=Po("d"),Fo=Po("w"),Uo=Po("M"),Vo=Po("Q"),Bo=Po("y");function qo(){return Or(this)}function Wo(t){return t=rt(t),this.isValid()?this[t+"s"]():NaN}function zo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ho=zo("milliseconds"),Ko=zo("seconds"),Go=zo("minutes"),$o=zo("hours"),Yo=zo("days"),Qo=zo("months"),Xo=zo("years");function Jo(){return ct(this.days()/7)}var Zo=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ea(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function na(t,e,n,r){var i=Or(t).abs(),o=Zo(i.as("s")),a=Zo(i.as("m")),s=Zo(i.as("h")),u=Zo(i.as("d")),c=Zo(i.as("M")),l=Zo(i.as("w")),h=Zo(i.as("y")),f=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=r,ea.apply(null,f)}function ra(t){return void 0===t?Zo:"function"===typeof t&&(Zo=t,!0)}function ia(t,e){return void 0!==ta[t]&&(void 0===e?ta[t]:(ta[t]=e,"s"===t&&(ta.ss=e-1),!0))}function oa(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ta;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(i=t),"object"===typeof e&&(o=Object.assign({},ta,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=na(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(t){return(t>0)-(t<0)||+t}function ua(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,a,s,u=aa(this._milliseconds)/1e3,c=aa(this._days),l=aa(this._months),h=this.asSeconds();return h?(t=ct(u/60),e=ct(t/60),u%=60,t%=60,n=ct(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=sa(this._months)!==sa(h)?"-":"",a=sa(this._days)!==sa(h)?"-":"",s=sa(this._milliseconds)!==sa(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?a+c+"D":"")+(e||t||u?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(u?s+r+"S":"")):"P0D"}var ca=or.prototype;return ca.isValid=rr,ca.abs=Eo,ca.add=Io,ca.subtract=So,ca.as=Ao,ca.asMilliseconds=Ro,ca.asSeconds=Do,ca.asMinutes=Mo,ca.asHours=Lo,ca.asDays=jo,ca.asWeeks=Fo,ca.asMonths=Uo,ca.asQuarters=Vo,ca.asYears=Bo,ca.valueOf=xo,ca._bubble=Oo,ca.clone=qo,ca.get=Wo,ca.milliseconds=Ho,ca.seconds=Ko,ca.minutes=Go,ca.hours=$o,ca.days=Yo,ca.weeks=Jo,ca.months=Qo,ca.years=Xo,ca.humanize=oa,ca.toISOString=ua,ca.toString=ua,ca.toJSON=ua,ca.locale=oi,ca.localeData=si,ca.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),ca.lang=ai,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Dt("x",Nt),Dt("X",Pt),Ut("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Ut("x",(function(t,e,n){n._d=new Date(lt(t))})),r.version="2.29.1",i($n),r.fn=so,r.min=Jn,r.max=Zn,r.now=tr,r.utc=d,r.unix=uo,r.months=yo,r.isDate=h,r.locale=dn,r.invalid=m,r.duration=Or,r.isMoment=T,r.weekdays=mo,r.parseZone=co,r.localeData=gn,r.isDuration=ar,r.monthsShort=go,r.weekdaysMin=wo,r.defineLocale=vn,r.updateLocale=yn,r.locales=mn,r.weekdaysShort=bo,r.normalizeUnits=rt,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=Vr,r.prototype=so,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(154)(t))},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i},function(t,e,n){"use strict";n(38);var r=n(3),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},function(t,e,n){"use strict";var r=n(38),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),O(a,e,n,"",(function(t){return t}))):null!=a&&(I(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+C(s=t[c],c);u+=O(s,e,n,l,a)}else if("function"===typeof(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(s=t.next()).done;)u+=O(s=s.value,e,n,l=r+C(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function k(t,e,n){if(null==t)return t;var r=[],i=0;return O(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function N(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var A={current:null};function x(){var t=A.current;if(null===t)throw Error(p(321));return t}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:k,forEach:function(t,e,n){k(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return k(t,(function(){e++})),e},toArray:function(t){return k(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error(p(143));return t}},e.Component=y,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)_.call(e,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return x().useCallback(t,e)},e.useContext=function(t,e){return x().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return x().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return x().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return x().useLayoutEffect(t,e)},e.useMemo=function(t,e){return x().useMemo(t,e)},e.useReducer=function(t,e,n){return x().useReducer(t,e,n)},e.useRef=function(t){return x().useRef(t)},e.useState=function(t){return x().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var r=n(3),i=n(38),o=n(68);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function y(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,T=60106,I=60107,S=60108,C=60114,O=60109,k=60110,N=60112,A=60113,x=60120,P=60115,R=60116,D=60121,M=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),T=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),O=U("react.provider"),k=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),x=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=B&&t[B]||t["@@iterator"])?t:null}function W(t){if(void 0===V)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var z=!1;function H(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?W(t):""}function K(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 22:return t=H(t.type._render,!1);case 1:return t=H(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case N:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return G(t.type);case D:return G(t._render);case R:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function $(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=$(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function ct(t,e){var n=$(e.value),r=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,yt,gt=(yt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function _t(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_t(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){wt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var Tt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,e){if(e){if(Tt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ot=null,kt=null,Nt=null;function At(t){if(t=ti(t)){if("function"!==typeof Ot)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),Ot(t.stateNode,t.type,e))}}function xt(t){kt?Nt?Nt.push(t):Nt=[t]:kt=t}function Pt(){if(kt){var t=kt,e=Nt;if(Nt=kt=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Rt(t,e){return t(e)}function Dt(t,e,n,r,i){return t(e,n,r,i)}function Mt(){}var Lt=Rt,jt=!1,Ft=!1;function Ut(){null===kt&&null===Nt||(Mt(),Pt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Bt=!1;if(h)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(yt){Bt=!1}function Wt(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var zt=!1,Ht=null,Kt=!1,Gt=null,$t={onError:function(t){zt=!0,Ht=t}};function Yt(t,e,n,r,i,o,a,s,u){zt=!1,Ht=null,Wt.apply($t,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Qt(t)!==t)throw Error(a(188))}function Zt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,ce=null,le=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=Zr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){me(t)&&n.delete(e)}function we(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==ce&&me(ce)&&(ce=null),le.forEach(be),he.forEach(be)}function _e(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,we)))}function Ee(t){function e(e){return _e(e,t)}if(0<ae.length){_e(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&_e(se,t),null!==ue&&_e(ue,t),null!==ce&&_e(ce,t),le.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Te(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ie={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionend:Te("Transition","TransitionEnd")},Se={},Ce={};function Oe(t){if(Se[t])return Se[t];if(!Ie[t])return t;var e,n=Ie[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Se[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);var ke=Oe("animationend"),Ne=Oe("animationiteration"),Ae=Oe("animationstart"),xe=Oe("transitionend"),Pe=new Map,Re=new Map,De=["abort","abort",ke,"animationEnd",Ne,"animationIteration",Ae,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xe,"transitionEnd","waiting","waiting"];function Me(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),Pe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Le=8;function je(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=je(u),i=Le):0!==(s&=o)&&(r=je(s),i=Le)}else 0!==(o=n&~a)?(r=je(o),i=Le):0!==s&&(r=je(s),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-ze(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(je(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ze(e)),r|=t[n],e&=~i;return r}function Ue(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Be(24&~e))?Ve(10,e):t;case 10:return 0===(t=Be(192&~e))?Ve(8,e):t;case 8:return 0===(t=Be(3584&~e))&&(0===(t=Be(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Be(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Be(t){return t&-t}function qe(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-ze(e)]=n}var ze=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(He(t)/Ke|0)|0},He=Math.log,Ke=Math.LN2;var Ge=o.unstable_UserBlockingPriority,$e=o.unstable_runWithPriority,Ye=!0;function Qe(t,e,n,r){jt||Mt();var i=Je,o=jt;jt=!0;try{Dt(i,t,e,n,r)}finally{(jt=o)||Ut()}}function Xe(t,e,n,r){$e(Ge,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if(Ye)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Ze(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ye(se,t,e,n,r,i),!0;case"dragenter":return ue=ye(ue,t,e,n,r,i),!0;case"mouseover":return ce=ye(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return le.set(o,ye(le.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,ye(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Pr(t,e,r,null,n)}}}function Ze(t,e,n,r){var i=Ct(r);if(null!==(i=Zr(i))){var o=Qt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),dn=i({},fn,{view:0,detail:0}),vn=un(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(cn=t.screenX-hn.screenX,ln=t.screenY-hn.screenY):ln=cn=0,hn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},dn,{relatedTarget:0})),wn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=un(i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),En=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function On(){return Cn}var kn=un(i({},dn,{key:function(t){if(t.key){var e=Tn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?In[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Nn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),xn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=un(i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,Mn=null;h&&"documentMode"in document&&(Mn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Mn,jn=h&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Hn(t,e,n,r){xt(r),0<(e=Dr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function $n(t){Cr(t,0)}function Yn(t){if(X(ei(t)))return t}function Qn(t,e){if("change"===t)return e}var Xn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];if(Hn(e,Gn,t,Ct(t)),t=$n,jt)t(e);else{jt=!0;try{Rt(t,e)}finally{jt=!1,Ut()}}}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ur=Object.prototype.hasOwnProperty;function cr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function fr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Dr(gr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}Me("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Me("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Me(De,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Re.set(_r[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Sr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if(Yt.apply(this,arguments),zt){if(!zt)throw Error(a(198));var l=Ht;zt=!1,Ht=null,Kt||(Kt=!0,Gt=l)}}(r,e,void 0,t),t.currentTarget=null}function Cr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,c),o=u}}}if(Kt)throw t=Gt,Kt=!1,Gt=null,t}function Or(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(xr(e,t,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Nr(t){t[kr]||(t[kr]=!0,s.forEach((function(e){Ir.has(e)||Ar(e,!1,t,null),Ar(e,!0,t,null)})))}function Ar(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Ir.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),xr(o,t,i,e),a.add(s))}function xr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Qe;break;case 1:i=Xe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!Bt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t(e,n);Ft=!0;try{Lt(t,e,n)}finally{Ft=!1,Ut()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=Pe.get(t);if(void 0!==s){var u=pn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case ke:case Ne:case Ae:u=wn;break;case xe:u=xn;break;case"scroll":u=vn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Vt(d,f))&&l.push(Rr(d,v,p)))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=Qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Nn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ei(u),p=null==c?s:ei(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,Zr(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=Mr(p))d++;for(p=0,v=f;v;v=Mr(v))p++;for(;0<d-p;)l=Mr(l),d--;for(;0<p-d;)f=Mr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=Mr(l),f=Mr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Qn;else if(zn(s))if(Xn)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(t,r))?Hn(a,y,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ei(r):window,t){case"focusin":(zn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var m;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else qn?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,qn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,t,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=Bn(n))&&(b.data=m))),(m=Ln?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(Un=!0,Fn);case"textInput":return(t=e.data)===Fn&&Un?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!Dn&&Vn(t,e)?(t=rn(),nn=en=tn=null,qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Cr(a,e)}))}function Rr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Vt(t,n))&&r.unshift(Rr(t,o,i)),null!=(o=Vt(t,e))&&r.push(Rr(t,o,i))),t=t.return}return r}function Mr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Lr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Vt(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Vt(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function jr(){}var Fr=null,Ur=null;function Vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Br(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function zr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Hr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Gr=0;var $r=Math.random().toString(36).slice(2),Yr="__reactFiber$"+$r,Qr="__reactProps$"+$r,Xr="__reactContainer$"+$r,Jr="__reactEvents$"+$r;function Zr(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[Yr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[Yr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[Yr]||t[Xr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[Qr]||null}function ri(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function ui(t,e){oi++,ii[oi]=t.current,t.current=e}var ci={},li=ai(ci),hi=ai(!1),fi=ci;function pi(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(){si(hi),si(li)}function yi(t,e,n){if(li.current!==ci)throw Error(a(168));ui(li,e),ui(hi,n)}function gi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,G(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,fi=li.current,ui(li,t),ui(hi,hi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=gi(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(li),ui(li,t)):si(hi),ui(hi,n)}var wi=null,_i=null,Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Oi=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},Mi=void 0!==Ci?Ci:function(){},Li=null,ji=null,Fi=!1,Ui=Oi(),Vi=1e4>Ui?Oi:function(){return Oi()-Ui};function Bi(){switch(ki()){case Ni:return 99;case Ai:return 98;case xi:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ni;case 98:return Ai;case 97:return xi;case 96:return Pi;case 95:return Ri;default:throw Error(a(332))}}function Wi(t,e){return t=qi(t),Ei(t,e)}function zi(t,e,n){return t=qi(t),Ti(t,e,n)}function Hi(){if(null!==ji){var t=ji;ji=null,Ii(t)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var t=0;try{var e=Li;Wi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(t+1)),Ti(Ni,Hi),n}finally{Fi=!1}}}var Gi=_.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Yi=ai(null),Qi=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Qi=null}function to(t){var e=Yi.current;si(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){Qi=t,Ji=Xi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Xi){if(null===Qi)throw Error(a(308));Xi=e,Qi.dependencies={lanes:0,firstContext:e,responders:null}}else Xi=Xi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=v.payload)?d.call(p,f,u):d)||void 0===u)break t;f=i({},f,u);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=p,c=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Fs|=s,t.lanes=s,t.memoizedState=f}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cu(),r=lu(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),uo(t,i),hu(t,r,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=di(e)?fi:li.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?pi(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=di(e)?fi:li.current,i.context=pi(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var wo=Array.isArray;function _o(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===fo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function To(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Wu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Gu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=_o(t,e,n),r.return=t,r):((r=zu(n.type,n.key,n.props,null,t.mode,r)).ref=_o(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$u(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Hu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Gu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case E:return(n=zu(e.type,e.key,e.props,null,t.mode,n)).ref=_o(t,null,e),n.return=t,n;case T:return(e=$u(e,t.mode,n)).return=t,e}if(wo(e)||q(e))return(e=Hu(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case T:return n.key===i?l(t,e,n,r):null}if(wo(n)||q(n))return null!==i?null:h(t,e,n,r,null);Eo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===I?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case T:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||q(r))return h(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=d(h,i,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach((function(t){return e(i,t)})),c}function y(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=d(v,i,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=_o(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===I?((r=Hu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=zu(o.type,o.key,o.props,null,t.mode,u)).ref=_o(t,r,o),u.return=t,t=u)}return s(t);case T:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=$u(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Gu(o,t.mode,u)).return=t,t=r),s(t);if(wo(o))return v(t,r,o,u);if(q(o))return y(t,r,o,u);if(l&&Eo(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(t.type)||"Component"))}return n(t,r)}}var Io=To(!0),So=To(!1),Co={},Oo=ai(Co),ko=ai(Co),No=ai(Co);function Ao(t){if(t===Co)throw Error(a(174));return t}function xo(t,e){switch(ui(No,e),ui(ko,t),ui(Oo,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Oo),ui(Oo,e)}function Po(){si(Oo),si(ko),si(No)}function Ro(t){Ao(No.current);var e=Ao(Oo.current),n=dt(e,t.type);e!==n&&(ui(ko,t),ui(Oo,n))}function Do(t){ko.current===t&&(si(Oo),si(ko))}var Mo=ai(0);function Lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jo=null,Fo=null,Uo=!1;function Vo(t,e){var n=Bu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Bo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function qo(t){if(Uo){var e=Fo;if(e){var n=e;if(!Bo(t,e)){if(!(e=Hr(n.nextSibling))||!Bo(t,e))return t.flags=-1025&t.flags|2,Uo=!1,void(jo=t);Vo(jo,n)}jo=t,Fo=Hr(e.firstChild)}else t.flags=-1025&t.flags|2,Uo=!1,jo=t}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;jo=t}function zo(t){if(t!==jo)return!1;if(!Uo)return Wo(t),Uo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Br(e,t.memoizedProps))for(e=Fo;e;)Vo(t,e),e=Hr(e.nextSibling);if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Fo=Hr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Fo=null}}else Fo=jo?Hr(t.stateNode.nextSibling):null;return!0}function Ho(){Fo=jo=null,Uo=!1}var Ko=[];function Go(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var $o=_.ReactCurrentDispatcher,Yo=_.ReactCurrentBatchConfig,Qo=0,Xo=null,Jo=null,Zo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if(Qo=o,Xo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$o.current=null===t||null===t.memoizedState?Aa:xa,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,e.updateQueue=null,$o.current=Pa,t=n(r,i)}while(ea)}if($o.current=Na,e=null!==Jo&&null!==Jo.next,Qo=0,Zo=Jo=Xo=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t,Zo}function aa(){if(null===Jo){var t=Xo.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Zo?Xo.memoizedState:Zo.next;if(null!==e)Zo=e,Jo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t}return Zo}function sa(t,e){return"function"===typeof e?e(t):e}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Qo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Xo.lanes|=l,Fs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,sr(r,e.memoizedState)||(Da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ca(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function la(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Qo&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function ha(t,e,n,r){var i=As;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=$o.current,c=u.useState((function(){return la(i,e,n)})),l=c[1],h=c[0];c=Zo;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var y=Xo;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(h,t)||(l(t),t=lu(y),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-ze(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=lu(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(d,n)&&sr(v,e)&&sr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=l=ka.bind(null,Xo,t),c.queue=t,c.baseQueue=null,h=la(i,e,n),c.memoizedState=c.baseState=h),h}function fa(t,e,n){return ha(aa(),t,e,n)}function pa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=ka.bind(null,Xo,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Xo.updateQueue)?(e={lastEffect:null},Xo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function va(t){return t={current:t},oa().memoizedState=t}function ya(){return aa().memoizedState}function ga(t,e,n,r){var i=oa();Xo.flags|=t,i.memoizedState=da(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void da(e,n,o,r)}Xo.flags|=t,i.memoizedState=da(1|e,n,o,r)}function ba(t,e){return ga(516,4,t,e)}function wa(t,e){return ma(516,4,t,e)}function _a(t,e){return ma(4,2,t,e)}function Ea(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ta(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,Ea.bind(null,e,t),n)}function Ia(){}function Sa(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ca(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oa(t,e){var n=Bi();Wi(98>n?98:n,(function(){t(!0)})),Wi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{t(!1),e()}finally{Yo.transition=n}}))}function ka(t,e,n){var r=cu(),i=lu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Xo||null!==a&&a===Xo)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(c){}hu(t,i,r)}}var Na={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Aa={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ga(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ka.bind(null,Xo,t),[r.memoizedState,t]},useRef:va,useState:pa,useDebugValue:Ia,useDeferredValue:function(t){var e=pa(t),n=e[0],r=e[1];return ba((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=pa(!1),e=t[0];return va(t=Oa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ha(r,t,e,n)},useOpaqueIdentifier:function(){if(Uo){var t=!1,e=function(t){return{$$typeof:M,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=pa(e)[1];return 0===(2&Xo.mode)&&(Xo.flags|=516,da(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),e}return pa(e="r:"+(Gr++).toString(36)),e},unstable_isNewReconciler:!1},xa={readContext:ro,useCallback:Sa,useContext:ro,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Ca,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return wa((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Pa={readContext:ro,useCallback:Sa,useContext:ro,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Ca,useReducer:ca,useRef:ya,useState:function(){return ca(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ca(sa),n=e[0],r=e[1];return wa((function(){var e=Yo.transition;Yo.transition=1;try{r(t)}finally{Yo.transition=e}}),[t]),n},useTransition:function(){var t=ca(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Da=!1;function Ma(t,e,n,r){e.child=null===t?So(e,null,n,r):Io(e,t.child,n,r)}function La(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,Ma(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function ja(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||qu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=zu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Fa(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Wu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Fa(t,e,n,r,i,o){if(null!==t&&cr(t.memoizedProps,r)&&t.ref===e.ref){if(Da=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return Ba(t,e,n,r,o)}function Ua(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bu(e,t),null;e.memoizedState={baseLanes:0},bu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,bu(e,r);return Ma(t,e,i,n),e.child}function Va(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ba(t,e,n,r,i){var o=di(n)?fi:li.current;return o=pi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,Ma(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function qa(t,e,n,r,i){if(di(n)){var o=!0;mi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),go(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(e,c=di(n)?fi:li.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(e,a,r,c),io=!1;var f=e.memoizedState;a.state=f,lo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||hi.current||io?("function"===typeof l&&(po(e,n,l,r),u=e.memoizedState),(s=io||yo(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:$i(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(e,u=di(n)?fi:li.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&mo(e,a,r,u),io=!1,f=e.memoizedState,a.state=f,lo(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||hi.current||io?("function"===typeof p&&(po(e,n,p,r),d=e.memoizedState),(c=io||yo(e,n,c,r,f,d,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Wa(t,e,n,r,o,i)}function Wa(t,e,n,r,i,o){Va(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&bi(e,n,!1),ns(t,e,o);r=e.stateNode,Ra.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Io(e,t.child,null,o),e.child=Io(e,null,s,o)):Ma(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),xo(t,e.containerInfo)}var Ha,Ka,Ga,$a={dehydrated:null,retryLane:0};function Ya(t,e,n){var r,i=e.pendingProps,o=Mo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Mo,1&o),null===t?(void 0!==i.fallback&&qo(e),t=i.children,o=i.fallback,a?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=$a,t):"number"===typeof i.unstable_expectedLoadTime?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=$a,e.lanes=33554432,t):((n=Ku({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ja(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=$a,i):(n=Xa(t,e,i.children,n),e.memoizedState=null,n))}function Qa(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ku(e,i,0,null),n=Hu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Xa(t,e,n,r){var i=t.child;return t=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ja(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Wu(a,s),null!==t?r=Wu(t,r):(r=Hu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Za(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(t,e,r.children,n),0!==(2&(r=Mo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Za(t,n);else if(19===t.tag)Za(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(Mo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Lo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Lo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Wu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Wu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!Uo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&vi(),null;case 3:return Po(),si(hi),si(li),Go(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(zo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Ao(No.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Ao(Oo.current),zo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[Qr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(t=0;t<Tr.length;t++)Or(Tr[t],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":tt(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ut(r,s),Or("invalid",r)}for(var c in It(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Q(r),rt(r,s,!0);break;case"textarea":Q(r),lt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Yr]=e,t[Qr]=r,Ha(t,e),e.stateNode=t,c=St(n,r),n){case"dialog":Or("cancel",t),Or("close",t),o=r;break;case"iframe":case"object":case"embed":Or("load",t),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],t);o=r;break;case"source":Or("error",t),o=r;break;case"img":case"image":case"link":Or("error",t),Or("load",t),o=r;break;case"details":Or("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Or("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Or("invalid",t);break;default:o=r}It(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Et(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&mt(t,h):"number"===typeof h&&mt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Or("scroll",t):null!=h&&w(t,s,h,c))}switch(n){case"input":Q(t),rt(t,r,!1);break;case"textarea":Q(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+$(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=jr)}Vr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ga(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Ao(No.current),Ao(Oo.current),zo(e)?(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=e,e.stateNode=r)}return null;case 13:return si(Mo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&zo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Mo.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===As||0===(134217727&Fs)&&0===(134217727&Us)||vu(As,Ps))),(r||n)&&(e.flags|=4),null);case 4:return Po(),null===t&&Nr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return di(e.type)&&vi(),null;case 19:if(si(Mo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ms||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Lo(t))){for(e.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(Mo,1&Mo.current|2),e.child}t=t.sibling}null!==r.tail&&Vi()>Ws&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Lo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Ws&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=Mo.current,ui(Mo,s?1&e|2:1&e),n):null;case 23:case 24:return wu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:di(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Po(),si(hi),si(li),Go(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return si(Mo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(Mo),null;case 4:return Po(),null;case 10:return to(t),null;case 23:case 24:return wu(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ha=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ao(Oo.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=jr)}for(h in It(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Or("scroll",t),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ga=function(t,e,n,r){n!==r&&(e.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function cs(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,$s=r),ss(0,e)},n}function ls(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){ju(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:$i(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&zr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,t),Ru(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:$i(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ee(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_t("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(t,e){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(wi,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(e,n);else{r=e;try{i()}catch(o){ju(r,o)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){ju(e,o)}break;case 5:fs(e);break;case 4:Es(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ws(t,n,e):_s(t,n,e)}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=jr));else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function Es(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(ys(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Qr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Et(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?mt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Ee(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(qs=Vi(),vs(e.child,!0)),void Is(e);case 19:return void Is(e);case 17:return;case 23:case 24:return void vs(e,null!==e.memoizedState)}throw Error(a(163))}function Is(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=Uu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ss(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Cs=Math.ceil,Os=_.ReactCurrentDispatcher,ks=_.ReactCurrentOwner,Ns=0,As=null,xs=null,Ps=0,Rs=0,Ds=ai(0),Ms=0,Ls=null,js=0,Fs=0,Us=0,Vs=0,Bs=null,qs=0,Ws=1/0;function zs(){Ws=Vi()+500}var Hs,Ks=null,Gs=!1,$s=null,Ys=null,Qs=!1,Xs=null,Js=90,Zs=[],tu=[],eu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!==(48&Ns)?Vi():-1!==iu?iu:iu=Vi()}function lu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Bi()?1:2;if(0===ou&&(ou=js),0!==Gi.transition){0!==au&&(au=null!==Bs?Bs.pendingLanes:0),t=ou;var e=4186112&~au;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Bi(),0!==(4&Ns)&&98===t?t=Ve(12,ou):t=Ve(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ou),t}function hu(t,e,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(t=fu(t,e)))return null;We(t,e,n),t===As&&(Us|=e,4===Ms&&vu(t,Ps));var r=Bi();1===e?0!==(8&Ns)&&0===(48&Ns)?yu(t):(pu(t,n),0===Ns&&(zs(),Hi())):(0===(4&Ns)||98!==r&&99!==r||(null===eu?eu=new Set([t]):eu.add(t)),pu(t,n)),Bs=t}function fu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-ze(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=e,je(c);var h=Le;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=Fe(t,t===As?Ps:0),e=Le,0===r)null!==n&&(n!==Di&&Ii(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Di&&Ii(n)}15===e?(n=yu.bind(null,t),null===Li?(Li=[n],ji=Ti(Ni,Ki)):Li.push(n),n=Di):14===e?n=zi(99,yu.bind(null,t)):n=zi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),du.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function du(t){if(iu=-1,au=ou=0,0!==(48&Ns))throw Error(a(327));var e=t.callbackNode;if(Pu()&&t.callbackNode!==e)return null;var n=Fe(t,t===As?Ps:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var o=Tu();for(As===t&&Ps===r||(zs(),_u(t,r));;)try{Cu();break}catch(u){Eu(t,u)}if(Zi(),Os.current=o,Ns=i,null!==xs?r=0:(As=null,Ps=0,r=Ms),0!==(js&Us))_u(t,0);else if(0!==r){if(2===r&&(Ns|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(n=Ue(t))&&(r=Iu(t,n))),1===r)throw e=Ls,_u(t,0),vu(t,n),pu(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Nu(t);break;case 3:if(vu(t,n),(62914560&n)===n&&10<(r=qs+500-Vi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){cu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(Nu.bind(null,t),r);break}Nu(t);break;case 4:if(vu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-ze(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){t.timeoutHandle=qr(Nu.bind(null,t),n);break}Nu(t);break;case 5:Nu(t);break;default:throw Error(a(329))}}return pu(t,Vi()),t.callbackNode===e?du.bind(null,t):null}function vu(t,e){for(e&=~Vs,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ze(e),r=1<<n;t[n]=-1,e&=~r}}function yu(t){if(0!==(48&Ns))throw Error(a(327));if(Pu(),t===As&&0!==(t.expiredLanes&Ps)){var e=Ps,n=Iu(t,e);0!==(js&Us)&&(n=Iu(t,e=Fe(t,e)))}else n=Iu(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Ns|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(e=Ue(t))&&(n=Iu(t,e))),1===n)throw n=Ls,_u(t,0),vu(t,e),pu(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nu(t),pu(t,Vi()),null}function gu(t,e){var n=Ns;Ns|=1;try{return t(e)}finally{0===(Ns=n)&&(zs(),Hi())}}function mu(t,e){var n=Ns;Ns&=-2,Ns|=8;try{return t(e)}finally{0===(Ns=n)&&(zs(),Hi())}}function bu(t,e){ui(Ds,Rs),Rs|=e,js|=e}function wu(){Rs=Ds.current,si(Ds)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Wr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Po(),si(hi),si(li),Go();break;case 5:Do(r);break;case 4:Po();break;case 13:case 19:si(Mo);break;case 10:to(r);break;case 23:case 24:wu()}n=n.return}As=t,xs=Wu(t.current,null),Ps=Rs=js=e,Ms=0,Ls=null,Vs=Us=Fs=0}function Eu(t,e){for(;;){var n=xs;try{if(Zi(),$o.current=Na,ta){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Qo=0,Zo=Jo=Xo=null,ea=!1,ks.current=null,null===n||null===n.return){Ms=1,Ls=e,xs=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Mo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var y=f.updateQueue;if(null===y){var g=new Set;g.add(c),f.updateQueue=g}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Fu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),u=as(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,co(f,cs(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ys||!Ys.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,co(f,ls(f,o,e));break t}}f=f.return}while(null!==f)}ku(n)}catch(T){e=T,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function Tu(){var t=Os.current;return Os.current=Na,null===t?Na:t}function Iu(t,e){var n=Ns;Ns|=16;var r=Tu();for(As===t&&Ps===e||_u(t,e);;)try{Su();break}catch(i){Eu(t,i)}if(Zi(),Ns=n,Os.current=r,null!==xs)throw Error(a(261));return As=null,Ps=0,Ms}function Su(){for(;null!==xs;)Ou(xs)}function Cu(){for(;null!==xs&&!Si();)Ou(xs)}function Ou(t){var e=Hs(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,null===e?ku(t):xs=e,ks.current=null}function ku(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,Rs)))return void(xs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(xs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(xs=e);xs=e=t}while(null!==e);0===Ms&&(Ms=5)}function Nu(t){var e=Bi();return Wi(99,Au.bind(null,t,e)),null}function Au(t,e){do{Pu()}while(null!==Xs);if(0!==(48&Ns))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-ze(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==eu&&0===(24&r)&&eu.has(t)&&eu.delete(t),t===As&&(xs=As=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,ks.current=null,Fr=Ye,dr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,y=s,g=null;e:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(f=h+o),y!==c||0!==l&&3!==y.nodeType||(p=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break e;if(g===u&&++d===o&&(f=h),g===c&&++v===l&&(p=h),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Ye=!1,su=null,uu=!1,Ks=r;do{try{xu()}catch(C){if(null===Ks)throw Error(a(330));ju(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);su=null,Ks=r;do{try{for(s=t;null!==Ks;){var b=Ks.flags;if(16&b&&mt(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,Ts(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ts(Ks.alternate,Ks);break;case 4:Ts(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var E=u.alternate;gs(u),null!==E&&gs(E)}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));ju(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);if(_=Ur,w=pr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=hr(b,E),o=hr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Ye=!!Fr,Ur=Fr=null,t.current=n,Ks=r;do{try{for(b=t;null!==Ks;){var T=Ks.flags;if(36&T&&ds(b,Ks.alternate,Ks),128&T){w=void 0;var I=Ks.ref;if(null!==I){var S=Ks.stateNode;switch(Ks.tag){case 5:w=S;break;default:w=S}"function"===typeof I?I(w):I.current=w}}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));ju(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Mi(),Ns=i}else t.current=n;if(Qs)Qs=!1,Xs=t,Js=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((T=Ks).sibling=null,T.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&(Ys=null),1===r?t===ru?nu++:(nu=0,ru=t):nu=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(wi,n,void 0,64===(64&n.current.flags))}catch(C){}if(pu(t,Vi()),Gs)throw Gs=!1,t=$s,$s=null,t;return 0!==(8&Ns)||Hi(),null}function xu(){for(;null!==Ks;){var t=Ks.alternate;uu||null===su||(0!==(8&Ks.flags)?te(Ks,su)&&(uu=!0):13===Ks.tag&&Ss(t,Ks)&&te(Ks,su)&&(uu=!0));var e=Ks.flags;0!==(256&e)&&ps(t,Ks),0===(512&e)||Qs||(Qs=!0,zi(97,(function(){return Pu(),null}))),Ks=Ks.nextEffect}}function Pu(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Wi(t,Mu)}return!1}function Ru(t,e){Zs.push(e,t),Qs||(Qs=!0,zi(97,(function(){return Pu(),null})))}function Du(t,e){tu.push(e,t),Qs||(Qs=!0,zi(97,(function(){return Pu(),null})))}function Mu(){if(null===Xs)return!1;var t=Xs;if(Xs=null,0!==(48&Ns))throw Error(a(331));var e=Ns;Ns|=32;var n=tu;tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));ju(o,c)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));ju(o,c)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ns=e,Hi(),!0}function Lu(t,e,n){uo(t,e=cs(0,e=as(n,e),1)),e=cu(),null!==(t=fu(t,1))&&(We(t,1,e),pu(t,e))}function ju(t,e){if(3===t.tag)Lu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Lu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,t=as(e,t),1);if(uo(n,i),i=cu(),null!==(n=fu(n,1)))We(n,1,i),pu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Fu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=cu(),t.pingedLanes|=t.suspendedLanes&n,As===t&&(Ps&n)===n&&(4===Ms||3===Ms&&(62914560&Ps)===Ps&&500>Vi()-qs?_u(t,0):Vs|=n),pu(t,e)}function Uu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Bi()?1:2:(0===ou&&(ou=js),0===(e=Be(62914560&~ou))&&(e=4194304))),n=cu(),null!==(t=fu(t,e))&&(We(t,e,n),pu(t,n))}function Vu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(t,e,n,r){return new Vu(t,e,n,r)}function qu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Wu(t,e){var n=t.alternate;return null===n?((n=Bu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)qu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case I:return Hu(n.children,i,o,e);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(t=Bu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=o,t;case A:return(t=Bu(13,n,e,i)).type=A,t.elementType=A,t.lanes=o,t;case x:return(t=Bu(19,n,e,i)).elementType=x,t.lanes=o,t;case j:return Ku(n,i,o,e);case F:return(t=Bu(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:s=10;break t;case k:s=9;break t;case N:s=11;break t;case P:s=14;break t;case R:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Bu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Hu(t,e,n,r){return(t=Bu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){return(t=Bu(23,t,r,e)).elementType=j,t.lanes=n,t}function Gu(t,e,n){return(t=Bu(6,t,null,e)).lanes=n,t}function $u(t,e,n){return(e=Bu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qe(0),this.expirationTimes=qe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.mutableSourceEagerHydrationData=null}function Qu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Xu(t,e,n,r){var i=e.current,o=cu(),s=lu(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),hu(i,s,o),s}function Ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}function ec(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(t,e,null!=n&&!0===n.hydrate),e=Bu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[Xr]=n.current,Nr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ju(a);s.call(t)}}Xu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ju(a);u.call(t)}}mu((function(){Xu(e,a,t,i)}))}return Ju(a)}function ic(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(a(200));return Qu(t,e,null,n)}Hs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,e.tag){case 3:za(e),Ho();break;case 5:Ro(e);break;case 1:di(e.type)&&mi(e);break;case 4:xo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Ya(t,e,n):(ui(Mo,1&Mo.current),null!==(e=ns(t,e,n))?e.sibling:null);ui(Mo,1&Mo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Mo,Mo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ua(t,e,n)}return ns(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=pi(e,li.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternals=e,bo(e,r,t,n),e=Wa(null,e,r,!0,o,n)}else e.tag=0,Ma(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return qu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===N)return 11;if(t===P)return 14}return 2}(i),t=$i(i,t),o){case 0:e=Ba(null,e,i,t,n);break t;case 1:e=qa(null,e,i,t,n);break t;case 11:e=La(null,e,i,t,n);break t;case 14:e=ja(null,e,i,$i(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 3:if(za(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Ho(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Fo=Hr(e.stateNode.containerInfo.firstChild),jo=e,o=Uo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=So(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ma(t,e,r,n),Ho();e=e.child}return e;case 5:return Ro(e),null===t&&qo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==o&&Br(r,o)&&(e.flags|=16),Va(t,e),Ma(t,e,s,n),e.child;case 6:return null===t&&qo(e),null;case 13:return Ya(t,e,n);case 4:return xo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Io(e,null,r,n):Ma(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 7:return Ma(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ma(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ui(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){e=ns(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,uo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ma(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,Ma(t,e,r,n),e.child;case 14:return o=$i(i=e.type,e.pendingProps),ja(t,e,i,o=$i(i.type,o),r,n);case 15:return Fa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,mi(e)):t=!1,no(e,n),go(e,r,i),bo(e,r,i,n),Wa(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Ua(t,e,n)}throw Error(a(156,e.tag))},ec.prototype.render=function(t){Xu(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xu(null,t,null,(function(){e[Xr]=null}))},ee=function(t){13===t.tag&&(hu(t,4,cu()),tc(t,4))},ne=function(t){13===t.tag&&(hu(t,67108864,cu()),tc(t,67108864))},re=function(t){if(13===t.tag){var e=cu(),n=lu(t);hu(t,n,e),tc(t,n)}},ie=function(t,e){return e()},Ot=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Rt=gu,Dt=function(t,e,n,r,i){var o=Ns;Ns|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{0===(Ns=o)&&(zs(),Hi())}},Mt=function(){0===(49&Ns)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pu(t,Vi())}))}Hi()}(),Pu())},Lt=function(t,e){var n=Ns;Ns|=2;try{return t(e)}finally{0===(Ns=n)&&(zs(),Hi())}};var oc={Events:[ti,ei,ni,xt,Pt,Pu,{current:!1}]},ac={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{wi=uc.inject(sc),_i=uc}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,e.createPortal=ic,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ns;if(0!==(48&n))return t(e);Ns|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{Ns=n,Hi()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(a(40));return!!t._reactRootContainer&&(mu((function(){rc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Xr]=null}))})),!0)},e.unstable_batchedUpdates=gu,e.unstable_createPortal=function(t,e){return ic(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return rc(t,e,n,!1,r)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(69)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();w=t+b;try{g(!0,t)?E.postMessage(null):(y=!1,g=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(t){g=t,y||(y=!0,E.postMessage(null))},i=function(t,n){m=p((function(){t(e.unstable_now())}),n)},o=function(){d(m),m=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function I(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],k=[],N=1,A=null,x=3,P=!1,R=!1,D=!1;function M(t){for(var e=I(k);null!==e;){if(null===e.callback)S(k);else{if(!(e.startTime<=t))break;S(k),e.sortIndex=e.expirationTime,T(O,e)}e=I(k)}}function L(t){if(D=!1,M(t),!R)if(null!==I(O))R=!0,r(j);else{var e=I(k);null!==e&&i(L,e.startTime-t)}}function j(t,n){R=!1,D&&(D=!1,o()),P=!0;var r=x;try{for(M(n),A=I(O);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?A.callback=s:A===I(O)&&S(O),M(n)}else S(O);A=I(O)}if(null!==A)var u=!0;else{var c=I(k);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{A=null,x=r,P=!1}}var F=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||P||(R=!0,r(j))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return I(O)},e.unstable_next=function(t){switch(x){case 1:case 2:case 3:var e=3;break;default:e=x}var n=x;x=e;try{return t()}finally{x=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=x;x=t;try{return e()}finally{x=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:N++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,T(k,t),null===I(O)&&t===I(k)&&(D?o():D=!0,i(L,a-s))):(t.sortIndex=u,T(O,t),R||P||(R=!0,r(j))),t},e.unstable_wrapCallback=function(t){var e=x;return function(){var n=x;x=e;try{return t.apply(this,arguments)}finally{x=n}}}},function(t,e,n){"use strict";var r=n(71);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case y:case c:return t;default:return e}}case o:return e}}}function T(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return T(t)||E(t)===h},e.isConcurrentMode=T,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(x){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function m(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(N([])));_&&_!==n&&r.call(_,o)&&(b=_);var E=m.prototype=y.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=E.constructor=m,m.constructor=g,g.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},T(I.prototype),I.prototype[a]=function(){return this},t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(E),u(E,s,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";(function(t,e){var r=n(5),i=n(0),o=n(1),a=n(9),s=n(8),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),p=new a.b("@firebase/database"),d=function(){var t=1;return function(){return t++}}(),v=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=t.apply(null,a):r+="object"===typeof a?Object(o.J)(a):a,r+=" "}return r},g=null,m=!0,b=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.a.VERBOSE,g=p.log.bind(p),e&&f.set("logging_enabled",!0)):"function"===typeof t?g=t:(g=null,f.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&b(!0)),g){var n=y.apply(null,t);g(n)}},_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,Object(i.f)([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i.f)(t));p.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i.f)(t));throw p.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i.f)(t));p.warn(n)},S=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",O="[MAX_NAME]",k=function(t,e){if(t===e)return 0;if(t===C||e===O)return-1;if(e===C||t===O)return 1;var n=L(t),r=L(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},x=function t(e){if("object"!==typeof e||null===e)return Object(o.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.J)(n[a]),i+=":",i+=t(e[n[a]]);return i+="}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){Object(o.f)(!S(t),"Invalid JSON number");var e,n,r,i,a,s=1023;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(e?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},j=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e}),Math.floor(0))}},F=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=k(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),V=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),B="5",q="firebaseio.com",W="websocket",z="long_polling",H=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"===typeof t,"typeof type must == string"),Object(o.f)("object"===typeof e,"typeof params must == object"),t===W)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==z)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var K,G,$=function(t,e){var n=Y(t),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new H(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new U(n.pathString)}},Y=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"===typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},Q=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,J=10485760,Z=function(t){return"string"===typeof t&&0!==t.length&&!Q.test(t)},tt=function(t){return"string"===typeof t&&0!==t.length&&!X.test(t)},et=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!S(t)||t&&"object"===typeof t&&Object(o.k)(t,".sv")},nt=function(t,e,n,r,i){i&&void 0===n||rt(Object(o.o)(t,e,i),n,r)},rt=function t(e,n,r){var i=r instanceof U?new V(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"===typeof n&&n.length>J/3&&Object(o.H)(n)>J)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(R(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Z(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},it=function(t,e,n,r,i){if(!i||void 0!==n){var a=Object(o.o)(t,e,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,(function(t,e){var n=new U(t);if(rt(a,e,r.child(n)),".priority"===n.getBack()&&!et(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Z(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(U.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},ot=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!et(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},at=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},st=function(t,e,n,r){if((!r||void 0!==n)&&!Z(n))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ut=function(t,e,n,r){if((!r||void 0!==n)&&!tt(n))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ct=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ut(t,e,n,r)},lt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},ht=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!Z(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tt(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ft=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},pt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),lt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),lt("OnDisconnect.set",this.path_),nt("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),lt("OnDisconnect.setWithPriority",this.path_),nt("OnDisconnect.setWithPriority",1,t,this.path_,!1),ot("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),lt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),dt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),vt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i,a=r===e;e=r;var s=new Array(8);for(i=7;i>=0;i--)s[i]=t.charAt(r%64),r=Math.floor(r/64);Object(o.f)(0===r,"Cannot push at time == 0");var u=s.join("");if(a){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=t.charAt(n[i]);return Object(o.f)(20===u.length,"nextPushId: Length should be 20."),u}}(),yt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new yt(C,t),r=new yt(C,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return yt.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return K},set:function(t){K=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return k(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return new yt(O,K)},e.prototype.makePost=function(t,e){return Object(o.f)("string"===typeof t,"KeyIndex indexValue must always be a string."),new yt(t,K)},e.prototype.toString=function(){return".key"},e}(gt),bt=new mt;var wt,_t,Et,Tt=function(t){return"number"===typeof t?"number:"+D(t):"string:"+t},It=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===G||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===G||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},St=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),It(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return wt},set:function(t){wt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Ct,Ot,kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return new yt(O,new St("[PRIORITY-POST]",Et))},e.prototype.makePost=function(t,e){var n=_t(t);return new yt(e,new St("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(gt)),Nt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Pt.EMPTY_NODE,this.right=null!=o?o:Pt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Pt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Pt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Pt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Nt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Nt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Nt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),Rt=Math.log(2),Dt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Rt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new At(a,o.node,At.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new At(a,o.node,At.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new At(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,At.BLACK):(s(h,At.BLACK),s(h,At.RED))}return o}(new Dt(t.length));return new Pt(r||e,o)},Lt={},jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Lt&&kt,"ChildrenNode.ts has not been loaded"),Ct=Ct||new t({".priority":Lt},{".priority":kt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Pt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(yt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Mt(a,e.getCompare()):Lt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,(function(t,i){var a=Object(o.G)(r.indexSet_,i);if(Object(o.f)(a,"Missing index implementation for "+i),t===Lt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(yt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Mt(s,a.getCompare())}return Lt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new yt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,(function(t){if(t===Lt)return t;var r=n.get(e.name);return r?t.remove(new yt(e.name,r)):t})),this.indexSet_)},t}();function Ft(t,e){return k(t.name,e.name)}function Ut(t,e){return k(t,e)}var Vt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ot||(Ot=new t(new Pt(Ut),null,jt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ot},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Ot:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new yt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ot:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Tt(this.getPriority().val())+":"),this.forEachChild(kt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new yt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new yt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new yt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,yt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,yt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bt?-1:0},t.prototype.withIndex=function(e){if(e===bt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===bt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kt),r=e.getIterator(kt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===bt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Bt=new(function(t){function e(){return t.call(this,new Pt(Ut),Vt.EMPTY_NODE,jt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));Object.defineProperties(yt,{MIN:{value:new yt(C,Vt.EMPTY_NODE)},MAX:{value:new yt(O,Bt)}}),mt.__EMPTY_NODE=Vt.EMPTY_NODE,St.__childrenNodeConstructor=Vt,G=Bt,function(t){Et=t}(Bt);function qt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new St(t,qt(e));if(t instanceof Array){var n=Vt.EMPTY_NODE;return R(t,(function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=qt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(qt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=qt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new yt(t,n)))}})),0===r.length)return Vt.EMPTY_NODE;var a=Mt(r,Ft,(function(t){return t.name}),Ut);if(i){var s=Mt(r,kt.getCompare());return new Vt(a,qt(e),new jt({".priority":s},{".priority":kt}))}return new Vt(a,qt(e),jt.Default)}!function(t){_t=t}(qt);var Wt,zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?k(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return yt.MIN},e.prototype.maxPost=function(){return yt.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new yt(e,n)},e.prototype.toString=function(){return".value"},e}(gt)),Ht=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new yt(e,r)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Bt);return new yt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(gt),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),ut("DataSnapshot.child",1,e,!1);var n=new U(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,kt)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),ut("DataSnapshot.hasChild",1,t,!1);var e=new U(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),kt))}))},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),$t=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Gt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Qt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Gt(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!e.callbacks_[a]||!this.callbacks_[s]||e.callbacks_[a]===this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(Wt,"Reference.ts has not been loaded"),Wt},set:function(t){Wt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===bt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==C)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===kt){if(null!=e&&!et(e)||null!=n&&!et(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof Ht||t.getIndex()===zt,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),at("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Qt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),at("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Yt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Qt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var a=this;Object(o.K)("Query.once",1,4,arguments.length),at("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ut("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new U(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ht(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),nt("Query.startAt",1,e,this.path,!0),st("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),nt("Query.endAt",1,e,this.path,!0),st("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),nt("Query.equalTo",1,t,this.path,!1),st("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),te=function(t,e,n){return t&&"object"===typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?ee(t[".sv"],e,n):"object"===typeof t[".sv"]?ne(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},ne=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},re=function(t,e,n,r){return oe(e,new Zt(n,t),r)},ie=function(t,e,n){return oe(t,new Jt(e),n)};function oe(t,e,n){var r,i=t.getPriority().val(),o=te(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=te(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new St(s,qt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new St(o))),u.forEachChild(kt,(function(t,i){var o=oe(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ae,se=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(kt,(function(t,e){n.remember(new U(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new U(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ae||(ae={}));var ue,ce,le=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),he=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ae.ACK_USER_WRITE,this.source=le.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new U(e));return new t(U.Empty,n,this.revert)}return Object(o.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),fe=function(){function t(t,e){void 0===e&&(ue||(ue=new Pt(N)),e=ue),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new U(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:U.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new U(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(U.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,U.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,U.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(U.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,U.Empty):new t(this.source,this.path.popFront())},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ae.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,U.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ae.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new U(e));return n.isEmpty()?null:n.value?new de(this.source,U.Empty,n.value):new t(this.source,U.Empty,n)}return Object(o.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ye=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ye(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ye(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ye(Vt.EMPTY_NODE,!1,!1),new ye(Vt.EMPTY_NODE,!1,!1)),t}(),me=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(me.childRemovedChange(e,s)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(me.childAddedChange(e,n)):a.trackChildChange(me.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kt,(function(t,r){e.hasChild(t)||n.trackChildChange(me.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(kt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me.childChangedChange(e,r,i))}else n.trackChildChange(me.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)(e===me.CHILD_ADDED||e===me.CHILD_CHANGED||e===me.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===me.CHILD_ADDED&&i===me.CHILD_REMOVED)this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===me.CHILD_REMOVED&&i===me.CHILD_ADDED)this.changeMap.delete(n);else if(e===me.CHILD_REMOVED&&i===me.CHILD_CHANGED)this.changeMap.set(n,me.childRemovedChange(n,r.oldSnap));else if(e===me.CHILD_CHANGED&&i===me.CHILD_ADDED)this.changeMap.set(n,me.childAddedChange(n,t.snapshotNode));else{if(e!==me.CHILD_CHANGED||i!==me.CHILD_CHANGED)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),_e=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ee=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ye(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Te=function(t,e){this.viewCache=t,this.changes=e},Ie=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new we;if(n.type===ae.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===ae.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===ae.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ae.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Te(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof Vt?c:Vt.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(".priority"===p){Object(o.f)(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=v?this.filter_.updatePriority(d,v):a.getNode()}else{var y=e.popFront(),g=void 0;if(a.isCompleteForChild(p)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(p).updateChild(y,m):a.getNode().getImmediateChild(p)}else g=n.calcCompleteChild(p,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),p,g,y,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,_e,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Ee(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Ee(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Vt.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:fe.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new U(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new U(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=fe.Empty;return s.getNode().forEachChild(bt,(function(t,e){u=u.set(new U(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=fe.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,_e,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new Ee(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof Vt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Vt.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(U.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),Se=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===me.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(me.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,me.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,me.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,me.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,me.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,me.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.g)("Should only compare child_ events.");var n=new yt(t.childName,t.snapshotNode),r=new yt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ce=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new be(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ie(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),c=new ye(s,o.isFullyInitialized(),r.filtersNodes()),l=new ye(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(l,c),this.eventGenerator_=new Se(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ae.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(kt,(function(t,e){n.push(me.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(me.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Oe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(ce,"Reference.ts has not been loaded"),ce},set:function(t){Object(o.f)(!ce,"__referenceConstructor has already been defined"),ce=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return Object(o.f)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(u.applyOperation(t,e,n))}}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Vt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Vt.EMPTY_NODE,u=!1);var c=new ge(new ye(s,u,!1),new ye(r,i,!1));a=new Ce(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=Object(i.h)(this.views.entries()),f=h.next();!f.done;f=h.next()){var p=Object(i.e)(f.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new fe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=U.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new fe(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,fe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(U.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(kt,(function(e,n){t.push(new yt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new yt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new fe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Ne(U.Empty,this.writeTree_,t)},t.Empty=new t(new fe(null)),t}();function Ne(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(Object(o.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ne(t.child(e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Ae=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new xe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}if(i){if(a)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(U.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Vt.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(U.Empty)){var c=n||Vt.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Vt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(kt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(kt,(function(t,e){var r=i.childCompoundWrite(new U(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(U.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,U.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ke.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=U.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=U.relativePath(s,n),r=r.addWrite(U.Empty,a.snap.getChild(u)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(n.contains(s))u=U.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=U.relativePath(s,n)).isEmpty())r=r.addWrites(U.Empty,a.children);else{var c=Object(o.G)(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(U.Empty,l)}}}}}return r},t}(),xe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Pe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=fe.Empty,this.pendingWriteTree_=new Ae,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new de(le.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(le.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=fe.Empty;return null!=n.snap?r=r.set(U.Empty,!0):R(n.children,(function(t,e){r=r.set(new U(t),e)})),this.applyOperationToSyncPoints_(new he(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new de(le.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=fe.fromObject(e);return this.applyOperationToSyncPoints_(new ve(le.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(le.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=U.relativePath(a,e),c=new de(le.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=U.relativePath(a,e),c=fe.fromObject(n),l=new ve(le.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=U.relativePath(o,e),u=new pe(le.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=U.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);(u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(U.Empty)):(u=new Oe,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(U.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=U.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new U(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(U.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(U.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(U.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(U.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(U.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Re=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),De=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new De),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ue(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ue=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();g&&w("event: "+e.toString()),j(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ve=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Be=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ve),qe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ve),We=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&j((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),ze="start",He="close",Ke=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL(z,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new We(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ge((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===ze)n.id=a,n.password=s;else{if(o!==He)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=B,n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(q)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o.z)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ge=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){w("frame writing exception"),u.stack&&w(u.stack),w(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),$e="";function Ye(t){$e=t}var Qe=null;"undefined"!==typeof MozWebSocket?Qe=MozWebSocket:"undefined"!==typeof WebSocket&&(Qe=WebSocket);var Xe=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_(this.connId),this.stats_=Me.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={};return r.v=B,!Object(o.z)()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(q)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(W,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+$e+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production",PUBLIC_URL:"/journalReact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new Qe(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Qe(this.connURL,[],a)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Qe&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Je=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ke,Xe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Xe&&Xe.isAvailable(),a=o&&!Xe.previouslyFailed();if(e.webSocketOnly&&(o||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Xe];else{var s=this.transports_=[];try{for(var u=Object(i.h)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ze=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_("c:"+this.id+":"),this.transportManager_=new Je(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=F((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),B!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),F((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),tn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),en=1e3,nn=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=_("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=en,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Be.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&qe.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=en),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new Ze(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){I(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&I(e),h())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=en,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return x(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new U(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+$e.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=qe.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(tn),rn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=_("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.G)(a.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.D)(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(tn),on="repo_interrupt",an=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new se,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Me.getCollection(this.repoInfo_),this.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new rn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if("undefined"!==typeof e&&null!==e){if("object"!==typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new nn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Me.getOrCreateReporter(this.repoInfo_,(function(){return new je(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Re,this.infoSyncTree_=new Pe({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Pe({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new U(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=Object(o.E)(e,(function(t){return qt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=qt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.E)(e,(function(t){return qt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=qt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new U("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=ie(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(R(e,(function(e,n){i=!1,a[e]=re(t.child(e),qt(n),r.serverSyncTree_,o)})),i)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new se;this.onDisconnect_.forEachTree(U.Empty,(function(r,i){var o=re(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(U.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new se,this.eventQueue_.raiseEventsForChangedPath(U.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(on)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(on)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&j((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new mn(this))},enumerable:!1,configurable:!0}),t}(),sn=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new yt(e,n))||(n=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(kt,(function(t,e){i.matches(new yt(t,e))||(r=r.updateImmediateChild(t,Vt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),un=function(){function t(t){this.rangedFilter_=new sn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new yt(e,n))||(n=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Vt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new yt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(me.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(me.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(me.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(me.childRemovedChange(l.name,l.node)),i.trackChildChange(me.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Vt.EMPTY_NODE)):t},t}(),cn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==kt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new be(this.getIndex()):this.hasLimit()?new un(this):new sn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===kt?e=n.PRIORITY_INDEX:this.index_===zt?e=n.VALUE_INDEX:this.index_===bt?e=n.KEY_INDEX:(Object(o.f)(this.index_ instanceof Ht,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.J)(e),this.startSet_&&(r[n.START_AT]=Object(o.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),ln=function(t){function e(e,n){if(!(e instanceof an))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,cn.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof U||(null===this.path.getFront()?ct("Reference.child",1,t,!1):ut("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),lt("Reference.set",this.path),nt("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),lt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),lt("Reference.setWithPriority",this.path),nt("Reference.setWithPriority",1,t,this.path,!1),ot("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),lt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),lt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),ft("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"===typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new dt(n,i)),"function"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),lt("Reference.setPriority",this.path),ot("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),lt("Reference.push",this.path),nt("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=vt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return lt("Reference.onDisconnect",this.path),new pt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xt);Xt.__referenceConstructor=ln,Oe.__referenceConstructor=ln;var hn,fn=function(){this.children={},this.childCount=0,this.value=null},pn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new fn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof U?e:new U(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Object(o.G)(r.node_.children,i)||new fn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new U(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(hn||(hn={})),an.MAX_TRANSACTION_RETRIES_=25,an.prototype.transactionsInit_=function(){this.transactionQueueTree_=new pn},an.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new ln(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:d(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Kt(s.currentInputSnapshot,new ln(this,s.path),kt);s.onComplete(null,!1,l)}}else{rt("transaction failed: Data returned ",c,s.path),s.status=hn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;if("object"===typeof c&&null!==c&&Object(o.k)(c,".priority"))p=Object(o.G)(c,".priority"),Object(o.f)(et(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val();p=p;var v=this.generateServerValues(),y=qt(c,p),g=ie(y,u,v);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},an.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},an.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===hn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},an.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];Object(o.f)(c.status===hn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=hn.SENT,c.retryCount++;var l=U.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=hn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new ln(n,e[a].path),c=new Kt(s,u,kt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)j(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===hn.SENT_NEEDS_ABORT?e[a].status=hn.NEEDS_ABORT:e[a].status=hn.RUN;else{I("transaction at "+f.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=hn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),s)},an.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},an.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],a=t.filter((function(t){return t.status===hn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=U.relativePath(e,u.path),l=!1,h=void 0;if(Object(o.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===hn.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===hn.RUN)if(u.retryCount>=an.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,a);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){rt("transaction failed: Data returned ",p,u.path);var d=qt(p);"object"===typeof p&&null!=p&&Object(o.k)(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,y=this.generateServerValues(),g=ie(d,f,y);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=g,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,g,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=hn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var m=new ln(this,t[s].path),b=t[s].currentInputSnapshot,w=new Kt(b,m,kt);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)j(r[s]);this.sendReadyTransactions_()}},an.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},an.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},an.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},an.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==hn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},an.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},an.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)if(e[a].status===hn.SENT_NEEDS_ABORT);else if(e[a].status===hn.SENT)Object(o.f)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=hn.SENT_NEEDS_ABORT,e[a].abortReason="set";else if(Object(o.f)(e[a].status===hn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(a=0;a<n.length;a++)j(n[a])}};var dn,vn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(t)},t}(),yn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),gn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return dn||(dn=new e),dn},e.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new H(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new yn)},e.prototype.databaseFromApp=function(e,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=$(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof t&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/journalReact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=$(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new yn:new vn(e,n);return ht("Invalid Firebase Database URL",1,s),s.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},e.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Object(o.G)(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new an(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}(),mn=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),gn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof an||T("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new ln(this.repo_,U.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?T("Cannot call useEmulator() after instance has already been initialized."):gn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof ln?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=$(t,this.repo_.repoInfo_.nodeAdmin);ht(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();var bn=Object.freeze({__proto__:null,forceLongPolling:function(){Xe.forceDisallow(),Ke.forceAllow()},forceWebSockets:function(){Ke.forceDisallow()},isWebSocketsAvailable:function(){return Xe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=void 0!==a&&a;Ye(r);var c=new s.c("auth-internal",new s.b("database-standalone"));return c.setComponent(new s.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:gn.getInstance().databaseFromApp(e,c,n,u),namespace:o}}}),wn=nn;nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var _n=Ze,En=H,Tn=Object.freeze({__proto__:null,DataConnection:wn,RealTimeConnection:_n,hijackHash:function(t){var e=nn.prototype.put;return nn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){nn.prototype.put=e}},ConnectionTarget:En,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){gn.getInstance().forceRestClient(t)}}),In=mn.ServerValue;!function(t){Ye(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return gn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:ln,Query:Xt,Database:mn,DataSnapshot:Kt,enableLogging:b,INTERNAL:bn,ServerValue:In,TEST_ACCESS:Tn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.7.1"),Object(o.z)()&&(e.exports=n)}(r.a)}).call(this,n(39),n(47)(t))},function(t,e,n){"use strict";(function(t){var e=n(0),r=n(5),i=n(9),o=n(1),a=n(20),s=n(8),u=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},c=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),l=new i.b("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(l.logLevel<=i.a.DEBUG){var o=n.map(v);l.debug.apply(l,Object(e.g)(["Firestore (8.0.2): "+t],o))}}function p(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(l.logLevel<=i.a.ERROR){var o=n.map(v);l.error.apply(l,Object(e.g)(["Firestore (8.0.2): "+t],o))}}function d(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(l.logLevel<=i.a.WARN){var o=n.map(v);l.warn.apply(l,Object(e.g)(["Firestore (8.0.2): "+t],o))}}function v(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function g(t,e){t||y()}function m(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var w=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function T(t){return t+"\0"}function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var O=function(){function t(t,e){this.h=t,this.l=e,this._={}}return t.prototype.get=function(t){var e=this.h(t),n=this._[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.l(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.T=function(){return C(this._)},t}(),k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(e.c)(n,t),n}(Error),A=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new N(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new N(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new N(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new N(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.I=function(t){return this.seconds===t.seconds?_(this.nanoseconds,t.nanoseconds):_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),x=function(){function t(t){this.timestamp=t}return t.m=function(e){return new t(e)},t.min=function(){return new t(new A(0,0))},t.prototype.A=function(t){return this.timestamp.I(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.P=function(){return this.timestamp},t}(),P=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.g=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.V(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.p(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.v=function(t){return t=void 0===t?1:t,this.p(this.segments,this.offset+t,this.length-t)},t.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},t.prototype.D=function(){return this.segments[this.offset]},t.prototype.C=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.T=function(){return 0===this.length},t.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},t.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),R=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.p=function(t,e,r){return new n(t,e,r)},n.prototype.M=function(){return this.O().join("/")},n.prototype.toString=function(){return this.M()},n.k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new N(k.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new n(r)},n.$=function(){return new n([])},n}(P),D=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.p=function(t,e,r){return new n(t,e,r)},n.L=function(t){return D.test(t)},n.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),n.L(t)||(t="`"+t+"`"),t})).join(".")},n.prototype.toString=function(){return this.M()},n.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},n.q=function(){return new n(["__name__"])},n.U=function(t){for(var e=[],r="",i=0,o=function(){if(0===r.length)throw new N(k.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new N(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new N(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new N(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)},n.$=function(){return new n([])},n}(P),L=function(){function t(t){this.path=t}return t.K=function(e){return new t(R.k(e))},t.W=function(e){return new t(R.k(e).v(5))},t.prototype.j=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===R.V(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.V=function(t,e){return R.V(t.path,e.path)},t.G=function(t){return t.length%2==0},t.H=function(e){return new t(new R(e.slice()))},t}();function j(t){return null==t}function F(t){return 0===t&&1/t==-1/0}function U(t){return"number"==typeof t&&Number.isInteger(t)&&!F(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var V=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.J=null};function B(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new V(t,e,n,r,i,o,a)}function q(t){var e=m(t);if(null===e.J){var n=e.path.M();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.M()+t.op.toString()+Dt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.M()+e.dir;var e})).join(","),j(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Un(e.startAt)),e.endAt&&(n+="|ub:",n+=Un(e.endAt)),e.J=n}return e.J}function W(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!At(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bn(t.startAt,e.startAt)&&Bn(t.endAt,e.endAt)}function z(t){return L.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var H=function(){function t(t){this.Y=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.Y,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},t.prototype.X=function(){return 2*this.Y.length},t.prototype.A=function(t){return _(this.Y,t.Y)},t.prototype.isEqual=function(t){return this.Y===t.Y},t}();H.Z=new H("");var K,G,$=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=x.min()),void 0===o&&(o=x.min()),void 0===a&&(a=H.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),Y=function(t){this.count=t};function Q(t){switch(t){case k.OK:return y();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return y()}}function X(t){if(void 0===t)return p("GRPC error has no .code"),k.UNKNOWN;switch(t){case K.OK:return k.OK;case K.CANCELLED:return k.CANCELLED;case K.UNKNOWN:return k.UNKNOWN;case K.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case K.INTERNAL:return k.INTERNAL;case K.UNAVAILABLE:return k.UNAVAILABLE;case K.UNAUTHENTICATED:return k.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case K.NOT_FOUND:return k.NOT_FOUND;case K.ALREADY_EXISTS:return k.ALREADY_EXISTS;case K.PERMISSION_DENIED:return k.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case K.ABORTED:return k.ABORTED;case K.OUT_OF_RANGE:return k.OUT_OF_RANGE;case K.UNIMPLEMENTED:return k.UNIMPLEMENTED;case K.DATA_LOSS:return k.DATA_LOSS;default:return y()}}(G=K||(K={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var J=function(){function t(t,e){this.V=t,this.root=e||tt.EMPTY}return t.prototype.rt=function(e,n){return new t(this.V,this.root.rt(e,n,this.V).copy(null,null,tt.ot,null,null))},t.prototype.remove=function(e){return new t(this.V,this.root.remove(e,this.V).copy(null,null,tt.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.T=function(){return this.root.T()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Z(this.root,null,this.V,!1)},t.prototype._t=function(t){return new Z(this.root,t,this.V,!1)},t.prototype.ft=function(){return new Z(this.root,null,this.V,!0)},t.prototype.dt=function(t){return new Z(this.root,t,this.V,!0)},t}(),Z=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.T=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.T()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.T())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.T()||i.left.gt()||i.left.left.gt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.yt()),i.right.T()||i.right.gt()||i.right.left.gt()||(i=i.vt()),0===n(e,i.key)){if(i.right.T())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},t.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw y();if(this.right.gt())throw y();var t=this.left.Ct();if(t!==this.right.Ct())throw y();return t+(this.gt()?0:1)},t}();tt.EMPTY=null,tt.RED=!0,tt.ot=!1,tt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.T=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var et=function(){function t(t){this.V=t,this.data=new J(this.V)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.V(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.Ft=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new nt(this.data.lt())},t.prototype._t=function(t){return new nt(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.T=function(){return this.data.T()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.V(i,o))return!1}return!0},t.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.V);return n.data=e,n},t}(),nt=function(){function t(t){this.Mt=t}return t.prototype.Et=function(){return this.Mt.Et().key},t.prototype.It=function(){return this.Mt.It()},t}(),rt=new J(L.V);function it(){return rt}function ot(){return it()}var at=new J(L.V);function st(){return at}var ut=new J(L.V),ct=new et(L.V);function lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ct,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ht=new et(_);function ft(){return ht}var pt=function(){function t(t){this.V=t?function(e,n){return t(e,n)||L.V(e.key,n.key)}:function(t,e){return L.V(t.key,e.key)},this.kt=st(),this.$t=new J(this.V)}return t.Lt=function(e){return new t(e.V)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.at()},t.prototype.last=function(){return this.$t.ct()},t.prototype.T=function(){return this.$t.T()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.lt(),r=e.$t.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.V=this.V,r.kt=e,r.$t=n,r},t}(),dt=function(){function t(){this.Bt=new J(L.V)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):y():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),vt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Kt=a,this.Wt=s}return t.jt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,pt.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&In(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),yt=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}return t.Yt=function(e,n){var r=new Map;return r.set(e,gt.Xt(e,n)),new t(x.min(),r,ft(),it(),lt())},t}(),gt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(H.Z,n,lt(),lt(),lt())},t}(),mt=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},bt=function(t,e){this.targetId=t,this.re=e},wt=function(t,e,n,r){void 0===n&&(n=H.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_t=function(){function t(){this.oe=0,this.ae=It(),this.ce=H.Z,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.X()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=lt(),e=lt(),n=lt();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}})),new gt(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=It()},t.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ie=function(){this.oe+=1},t.prototype.me=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),Et=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=it(),this.Ve=Tt(),this.ye=new et(_)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof un?this.ve(r,t.ie):t.ie instanceof cn&&this.be(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.be(a,t.key,t.ie)}},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:y()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.Fe=function(t){var e=t.targetId,n=t.re.count,r=this.Oe(e);if(r){var i=r.target;if(z(i))if(0===n){var o=new L(i.path);this.be(e,o,new cn(o,x.min()))}else g(1===n);else this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.Oe(i);if(o){if(r.Zt&&z(o.target)){var a=new L(o.target.path);null!==e.ge.get(a)||e.$e(i,a)||e.be(i,a,new cn(a,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=lt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.Oe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new yt(t,n,this.ye,this.ge,r);return this.ge=it(),this.Ve=Tt(),this.ye=new et(_),i},t.prototype.ve=function(t,e){if(this.Ne(t)){var n=this.$e(t,e.key)?2:0;this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t))}},t.prototype.be=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ie=function(t){this.Ce(t).Ie()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new _t,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new et(_),this.Ve=this.Ve.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new _t),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},t.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},t}();function Tt(){return new J(L.V)}function It(){return new J(L.V)}function St(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ct(t){var e=t.mapValue.fields.__previous_value__;return St(e)?Ct(e):e}function Ot(t){var e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new A(e.seconds,e.nanos)}var kt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?St(t)?4:10:y()}function At(t,e){var n=Nt(t);if(n!==Nt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ot(t).isEqual(Ot(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lt(t.timestampValue),r=Lt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ft(t.bytesValue).isEqual(Ft(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jt(t.geoPointValue.latitude)===jt(e.geoPointValue.latitude)&&jt(t.geoPointValue.longitude)===jt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jt(t.integerValue)===jt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jt(t.doubleValue),r=jt(e.doubleValue);return n===r?F(n)===F(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],At);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!At(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function xt(t,e){return void 0!==(t.values||[]).find((function(t){return At(t,e)}))}function Pt(t,e){var n=Nt(t),r=Nt(e);if(n!==r)return _(n,r);switch(n){case 0:return 0;case 1:return _(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jt(t.integerValue||t.doubleValue),r=jt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rt(t.timestampValue,e.timestampValue);case 4:return Rt(Ot(t),Ot(e));case 5:return _(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ft(t),r=Ft(e);return n.A(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_(n[i],r[i]);if(0!==o)return o}return _(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_(jt(t.latitude),jt(e.latitude));return 0!==n?n:_(jt(t.longitude),jt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pt(n[i],r[i]);if(o)return o}return _(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=_(r[a],o[a]);if(0!==s)return s;var u=Pt(n[r[a]],i[o[a]]);if(0!==u)return u}return _(r.length,o.length)}(t.mapValue,e.mapValue);default:throw y()}}function Rt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _(t,e);var n=Lt(t),r=Lt(e),i=_(n.seconds,r.seconds);return 0!==i?i:_(n.nanos,r.nanos)}function Dt(t){return Mt(t)}function Mt(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Lt(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ft(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,L.W(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Mt(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Mt(t.fields[o])}return e+"}"}(t.mapValue):y();var e,n}function Lt(t){if(g(!!t),"string"==typeof t){var e=0,n=kt.exec(t);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ft(t){return"string"==typeof t?H.fromBase64String(t):H.fromUint8Array(t)}function Ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Vt(t){return!!t&&"integerValue"in t}function Bt(t){return!!t&&"arrayValue"in t}function qt(t){return!!t&&"nullValue"in t}function Wt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zt(t){return!!t&&"mapValue"in t}var Ht={asc:"ASCENDING",desc:"DESCENDING"},Kt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gt=function(t,e){this.t=t,this.Ue=e};function $t(t){return{integerValue:""+t}}function Yt(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F(e)?"-0":e}}function Qt(t,e){return U(e)?$t(e):Yt(t,e)}function Xt(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jt(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Zt(t,e){return Xt(t,e.P())}function te(t){return g(!!t),x.m(function(t){var e=Lt(t);return new A(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new R(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).M()}function ne(t){var e=R.k(t);return g(Se(e)),e}function re(t,e){return ee(t.t,e.path)}function ie(t,e){var n=ne(e);if(n.get(1)!==t.t.projectId)throw new N(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new N(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new L(ue(n))}function oe(t,e){return ee(t.t,e)}function ae(t){var e=ne(t);return 4===e.length?R.$():ue(e)}function se(t){return new R(["projects",t.t.projectId,"databases",t.t.database]).M()}function ue(t){return g(t.length>4&&"documents"===t.get(4)),t.v(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof Ye)n={update:ce(t,e.key,e.value)};else if(e instanceof en)n={delete:re(t,e.key)};else if(e instanceof Qe)n={update:ce(t,e.key,e.data),updateMask:Ie(e.Qe)};else if(e instanceof Je)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ae)return{fieldPath:e.field.M(),setToServerValue:"REQUEST_TIME"};if(n instanceof xe)return{fieldPath:e.field.M(),appendMissingElements:{values:n.elements}};if(n instanceof Re)return{fieldPath:e.field.M(),removeAllFromArray:{values:n.elements}};if(n instanceof Me)return{fieldPath:e.field.M(),increment:n.Ke};throw y()}(0,t)}))}};else{if(!(e instanceof nn))return y();n={verify:re(t,e.key)}}return e.je.We||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.je)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Be.updateTime(te(t.updateTime)):void 0!==t.exists?Be.exists(t.exists):Be.Ge()}(e.currentDocument):Be.Ge();if(e.update){e.update.name;var r=ie(t,e.update.name),i=new rn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Fe(e.map((function(t){return M.U(t)})))}(e.updateMask);return new Qe(r,i,o,n)}return new Ye(r,i,n)}if(e.delete){var a=ie(t,e.delete);return new en(a,n)}if(e.transform){var s=ie(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)g("REQUEST_TIME"===e.setToServerValue),n=new Ae;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new xe(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Re(i)}else"increment"in e?n=new Me(t,e.increment):y();var o=M.U(e.fieldPath);return new Ue(o,n)}(t,e)}));return g(!0===n.exists),new Je(s,u)}if(e.verify){var c=ie(t,e.verify);return new nn(c,n)}return y()}function fe(t,e){return{documents:[oe(t,e.path)]}}function pe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oe(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oe(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Wt(t.value))return{unaryFilter:{field:we(t.field),op:"IS_NAN"}};if(qt(t.value))return{unaryFilter:{field:we(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wt(t.value))return{unaryFilter:{field:we(t.field),op:"IS_NOT_NAN"}};if(qt(t.value))return{unaryFilter:{field:we(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:we(t.field),op:be(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:we(t.field),direction:me(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Ue||j(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ye(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ye(e.endAt)),n}function de(t){var e=ae(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=ve(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new qn(_e(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return j(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ge(n.startAt));var l=null;return n.endAt&&(l=ge(n.endAt)),fn(e,i,s,a,u,"F",c,l)}function ve(t){return t?void 0!==t.unaryFilter?[Te(t)]:void 0!==t.fieldFilter?[Ee(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return ve(t)})).reduce((function(t,e){return t.concat(e)})):y():[]}function ye(t){return{before:t.before,values:t.position}}function ge(t){var e=!!t.before,n=t.values||[];return new Fn(n,e)}function me(t){return Ht[t]}function be(t){return Kt[t]}function we(t){return{fieldPath:t.M()}}function _e(t){return M.U(t.fieldPath)}function Ee(t){return Nn.create(_e(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function Te(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_e(t.unaryFilter.field);return Nn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_e(t.unaryFilter.field);return Nn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_e(t.unaryFilter.field);return Nn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_e(t.unaryFilter.field);return Nn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function Ie(t){var e=[];return t.fields.forEach((function(t){return e.push(t.M())})),{fieldPaths:e}}function Se(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ce=function(){this.ze=void 0};function Oe(t,e,n){return t instanceof Ae?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xe?Pe(t,e):t instanceof Re?De(t,e):function(t,e){var n=Ne(t,e),r=Le(n)+Le(t.Ke);return Vt(n)&&Vt(t.Ke)?$t(r):Yt(t.serializer,r)}(t,e)}function ke(t,e,n){return t instanceof xe?Pe(t,e):t instanceof Re?De(t,e):n}function Ne(t,e){return t instanceof Me?Vt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ae=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n}(Ce),xe=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(e.c)(n,t),n}(Ce);function Pe(t,e){for(var n=je(e),r=function(t){n.some((function(e){return At(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Re=function(t){function n(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(e.c)(n,t),n}(Ce);function De(t,e){for(var n=je(e),r=function(t){n=n.filter((function(e){return!At(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Me=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Ke=n,r}return Object(e.c)(n,t),n}(Ce);function Le(t){return jt(t.integerValue||t.doubleValue)}function je(t){return Bt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Fe=function(){function t(t){this.fields=t,t.sort(M.V)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ue=function(t,e){this.field=t,this.transform=e},Ve=function(t,e){this.version=t,this.transformResults=e},Be=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qe(t,e){return void 0!==t.updateTime?e instanceof un&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof un}var We=function(){};function ze(t,e,n){return t instanceof Ye?function(t,e,n){return new un(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Qe?function(t,e,n){if(!qe(t.je,e))return new ln(t.key,n.version);var r=Xe(t,e);return new un(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Je?function(t,e,n){if(g(null!=n.transformResults),!qe(t.je,e))return new ln(t.key,n.version);var r=Ze(t,e),i=function(t,e,n){var r=[];g(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof un&&(s=e.field(o.field)),r.push(ke(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=tn(t,r.data(),i);return new un(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new cn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function He(t,e,n,r){return t instanceof Ye?function(t,e){if(!qe(t.je,e))return e;var n=$e(e);return new un(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Qe?function(t,e){if(!qe(t.je,e))return e;var n=$e(e),r=Xe(t,e);return new un(t.key,n,r,{Je:!0})}(t,e):t instanceof Je?function(t,e,n,r){if(!qe(t.je,e))return e;var i=Ze(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof un&&(c=n.field(s.field)),null===c&&r instanceof un&&(c=r.field(s.field)),i.push(Oe(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=tn(t,i.data(),o);return new un(t.key,i.version,a,{Je:!0})}(t,e,r,n):function(t,e){return qe(t.je,e)?new cn(t.key,x.min()):e}(t,e)}function Ke(t,e){return t instanceof Je?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof un?e.field(o.field):void 0,s=Ne(o.transform,a||null);null!=s&&(n=null==n?(new on).set(o.field,s):n.set(o.field,s))}return n?n.Ye():null}(t,e):null}function Ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xe&&e instanceof xe||t instanceof Re&&e instanceof Re?E(t.elements,e.elements,At):t instanceof Me&&e instanceof Me?At(t.Ke,e.Ke):t instanceof Ae&&e instanceof Ae}(t.transform,e.transform)}(t,e)})))}function $e(t){return t instanceof un?t.version:x.min()}var Ye=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.je=r,i.type=0,i}return Object(e.c)(n,t),n}(We),Qe=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.je=i,o.type=1,o}return Object(e.c)(n,t),n}(We);function Xe(t,e){return function(t,e){var n=new on(e);return t.Qe.fields.forEach((function(e){if(!e.T()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ye()}(t,e instanceof un?e.data():rn.empty())}var Je=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.je=Be.exists(!0),r}return Object(e.c)(n,t),n}(We);function Ze(t,e){return e}function tn(t,e,n){for(var r=new on(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Ye()}var en=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=3,r}return Object(e.c)(n,t),n}(We),nn=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).key=e,r.je=n,r.type=4,r}return Object(e.c)(n,t),n}(We),rn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},t.prototype.isEqual=function(t){return At(this.proto,t.proto)},t}(),on=function(){function t(t){void 0===t&&(t=rn.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Nt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.C(),e)},t.prototype.Ye=function(){var t=this.en(M.$(),this.Ze);return null!=t?new rn(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=zt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.en(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function an(t){var e=[];return S(t.fields||{},(function(t,n){var r=new M([t]);if(zt(n)){var i=an(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Fe(e)}var sn=function(t,e){this.key=t,this.version=e},un=function(t){function n(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(e.c)(n,t),n.prototype.field=function(t){return this.nn.field(t)},n.prototype.data=function(){return this.nn},n.prototype.sn=function(){return this.nn.proto},n.prototype.isEqual=function(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},n.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),n}(sn),cn=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(e.c)(n,t),n.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(sn),ln=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(n.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(t){return t instanceof n&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},n}(sn),hn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.on=null,this.an=null,this.startAt,this.endAt};function fn(t,e,n,r,i,o,a,s){return new hn(t,e,n,r,i,o,a,s)}function pn(t){return new hn(t)}function dn(t){return!j(t.limit)&&"F"===t.limitType}function vn(t){return!j(t.limit)&&"L"===t.limitType}function yn(t){return t.rn.length>0?t.rn[0].field:null}function gn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function mn(t){return null!==t.collectionGroup}function bn(t){var e=m(t);if(null===e.on){e.on=[];var n=gn(e),r=yn(e);if(null!==n&&null===r)n.B()||e.on.push(new qn(n)),e.on.push(new qn(M.q(),"asc"));else{for(var i=!1,o=0,a=e.rn;o<a.length;o++){var s=a[o];e.on.push(s),s.field.B()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.on.push(new qn(M.q(),u))}}}return e.on}function wn(t){var e=m(t);if(!e.an)if("F"===e.limitType)e.an=B(e.path,e.collectionGroup,bn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=bn(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qn(o.field,a))}var s=e.endAt?new Fn(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Fn(e.startAt.position,!e.startAt.before):null;e.an=B(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.an}function _n(t,e,n){return new hn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function En(t,e){return new hn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function Tn(t,e){return new hn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function In(t,e){return W(wn(t),wn(e))&&t.limitType===e.limitType}function Sn(t){return q(wn(t))+"|lt:"+t.limitType}function Cn(t){return"Query(target="+function(t){var e=t.path.M();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.M()+" "+e.op+" "+Dt(e.value);var e})).join(", ")+"]"),j(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.M()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Un(t.startAt)),t.endAt&&(e+=", endAt: "+Un(t.endAt)),"Target("+e+")"}(wn(t))+"; limitType="+t.limitType+")"}function On(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.j(t.collectionGroup)&&t.path.N(n):L.G(t.path)?t.path.isEqual(n):t.path.F(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vn(t.startAt,bn(t),e))&&(!t.endAt||!Vn(t.endAt,bn(t),e))}(t,e)}function kn(t){return function(e,n){for(var r=!1,i=0,o=bn(t);i<o.length;i++){var a=o[i],s=Wn(a,e,n);if(0!==s)return s;r=r||a.field.B()}return 0}}var Nn=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(e.c)(n,t),n.create=function(t,e,r){return t.B()?"in"===e||"not-in"===e?this.un(t,e,r):new An(t,e,r):"array-contains"===e?new Dn(t,r):"in"===e?new Mn(t,r):"not-in"===e?new Ln(t,r):"array-contains-any"===e?new jn(t,r):new n(t,e,r)},n.un=function(t,e,n){return"in"===e?new xn(t,n):new Pn(t,n)},n.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.hn(Pt(e,this.value)):null!==e&&Nt(this.value)===Nt(e)&&this.hn(Pt(e,this.value))},n.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},n.prototype.cn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},n}((function(){})),An=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=L.W(r.referenceValue),i}return Object(e.c)(n,t),n.prototype.matches=function(t){var e=L.V(t.key,this.key);return this.hn(e)},n}(Nn),xn=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rn("in",n),r}return Object(e.c)(n,t),n.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},n}(Nn),Pn=function(t){function n(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rn("not-in",n),r}return Object(e.c)(n,t),n.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},n}(Nn);function Rn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return L.W(t.referenceValue)}))}var Dn=function(t){function n(e,n){return t.call(this,e,"array-contains",n)||this}return Object(e.c)(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return Bt(e)&&xt(e.arrayValue,this.value)},n}(Nn),Mn=function(t){function n(e,n){return t.call(this,e,"in",n)||this}return Object(e.c)(n,t),n.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xt(this.value.arrayValue,e)},n}(Nn),Ln=function(t){function n(e,n){return t.call(this,e,"not-in",n)||this}return Object(e.c)(n,t),n.prototype.matches=function(t){if(xt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!xt(this.value.arrayValue,e)},n}(Nn),jn=function(t){function n(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(e.c)(n,t),n.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Bt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return xt(e.value.arrayValue,t)}))},n}(Nn),Fn=function(t,e){this.position=t,this.before=e};function Un(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Dt(t)})).join(",")}function Vn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.B()?L.V(L.W(a.referenceValue),n.key):Pt(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Bn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!At(t.position[n],e.position[n]))return!1;return!0}var qn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Wn(t,e,n){var r=t.field.B()?L.V(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function zn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Kn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.mn=function(){this.Tn=this.wn},t.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},t.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},t}(),Gn=function(){function t(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.bn&&y(),this.bn=!0,this.vn?this.error?this.Sn(n,this.error):this.Dn(e,this.result):new t((function(t,i){r.yn=function(n){r.Dn(e,n).next(t,i)},r.pn=function(e){r.Sn(n,e).next(t,i)}}))},t.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Nn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Dn=function(e,n){return e?this.Nn((function(){return e(n)})):t.resolve(n)},t.prototype.Sn=function(e,n){return e?this.Nn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.xn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Fn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},t}(),$n=function(){function n(t,e,r){this.name=t,this.version=e,this.On=r,12.2===n.Mn(Object(o.p)())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return n.delete=function(t){return f("SimpleDb","Removing database:",t),tr(window.indexedDB.deleteDatabase(t)).Cn()},n.kn=function(){if("undefined"==typeof indexedDB)return!1;if(n.$n())return!0;var t=Object(o.p)(),e=n.Mn(t),r=0<e&&e<10,i=n.Ln(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},n.$n=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/journalReact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Bn)},n.qn=function(t,e){return t.store(e)},n.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},n.Ln=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},n.prototype.Un=function(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),n=this,[4,new Promise((function(e,n){var i=indexedDB.open(r.name,r.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){n(new Qn(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var r=e.target.error;"VersionError"===r.name?n(new N(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new Qn(t,r))},i.onupgradeneeded=function(t){f("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;r.On.createOrUpgrade(e,i.transaction,t.oldVersion,r.version).next((function(){f("SimpleDb","Database upgrade to version "+r.version+" complete")}))}}))]);case 1:n.db=e.sent(),e.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return r.Qn(t)}),this.db)]}}))}))},n.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},n.prototype.runTransaction=function(t,n,r,i){return Object(e.b)(this,void 0,void 0,(function(){var o,a,s,u,c;return Object(e.d)(this,(function(l){switch(l.label){case 0:o="readonly"===n,a=0,s=function(){var n,s,c,l,h;return Object(e.d)(this,(function(e){switch(e.label){case 0:++a,e.label=1;case 1:return e.trys.push([1,4,,5]),[4,u.Un(t)];case 2:return u.db=e.sent(),n=Jn.open(u.db,t,o?"readonly":"readwrite",r),s=i(n).catch((function(t){return n.abort(t),Gn.reject(t)})).Cn(),c={},s.catch((function(){})),[4,n.Wn];case 3:return[2,(c.value=(e.sent(),s),c)];case 4:return l=e.sent(),h="FirebaseError"!==l.name&&a<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},n.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},n}(),Yn=function(){function t(t){this.jn=t,this.Gn=!1,this.zn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Gn=!0},t.prototype.Jn=function(t){this.zn=t},t.prototype.delete=function(){return tr(this.jn.delete())},t}(),Qn=function(t){function n(e,n){var r=this;return(r=t.call(this,k.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(e.c)(n,t),n}(N);function Xn(t){return"IndexedDbTransactionError"===t.name}var Jn=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new Hn,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new Qn(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){var r=nr(e.target.error);n.Yn.reject(new Qn(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qn(n,e)}},Object.defineProperty(t.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Zn(e)},t}(),Zn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),tr(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),tr(this.store.add(t))},t.prototype.get=function(t){var e=this;return tr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),tr(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),tr(this.store.count())},t.prototype.Xn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Zn(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ts=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.es=!1;var r=this.cursor(n);return this.Zn(r,(function(t,e,n){return n.delete()}))},t.prototype.ns=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Zn(r,e)},t.prototype.ss=function(t){var e=this.cursor({});return new Gn((function(n,r){e.onerror=function(t){var e=nr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Zn=function(t,e){var n=[];return new Gn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Yn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Gn){var s=a.catch((function(t){return o.done(),Gn.reject(t)}));n.push(s)}o.vn?r():null===o.Hn?i.continue():i.continue(o.Hn)}else r()}})).next((function(){return Gn.xn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function tr(t){return new Gn((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=nr(t.target.error);n(e)}}))}var er=!1;function nr(t){var e=$n.Mn(Object(o.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new N("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return er||(er=!0,setTimeout((function(){throw r}),0)),r}}return t}function rr(){return"undefined"!=typeof window?window:null}function ir(){return"undefined"!=typeof document?document:null}var or=function(){function t(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new Hn,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}return t.hs=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},t.prototype.Vn=function(){return this._s()},t.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new N(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},t}(),ar=function(){function t(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new Kn(this,"async_queue_retry"),this.gs=function(){var e=ir();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=ir();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),t.prototype.fs=function(t){this.enqueue(t)},t.prototype.ys=function(t){this.ps(),this.vs(t)},t.prototype.bs=function(){if(!this.Ts){this.Ts=!0;var t=ir();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs)}},t.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},t.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},t.prototype.Ds=function(){return Object(e.b)(this,void 0,void 0,(function(){var t,n=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:if(0===this.ws.length)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return e.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!Xn(t=e.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ws.length>0&&this.Ps.An((function(){return n.Ds()})),e.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,p("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.As=!1,t}))}));return this.ds=n,n},t.prototype.Pn=function(t,e,n){var r=this;this.ps(),this.Rs.indexOf(t)>-1&&(e=0);var i=or.hs(this,t,e,n,(function(t){return r.Cs(t)}));return this.Es.push(i),i},t.prototype.ps=function(){this.Is&&y()},t.prototype.Ns=function(){},t.prototype.xs=function(){return Object(e.b)(this,void 0,void 0,(function(){var t;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},t.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},t.prototype.Ms=function(t){this.Rs.push(t)},t.prototype.Cs=function(t){var e=this.Es.indexOf(t);this.Es.splice(e,1)},t}();function sr(t,e){if(p("AsyncQueue",e+": "+t),Xn(t))return new N(k.UNAVAILABLE,e+": "+t);throw t}var ur=function(){this.ks=void 0,this.listeners=[]},cr=function(){this.queries=new O((function(t){return Sn(t)}),In),this.onlineState="Unknown",this.$s=new Set};function lr(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c;return Object(e.d)(this,(function(e){switch(e.label){case 0:if(r=m(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new ur),!o)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),s=a,[4,r.Ls(i)];case 2:return s.ks=e.sent(),[3,4];case 3:return u=e.sent(),c=sr(u,"Initialization of query '"+Cn(n.query)+"' failed"),[2,void n.onError(c)];case 4:return r.queries.set(i,a),a.listeners.push(n),n.Bs(r.onlineState),a.ks&&n.qs(a.ks)&&dr(r),[2]}}))}))}function hr(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(e.d)(this,(function(e){return r=m(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(r.queries.delete(i),r.Us(i))]:[2]}))}))}function fr(t,e){for(var n=m(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].qs(a)&&(r=!0);u.ks=a}}r&&dr(n)}function pr(t,e,n){var r=m(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function dr(t){t.$s.forEach((function(t){t.next()}))}var vr=function(){function t(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vt(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var o=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),o=!0):this.Gs(t,this.onlineState)&&(this.zs(t),o=!0),this.Ws=t,o},t.prototype.onError=function(t){this.Qs.error(t)},t.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},t.prototype.Gs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Hs&&n||t.docs.T()&&"Offline"!==e)},t.prototype.js=function(t){if(t.docChanges.length>0)return!0;var e=this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites;return!(!t.Kt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.zs=function(t){t=vt.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},t}(),yr=function(){function t(t){this.uid=t}return t.prototype.Js=function(){return null!=this.uid},t.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();yr.UNAUTHENTICATED=new yr(null),yr.Xs=new yr("google-credentials-uid"),yr.Zs=new yr("first-party-uid");var gr=function(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t},mr=function(){function t(){this.ei=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ni=function(){},t.prototype.si=function(t){this.ei=t,t(yr.UNAUTHENTICATED)},t.prototype.ii=function(){this.ei=null},t}(),br=function(){function t(t){var e=this;this.ri=null,this.currentUser=yr.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(g("string"==typeof n.accessToken),new gr(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ni=function(){this.forceRefresh=!0},t.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},t.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},t.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return g(null===t||"string"==typeof t),new yr(t)},t}(),wr=function(){function t(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=yr.Zs}return Object.defineProperty(t.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),_r=function(){function t(t,e){this.ui=t,this.hi=e}return t.prototype.getToken=function(){return Promise.resolve(new wr(this.ui,this.hi))},t.prototype.si=function(t){t(yr.Zs)},t.prototype.ii=function(){},t.prototype.ni=function(){},t}(),Er=function(){function t(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}return t.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ze(o,e,r[i]))}return e},t.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=He(i,e,e,this.li))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=He(u,e,o,this.li))}return e},t.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return Ge(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return Ge(t,e)}))},t}(),Tr=function(){function t(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}return t.from=function(e,n,r){g(e.mutations.length===r.length);for(var i=ut,o=e.mutations,a=0;a<o.length;a++)i=i.rt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ir=function(){function t(){this.Ii=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}return t.prototype.Ai=function(t){var e=this.Ii.get(t);return e?e.readTime:x.min()},t.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},t.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},t.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?Gn.resolve(n.gi):this.pi(t,e)},t.prototype.getEntries=function(t,e){return this.vi(t,e)},t.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},t.prototype.Pi=function(){},t}();function Sr(t){return new Gt(t,!0)}function Cr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Or="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kr=function(){function t(){this.Si=[]}return t.prototype.Di=function(t){this.Si.push(t)},t.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},t}(),Nr=function(){function t(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}return t.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},t.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},t.prototype.$i=function(t,e,n){var r=ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].di(t,e);r=r.rt(t,e)})),r},t.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},t.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){var i=n.$i(t,e,r),o=it();return i.forEach((function(t,e){e||(e=new cn(t,x.min())),o=o.rt(t,e)})),o}))},t.prototype.Ui=function(t,e,n){return function(t){return L.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qi(t,e.path):mn(e)?this.Ki(t,e,n):this.Wi(t,e,n)},t.prototype.Qi=function(t,e){return this.Oi(t,new L(e)).next((function(t){var e=st();return t instanceof un&&(e=e.rt(t.key,t)),e}))},t.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,o=st();return this.Fi.ji(t,i).next((function(a){return Gn.forEach(a,(function(a){var s=function(t,e){return new hn(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Wi(t,s,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Wi=function(t,e,n){var r,i,o=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,o.xi.Gi(t,e)})).next((function(e){return i=e,o.zi(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=He(u,l,l,o.li);r=h instanceof un?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){On(e,n)||(r=r.remove(t))})),r}))},t.prototype.zi=function(t,e,n){for(var r=lt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Qe&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof un&&(c=c.rt(t,e))})),c}))},t}(),Ar=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}return t.Yi=function(e,n){for(var r=lt(),i=lt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}return t.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},t}();function Pr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=_(n,i);return 0===a?_(r,o):a}xr.nr=-1;var Rr=function(){function t(t){this.sr=t,this.buffer=new et(Pr),this.ir=0}return t.prototype.rr=function(){return++this.ir},t.prototype.ar=function(t){var e=[t,this.rr()];if(this.buffer.size<this.sr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Dr={cr:!1,ur:0,hr:0,lr:0},Mr=function(){function t(t,e,n){this._r=t,this.dr=e,this.wr=n}return t.Tr=function(e){return new t(e,t.Er,t.Ir)},t}();Mr.Er=10,Mr.Ir=1e3,Mr.mr=new Mr(41943040,Mr.Er,Mr.Ir),Mr.Ar=new Mr(-1,0,0);var Lr=function(){function t(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}return t.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},t.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(t.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),t.prototype.Vr=function(t){var n=this,r=this.Pr?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",r,(function(){return Object(e.b)(n,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:this.gr=null,this.Pr=!0,e.label=1;case 1:return e.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return e.sent(),[3,7];case 3:return Xn(n=e.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n),[3,6]):[3,4];case 4:return[4,co(n)];case 5:e.sent(),e.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return e.sent(),[2]}}))}))}))},t}(),jr=function(){function t(t,e){this.vr=t,this.params=e}return t.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Dr=function(t,e){var n=this;if(0===e)return Gn.resolve(xr.nr);var r=new Rr(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},t.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},t.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},t.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Gn.resolve(Dr)):this.Mr(t).next((function(r){return r<n.params._r?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),Dr):n.kr(t,e)}))},t.prototype.Mr=function(t){return this.vr.Mr(t)},t.prototype.kr=function(t,e){var n,r,o,a,s,u,c,l=this,p=Date.now();return this.br(t,this.params.dr).next((function(e){return e>l.params.wr?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.wr+" from "+e),r=l.params.wr):r=e,a=Date.now(),l.Dr(t,r)})).next((function(r){return n=r,s=Date.now(),l.Nr(t,n,e)})).next((function(e){return o=e,u=Date.now(),l.Fr(t,n)})).next((function(t){return c=Date.now(),h()<=i.a.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-p)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-p)+"ms"),Gn.resolve({cr:!0,ur:r,hr:o,lr:t})}))},t}();function Fr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vr(e)),e=Ur(t.get(n),e);return Vr(e)}function Ur(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Vr(t){return t+"\x01\x01"}function Br(t){var e=t.length;if(g(e>=2),2===e)return g("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),R.$();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&y(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:y()}o=a+2}return new R(r)}var qr=function(t){this.$r=t};function Wr(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),o=new rn({mapValue:{fields:e.fields}});return new un(r,i,o,{hasCommittedMutations:!!n})}(t.$r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=L.H(e.noDocument.path),r=$r(e.noDocument.readTime);return new cn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=L.H(e.unknownDocument.path),o=$r(e.unknownDocument.version);return new ln(i,o)}return y()}function zr(t,e,n){var r=Hr(n),i=e.key.path.S().O();if(e instanceof un){var o=function(t,e){return{name:re(t,e.key),fields:e.sn().mapValue.fields,updateTime:Xt(t,e.version.P())}}(t.$r,e),a=e.hasCommittedMutations;return new _i(null,null,o,a,r,i)}if(e instanceof cn){var s=e.key.path.O(),u=Gr(e.version),c=e.hasCommittedMutations;return new _i(null,new bi(s,u),null,c,r,i)}if(e instanceof ln){var l=e.key.path.O(),h=Gr(e.version);return new _i(new wi(l,h),null,null,!0,r,i)}return y()}function Hr(t){var e=t.P();return[e.seconds,e.nanoseconds]}function Kr(t){var e=new A(t[0],t[1]);return x.m(e)}function Gr(t){var e=t.P();return new di(e.seconds,e.nanoseconds)}function $r(t){var e=new A(t.seconds,t.nanoseconds);return x.m(e)}function Yr(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t.$r,e)})),r=e.mutations.map((function(e){return he(t.$r,e)})),i=A.fromMillis(e.localWriteTimeMs);return new Er(e.batchId,i,n,r)}function Qr(t){var e,n,r=$r(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?$r(t.lastLimboFreeSnapshotVersion):x.min();return void 0!==t.query.documents?(g(1===(n=t.query).documents.length),e=wn(pn(ae(n.documents[0])))):e=function(t){return wn(de(t))}(t.query),new $(e,t.targetId,0,t.lastListenSequenceNumber,r,i,H.fromBase64String(t.resumeToken))}function Xr(t,e){var n,r=Gr(e.et),i=Gr(e.lastLimboFreeSnapshotVersion);n=z(e.target)?fe(t.$r,e.target):pe(t.$r,e.target);var o=e.resumeToken.toBase64();return new Ti(e.targetId,q(e.target),r,o,e.sequenceNumber,i,n)}function Jr(t){var e=de({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_n(e,e.limit,"L"):e}var Zr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}return t.qr=function(e,n,r,i){return g(""!==e.uid),new t(e.Js()?e.uid:"",n,r,i)},t.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ni(t).ns({index:gi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Qr=function(t,e,n,r){var i=this,o=ri(t),a=ni(t);return a.add({}).next((function(s){g("number"==typeof s);for(var u=new Er(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t.$r,e)})),i=n.mutations.map((function(e){return le(t.$r,e)}));return new gi(e,n.batchId,n.li.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new et((function(t,e){return _(t.M(),e.M())})),f=0,p=r;f<p.length;f++){var d=p[f],v=mi.key(i.userId,d.key.path,s);h=h.add(d.key.path.S()),l.push(a.put(c)),l.push(o.put(v,mi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[s]=u.keys()})),Gn.xn(l).next((function(){return u}))}))},t.prototype.Wr=function(t,e){var n=this;return ni(t).get(e).next((function(t){return t?(g(t.userId===n.userId),Yr(n.serializer,t)):null}))},t.prototype.jr=function(t,e){var n=this;return this.Br[e]?Gn.resolve(this.Br[e]):this.Wr(t,e).next((function(t){if(t){var r=t.keys();return n.Br[e]=r,r}return null}))},t.prototype.Gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ni(t).ns({index:gi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r),o=Yr(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ni(t).ns({index:gi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ni(t).Xn(gi.userMutationsIndex,n).next((function(t){return t.map((function(t){return Yr(e.serializer,t)}))}))},t.prototype.Mi=function(t,e){var n=this,r=mi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ri(t).ns({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Br(u);if(s===n.userId&&e.path.isEqual(l))return ni(t).get(c).next((function(t){if(!t)throw y();g(t.userId===n.userId),o.push(Yr(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.qi=function(t,e){var n=this,r=new et(_),i=[];return e.forEach((function(e){var o=mi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ri(t).ns({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Br(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Gn.xn(i).next((function(){return n.Jr(t,r)}))},t.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,o=mi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new et(_);return ri(t).ns({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Br(u);a===n.userId&&r.N(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Jr(t,s)}))},t.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ni(t).get(e).next((function(t){if(null===t)throw y();g(t.userId===n.userId),r.push(Yr(n.serializer,t))})))})),Gn.xn(i).next((function(){return r}))},t.prototype.Yr=function(t,e){var n=this;return ei(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),Gn.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},t.prototype.Zr=function(t){delete this.Br[t]},t.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return Gn.resolve();var r=IDBKeyRange.lowerBound(mi.prefixForUser(e.userId)),i=[];return ri(t).ns({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Br(t[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},t.prototype.so=function(t,e){return ti(t,this.userId,e)},t.prototype.io=function(t){var e=this;return ii(t).get(this.userId).next((function(t){return t||new yi(e.userId,-1,"")}))},t}();function ti(t,e,n){var r=mi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ri(t).ns({range:o,es:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function ei(t,e,n){var r=t.store(gi.store),i=t.store(mi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ns({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){g(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=mi.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Gn.xn(o).next((function(){return c}))}function ni(t){return zi.qn(t,gi.store)}function ri(t){return zi.qn(t,mi.store)}function ii(t){return zi.qn(t,yi.store)}var oi=function(){function t(t,e){this.serializer=t,this.Fi=e}return t.prototype.Ri=function(t,e,n){return ui(t).put(ci(e),n)},t.prototype.Vi=function(t,e){var n=ui(t),r=ci(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},t.prototype.yi=function(t,e){var n=this;return ui(t).get(ci(e)).next((function(t){return n.oo(t)}))},t.prototype.ao=function(t,e){var n=this;return ui(t).get(ci(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:li(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ot();return this.co(t,e,(function(t,e){var i=n.oo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.uo=function(t,e){var n=this,r=ot(),i=new J(L.V);return this.co(t,e,(function(t,e){var o=n.oo(e);o?(r=r.rt(t,o),i=i.rt(t,li(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},t.prototype.co=function(t,e,n){if(e.T())return Gn.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),o=i.Et();return ui(t).ns({range:r},(function(t,e,r){for(var a=L.H(t);o&&L.V(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.O()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Ui=function(t,e,n){var r=this,i=st(),o=e.path.length+1,a={};if(n.isEqual(x.min())){var s=e.path.O();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.O(),c=Hr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=_i.collectionReadTimeIndex}return ui(t).ns(a,(function(t,n,a){if(t.length===o){var s=Wr(r.serializer,n);e.path.N(s.key.path)?s instanceof un&&On(e,s)&&(i=i.rt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype._o=function(t){return new ai(this,!!t&&t.fo)},t.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return si(t).get(Ei.key).next((function(t){return g(!!t),t}))},t.prototype.ro=function(t,e){return si(t).put(Ei.key,e)},t.prototype.oo=function(t){if(t){var e=Wr(this.serializer,t);return e instanceof cn&&e.version.isEqual(x.min())?null:e}return null},t}(),ai=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).To=e,r.fo=n,r.Eo=new O((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(e.c)(n,t),n.prototype.bi=function(t){var e=this,n=[],r=0,i=new et((function(t,e){return _(t.M(),e.M())}));return this.Ii.forEach((function(o,a){var s=e.Eo.get(o);if(a.gi){var u=zr(e.To.serializer,a.gi,e.Ai(o));i=i.add(o.path.S());var c=li(u);r+=c-s,n.push(e.To.Ri(t,o,u))}else if(r-=s,e.fo){var l=zr(e.To.serializer,new cn(o,x.min()),e.Ai(o));n.push(e.To.Ri(t,o,l))}else n.push(e.To.Vi(t,o))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),Gn.xn(n)},n.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},n.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},n}(Ir);function si(t){return zi.qn(t,Ei.store)}function ui(t){return zi.qn(t,_i.store)}function ci(t){return t.path.O()}function li(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}var hi=function(){function t(){this.Io=new fi}return t.prototype.Kr=function(t,e){return this.Io.add(e),Gn.resolve()},t.prototype.ji=function(t,e){return Gn.resolve(this.Io.getEntries(e))},t}(),fi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new et(R.V),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.C(),n=t.S(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new et(R.V)).O()},t}(),pi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=11);var o=new Jn("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(vi.store)}(t),function(t){t.createObjectStore(yi.store,{keyPath:yi.keyPath}),t.createObjectStore(gi.store,{keyPath:gi.keyPath,autoIncrement:!0}).createIndex(gi.userMutationsIndex,gi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(mi.store)}(t),Oi(t),function(t){t.createObjectStore(_i.store)}(t));var a=Gn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ii.store),t.deleteObjectStore(Ti.store),t.deleteObjectStore(Si.store)}(t),Oi(t)),a=a.next((function(){return function(t){var e=t.store(Si.store),n=new Si(0,0,x.min().P(),0);return e.put(Si.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(gi.store).Xn().next((function(n){t.deleteObjectStore(gi.store),t.createObjectStore(gi.store,{keyPath:gi.keyPath,autoIncrement:!0}).createIndex(gi.userMutationsIndex,gi.userMutationsKeyPath,{unique:!0});var r=e.store(gi.store),i=n.map((function(t){return r.put(t)}));return Gn.xn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(ki.store,{keyPath:ki.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ei.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(_i.store);e.createIndex(_i.readTimeIndex,_i.readTimeIndexPath,{unique:!1}),e.createIndex(_i.collectionReadTimeIndex,_i.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Ni.store,{keyPath:Ni.keyPath})}(t),function(t){t.createObjectStore(Ai.store,{keyPath:Ai.keyPath})}(t)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(_i.store).ns((function(t,n){e+=li(n)})).next((function(){var n=new Ei(e);return t.store(Ei.store).put(Ei.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(yi.store),r=t.store(gi.store);return n.Xn().next((function(n){return Gn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(gi.userMutationsIndex,i).next((function(r){return Gn.forEach(r,(function(r){g(r.userId===n.userId);var i=Yr(e.serializer,r);return ei(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ii.store),n=t.store(_i.store);return t.store(Si.store).get(Si.key).next((function(t){var r=[];return n.ns((function(n,i){var o=new R(n),a=function(t){return[0,Fr(t)]}(o);r.push(e.get(a).next((function(n){return n?Gn.resolve():function(n){return e.put(new Ii(0,Fr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Gn.xn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ci.store,{keyPath:Ci.keyPath});var n=e.store(Ci.store),r=new fi,i=function(t){if(r.add(t)){var e=t.C(),i=t.S();return n.put({collectionId:e,parent:Fr(i)})}};return e.store(_i.store).ns({es:!0},(function(t,e){var n=new R(t);return i(n.S())})).next((function(){return e.store(mi.store).ns({es:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Br(n));return i(r.S())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ti.store);return n.ns((function(t,r){var i=Qr(r),o=Xr(e.serializer,i);return n.put(o)}))},t}(),di=function(t,e){this.seconds=t,this.nanoseconds=e},vi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};vi.store="owner",vi.key="owner";var yi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};yi.store="mutationQueues",yi.keyPath="userId";var gi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gi.store="mutations",gi.keyPath="batchId",gi.userMutationsIndex="userMutationsIndex",gi.userMutationsKeyPath=["userId","batchId"];var mi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fr(e)]},t.key=function(t,e,n){return[t,Fr(e),n]},t}();mi.store="documentMutations",mi.PLACEHOLDER=new mi;var bi=function(t,e){this.path=t,this.readTime=e},wi=function(t,e){this.path=t,this.version=e},_i=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};_i.store="remoteDocuments",_i.readTimeIndex="readTimeIndex",_i.readTimeIndexPath="readTime",_i.collectionReadTimeIndex="collectionReadTimeIndex",_i.collectionReadTimeIndexPath=["parentPath","readTime"];var Ei=function(t){this.byteSize=t};Ei.store="remoteDocumentGlobal",Ei.key="remoteDocumentGlobalKey";var Ti=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ti.store="targets",Ti.keyPath="targetId",Ti.queryTargetsIndexName="queryTargetsIndex",Ti.queryTargetsKeyPath=["canonicalId","targetId"];var Ii=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ii.store="targetDocuments",Ii.keyPath=["targetId","path"],Ii.documentTargetsIndex="documentTargetsIndex",Ii.documentTargetsKeyPath=["path","targetId"];var Si=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Si.key="targetGlobalKey",Si.store="targetGlobal";var Ci=function(t,e){this.collectionId=t,this.parent=e};function Oi(t){t.createObjectStore(Ii.store,{keyPath:Ii.keyPath}).createIndex(Ii.documentTargetsIndex,Ii.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.queryTargetsIndexName,Ti.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Si.store)}Ci.store="collectionParents",Ci.keyPath=["collectionId","parent"];var ki=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ki.store="clientMetadata",ki.keyPath="clientId";var Ni=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ni.store="bundles",Ni.keyPath="bundleId";var Ai=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ai.store="namedQueries",Ai.keyPath="name";var xi=Object(e.g)(Object(e.g)(Object(e.g)(Object(e.g)([yi.store,gi.store,mi.store,_i.store,Ti.store,vi.store,Si.store,Ii.store],[ki.store]),[Ei.store]),[Ci.store]),[Ni.store,Ai.store]),Pi=function(){function t(t){this.serializer=t}return t.prototype.mo=function(t,e){return Ri(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:$r(e.createTime),version:e.version};var e}))},t.prototype.Ao=function(t,e){return Ri(t).put({bundleId:(n=e).id,createTime:Gr(te(n.createTime)),version:n.version});var n},t.prototype.Ro=function(t,e){return Di(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Jr(e.bundledQuery),readTime:$r(e.readTime)};var e}))},t.prototype.Po=function(t,e){return Di(t).put(function(t){return{name:t.name,readTime:Gr(te(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ri(t){return zi.qn(t,Ni.store)}function Di(t){return zi.qn(t,Ai.store)}var Mi=function(){function t(){this.Vo=new fi}return t.prototype.Kr=function(t,e){var n=this;if(!this.Vo.has(e)){var r=e.C(),i=e.S();t.Di((function(){n.Vo.add(e)}));var o={collectionId:r,parent:Fr(i)};return Li(t).put(o)}return Gn.resolve()},t.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[T(e),""],!1,!0);return Li(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Br(o.parent))}return n}))},t}();function Li(t){return zi.qn(t,Ci.store)}var ji=function(){function t(t){this.yo=t}return t.prototype.next=function(){return this.yo+=2,this.yo},t.po=function(){return new t(0)},t.vo=function(){return new t(-1)},t}(),Fi=function(){function t(t,e){this.Lr=t,this.serializer=e}return t.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new ji(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Co=function(t){return this.So(t).next((function(t){return x.m(new A(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},t.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},t.prototype.ko=function(t,e){return this.Oo(t,e)},t.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return Ui(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return g(e.targetCount>0),e.targetCount-=1,n.Do(t,e)}))},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return Ui(t).ns((function(a,s){var u=Qr(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.$o(t,u)))})).next((function(){return Gn.xn(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return Ui(t).ns((function(t,n){var r=Qr(n);e(r)}))},t.prototype.So=function(t){return Vi(t).get(Si.key).next((function(t){return g(null!==t),t}))},t.prototype.Do=function(t,e){return Vi(t).put(Si.key,e)},t.prototype.Oo=function(t,e){return Ui(t).put(Xr(this.serializer,e))},t.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},t.prototype.qo=function(t,e){var n=q(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ui(t).ns({range:r,index:Ti.queryTargetsIndexName},(function(t,n,r){var o=Qr(n);W(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Uo=function(t,e,n){var r=this,i=[],o=Bi(t);return e.forEach((function(e){var a=Fr(e.path);i.push(o.put(new Ii(n,a))),i.push(r.Lr.Qo(t,n,e))})),Gn.xn(i)},t.prototype.Ko=function(t,e,n){var r=this,i=Bi(t);return Gn.forEach(e,(function(e){var o=Fr(e.path);return Gn.xn([i.delete([n,o]),r.Lr.Wo(t,n,e)])}))},t.prototype.Lo=function(t,e){var n=Bi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.jo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bi(t),i=lt();return r.ns({range:n,es:!0},(function(t,e,n){var r=Br(t[1]),o=new L(r);i=i.add(o)})).next((function(){return i}))},t.prototype.so=function(t,e){var n=Fr(e.path),r=IDBKeyRange.bound([n],[T(n)],!1,!0),i=0;return Bi(t).ns({index:Ii.documentTargetsIndex,es:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Ui(t).get(e).next((function(t){return t?Qr(t):null}))},t}();function Ui(t){return zi.qn(t,Ti.store)}function Vi(t){return zi.qn(t,Si.store)}function Bi(t){return zi.qn(t,Ii.store)}var qi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wi=function(t){function n(e,n){var r=this;return(r=t.call(this)||this).Xr=e,r.Go=n,r}return Object(e.c)(n,t),n}(kr),zi=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ln=o,this.window=a,this.document=s,this.zo=c,this.Ho=l,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!t.kn())throw new N(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new Gi(this,i),this.sa=n+"main",this.serializer=new qr(u),this.ia=new $n(this.sa,11,new pi(this.serializer)),this.ra=new Fi(this.Lr,this.serializer),this.Fi=new Mi,this.Ni=function(t,e){return new oi(t,e)}(this.serializer,this.Fi),this.oa=new Pi(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===l&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.qn=function(t,e){if(t instanceof Wi)return $n.qn(t.Xr,e);throw y()},t.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new N(k.FAILED_PRECONDITION,qi);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new xr(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},t.prototype._a=function(t){var n=this;return this.na=function(r){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){return this.yr?[2,t(r)]:[2]}))}))},t(this.isPrimary)},t.prototype.fa=function(t){var n=this;this.ia.Kn((function(r){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return null===r.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.da=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ki(e).put(new ki(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if(Xn(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},t.prototype.wa=function(t){var e=this;return Hi(t).get(vi.key).next((function(t){return Gn.resolve(e.ma(t))}))},t.prototype.Aa=function(t){return Ki(t).delete(this.clientId)},t.prototype.Ra=function(){return Object(e.b)(this,void 0,void 0,(function(){var n,r,i,o,a=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.qn(e,ki.store);return n.Xn().next((function(t){var e=a.ga(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Gn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(n=e.sent(),this.aa)for(r=0,i=n;r<i.length;r++)o=i[r],this.aa.removeItem(this.Va(o.clientId));e.label=2;case 2:return[2]}}))}))},t.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},t.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ta=function(t){var e=this;return this.Ho?Gn.resolve(!0):Hi(t).get(vi.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new N(k.FAILED_PRECONDITION,qi);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ki(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.pa=function(){return Object(e.b)(this,void 0,void 0,(function(){var t=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[vi.store,ki.store],(function(e){var n=new Wi(e,xr.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},t.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},t.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ki(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.Na=function(t){return Zr.qr(t,this.serializer,this.Fi,this.Lr)},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Oa=function(){return this.Fi},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;f("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ia.runTransaction(t,o,xi,(function(o){return i=new Wi(o,r.Jo?r.Jo.next():xr.nr),"readwrite-primary"===e?r.wa(i).next((function(t){return!!t||r.Ta(i)})).next((function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.ln.Ss((function(){return r.na(!1)})),new N(k.FAILED_PRECONDITION,Or);return n(i)})).next((function(t){return r.Ia(i).next((function(){return t}))})):r.ka(i).next((function(){return n(i)}))})).then((function(t){return i.Ci(),t}))},t.prototype.ka=function(t){var e=this;return Hi(t).get(vi.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new N(k.FAILED_PRECONDITION,qi)}))},t.prototype.Ia=function(t){var e=new vi(this.clientId,this.allowTabSynchronization,Date.now());return Hi(t).put(vi.key,e)},t.kn=function(){return $n.kn()},t.prototype.Ea=function(t){var e=this,n=Hi(t);return n.get(vi.key).next((function(t){return e.ma(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(vi.key)):Gn.resolve()}))},t.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(p("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},t.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},t.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},t.prototype.ya=function(t){var e;try{var n=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(t){}},t.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Hi(t){return zi.qn(t,vi.store)}function Ki(t){return zi.qn(t,ki.store)}var Gi=function(){function t(t,e){this.db=t,this.Rr=new jr(this,e)}return t.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.xa().De(t,e)},t.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},t.prototype.Qo=function(t,e,n){return $i(t,n)},t.prototype.Wo=function(t,e,n){return $i(t,n)},t.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},t.prototype.eo=function(t,e){return $i(t,e)},t.prototype.Ba=function(t,e){return function(t,e){var n=!1;return ii(t).ss((function(r){return ti(t,r,e).next((function(t){return t&&(n=!0),Gn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],o=0;return this.La(t,(function(a,s){if(s<=e){var u=n.Ba(t,a).next((function(e){if(!e)return o++,r.yi(t,a).next((function(){return r.Vi(a),Bi(t).delete([0,Fr(a.path)])}))}));i.push(u)}})).next((function(){return Gn.xn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Go);return this.db.xa().ko(t,n)},t.prototype.qa=function(t,e){return $i(t,e)},t.prototype.La=function(t,e){var n,r=Bi(t),i=xr.nr;return r.ns({index:Ii.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==xr.nr&&e(new L(Br(n)),i),i=s,n=a):i=xr.nr})).next((function(){i!==xr.nr&&e(new L(Br(n)),i)}))},t.prototype.Mr=function(t){return this.db.Fa().wo(t)},t}();function $i(t,e){return Bi(t).put(function(t,e){return new Ii(0,Fr(t.path),e)}(e,t.Go))}function Yi(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Qi=function(){function t(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new J(_),this.Ka=new O((function(t){return q(t)}),W),this.Wa=x.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new Nr(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}return t.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},t}();function Xi(t,e,n,r){return new Qi(t,e,n,r)}function Ji(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=m(t),i=r.xi,o=r.Ga,[4,r.persistence.runTransaction("Handle user change","readonly",(function(t){var e;return r.xi.Hr(t).next((function(a){return e=a,i=r.persistence.Na(n),o=new Nr(r.ja,i,r.persistence.Oa()),i.Hr(t)})).next((function(n){for(var r=[],i=[],a=lt(),s=0,u=e;s<u.length;s++){var c=u[s];r.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=n;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return o.Li(t,a).next((function(t){return{Ha:t,Ja:r,Ya:i}}))}))}))];case 1:return a=e.sent(),[2,(r.xi=i,r.Ga=o,r.Ua.za(r.Ga),a)]}}))}))}function Zi(t,e){var n=m(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.ja._o({fo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Gn.resolve();return o.forEach((function(t){a=a.next((function(){return r.yi(e,t)})).next((function(e){var o=e,a=n.Ei.get(t);g(null!==a),(!o||o.version.A(a)<0)&&(o=i._i(t,o,n))&&r.Ri(o,n.Ti)}))})),a.next((function(){return t.xi.Yr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}function to(t){var e=m(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function eo(t,e){var n=m(t),r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ja._o({fo:!0});i=n.Qa;var a=[];e.Gt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.ra.Ko(t,e.ne,o).next((function(){return n.ra.Uo(t,e.te,o)})));var u=e.resumeToken;if(u.X()>0){var c=s.st(u,r).nt(t.Go);i=i.rt(o,c),function(t,e,n){return g(e.resumeToken.X()>0),0===t.resumeToken.X()||e.et.R()-t.et.R()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(s,c,e)&&a.push(n.ra.ko(t,c))}}}));var s=it();if(e.Ht.forEach((function(r,i){e.Jt.has(r)&&a.push(n.persistence.Lr.qa(t,r))})),a.push(function(t,e,n,r,i){var o=lt();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=it();return n.forEach((function(n,o){var a=t.get(n),s=r;o instanceof cn&&o.version.isEqual(x.min())?(e.Vi(n,s),i=i.rt(n,o)):null==a||o.version.A(a.version)>0||0===o.version.A(a.version)&&a.hasPendingWrites?(e.Ri(o,s),i=i.rt(n,o)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}(t,o,e.Ht,r).next((function(t){s=t}))),!r.isEqual(x.min())){var u=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)}));a.push(u)}return Gn.xn(a).next((function(){return o.apply(t)})).next((function(){return n.Ga.Bi(t,s)}))})).then((function(t){return n.Qa=i,t}))}function no(t,e){var n=m(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.xi.Gr(t,e)}))}function ro(t,e){var n=m(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?(r=i,Gn.resolve(r)):n.ra.bo(t).next((function(i){return r=new $(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||t.et.A(r.et)>0)&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function io(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s;return Object(e.d)(this,(function(e){switch(e.label){case 0:i=m(t),o=i.Qa.get(n),a=r?"readwrite":"readwrite-primary",e.label=1;case 1:return e.trys.push([1,4,,5]),r?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.Lr.removeTarget(t,o)}))];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:if(!Xn(s=e.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+n+": "+s),[3,5];case 5:return i.Qa=i.Qa.remove(n),i.Ka.delete(o.target),[2]}}))}))}function oo(t,e,n){var r=m(t),i=x.min(),o=lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=m(t),i=r.Ka.get(n);return void 0!==i?Gn.resolve(r.Qa.get(i)):r.ra.qo(e,n)}(r,t,wn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:x.min(),n?o:lt())})).next((function(t){return{documents:t,Xa:o}}))}))}function ao(t,e){var n=m(t),r=m(n.ra),i=n.Qa.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function so(t){var e=m(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=m(t),i=it(),o=Hr(n),a=ui(e),s=IDBKeyRange.lowerBound(o,!0);return a.ns({index:_i.readTimeIndex,range:s},(function(t,e){var n=Wr(r.serializer,e);i=i.rt(n.key,n),o=e.readTime})).next((function(){return{Za:i,readTime:Kr(o)}}))}(e.ja,t,e.Wa)})).then((function(t){var n=t.Za,r=t.readTime;return e.Wa=r,n}))}function uo(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){return[2,(n=m(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ui(t),n=x.min();return e.ns({index:_i.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Kr(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){n.Wa=t}))]}))}))}function co(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){if(t.code!==k.FAILED_PRECONDITION||t.message!==Or)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var lo=function(){function t(t,e,n,r,i,o){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=o,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new Kn(t,e)}return t.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.oc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ac()},t.prototype.stop=function(){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cc=function(){this.state=0,this.Ps.reset()},t.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},t.prototype.lc=function(t){this._c(),this.stream.send(t)},t.prototype.hc=function(){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},t.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},t.prototype.close=function(t,n){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(p(n.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):n&&n.code===k.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(n)];case 1:return e.sent(),[2]}}))}))},t.prototype.fc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new N(k.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},t.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return Object(e.b)(t,void 0,void 0,(function(){return Object(e.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ec=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ho=function(t){function n(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(e.c)(n,t),n.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},n.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(g(void 0===e||"string"==typeof e),H.fromBase64String(e||"")):(g(void 0===e||e instanceof Uint8Array),H.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?k.UNKNOWN:X(t.code);return new N(e,t.message||"")}(a);n=new wt(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=ie(t,u.document.name),l=te(u.document.updateTime),h=new rn({mapValue:{fields:u.document.fields}}),f=new un(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new mt(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var m=ie(t,v.document),b=v.readTime?te(v.readTime):x.min(),w=new cn(m,b),_=v.removedTargetIds||[];n=new mt([],_,w.key,w)}else if("documentRemove"in e){e.documentRemove;var E=e.documentRemove;E.document;var T=ie(t,E.document),I=E.removedTargetIds||[];n=new mt([],I,T,null)}else{if(!("filter"in e))return y();e.filter;var S=e.filter;S.targetId;var C=S.count||0,O=new Y(C),A=S.targetId;n=new bt(A,O)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return x.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?x.min():e.readTime?te(e.readTime):x.min()}(t);return this.listener.Rc(e,n)},n.prototype.Pc=function(t){var e={};e.database=se(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=z(r)?{documents:fe(t,r)}:{query:pe(t,r)}).targetId=e.targetId,e.resumeToken.X()>0?n.resumeToken=Jt(t,e.resumeToken):e.et.A(x.min())>0&&(n.readTime=Xt(t,e.et.P())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.lc(e)},n.prototype.gc=function(t){var e={};e.database=se(this.serializer),e.removeTarget=t,this.lc(e)},n}(lo),fo=function(t){function n(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Vc=!1,a}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},n.prototype.fc=function(){this.Vc&&this.vc([])},n.prototype.Ic=function(t){return this.ec.Ac("Write",t)},n.prototype.onMessage=function(t){if(g(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=function(t,e){return t&&t.length>0?(g(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?te(t.updateTime):te(e);n.isEqual(x.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ve(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.bc(n,e)}return g(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},n.prototype.Dc=function(){var t={};t.database=se(this.serializer),this.lc(t)},n.prototype.vc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.lc(n)},n}(lo),po=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ec=n,i.serializer=r,i.Cc=!1,i}return Object(e.c)(n,t),n.prototype.Nc=function(){if(this.Cc)throw new N(k.FAILED_PRECONDITION,"The client has already been terminated.")},n.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.ni(),t}))},n.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.ni(),t}))},n.prototype.terminate=function(){this.Cc=!1},n}((function(){})),vo=function(){function t(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}return t.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},t.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,this.Mc>=1&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},t.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},t.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},t.prototype.qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.$c?(p(e),this.$c=!1):f("OnlineStateTracker",e)},t.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},t}(),yo=function(t,n,r,i,o){var a=this;this.Kc=t,this.Wc=n,this.rs=r,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=o,this.Yc.Xc((function(t){r.fs((function(){return Object(e.b)(a,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return So(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(n=m(t)).Hc.add(4),[4,mo(n)];case 1:return e.sent(),n.Zc.set("Unknown"),n.Hc.delete(4),[4,go(n)];case 2:return e.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new vo(r,i)};function go(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r;return Object(e.d)(this,(function(e){switch(e.label){case 0:if(!So(t))return[3,4];n=0,r=t.Jc,e.label=1;case 1:return n<r.length?[4,(0,r[n])(!0)]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}function mo(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r;return Object(e.d)(this,(function(e){switch(e.label){case 0:n=0,r=t.Jc,e.label=1;case 1:return n<r.length?[4,(0,r[n])(!1)]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}function bo(t,e){var n=m(t);n.zc.has(e.targetId)||(n.zc.set(e.targetId,e),Io(n)?To(n):Vo(n).oc()&&_o(n,e))}function wo(t,e){var n=m(t),r=Vo(n);n.zc.delete(e),r.oc()&&Eo(n,e),0===n.zc.size&&(r.oc()?r.uc():So(n)&&n.Zc.set("Unknown"))}function _o(t,e){t.tu.Ie(e.targetId),Vo(t).Pc(e)}function Eo(t,e){t.tu.Ie(e),Vo(t).gc(e)}function To(t){t.tu=new Et({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),Vo(t).start(),t.Zc.Lc()}function Io(t){return So(t)&&!Vo(t).rc()&&t.zc.size>0}function So(t){return 0===m(t).Hc.size}function Co(t){t.tu=void 0}function Oo(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){return t.zc.forEach((function(e,n){_o(t,e)})),[2]}))}))}function ko(t,n){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){return Co(t),Io(t)?(t.Zc.Uc(n),To(t)):t.Zc.set("Unknown"),[2]}))}))}function No(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a;return Object(e.d)(this,(function(s){switch(s.label){case 0:if(t.Zc.set("Online"),!(n instanceof wt&&2===n.state&&n.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(e.d)(this,(function(e){switch(e.label){case 0:r=n.cause,i=0,o=n.targetIds,e.label=1;case 1:return i<o.length?(a=o[i],t.zc.has(a)?[4,t.jc.eu(a,r)]:[3,3]):[3,5];case 2:e.sent(),t.zc.delete(a),t.tu.removeTarget(a),e.label=3;case 3:e.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,n)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),i),[4,Ao(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(n instanceof mt?t.tu.pe(n):n instanceof bt?t.tu.Fe(n):t.tu.Se(n),r.isEqual(x.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,to(t.Kc)];case 8:return o=s.sent(),r.A(o)>=0?[4,function(t,e){var n=t.tu.ke(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.X()>0){var i=t.zc.get(r);i&&t.zc.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.zc.get(e);if(n){t.zc.set(e,n.st(H.Z,n.et)),Eo(t,e);var r=new $(n.target,e,1,n.sequenceNumber);_o(t,r)}})),t.jc.nu(n)}(t,r)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Ao(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Ao(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i=this;return Object(e.d)(this,(function(o){switch(o.label){case 0:if(!Xn(n))throw n;return t.Hc.add(1),[4,mo(t)];case 1:return o.sent(),t.Zc.set("Offline"),r||(r=function(){return to(t.Kc)}),t.rs.Ss((function(){return Object(e.b)(i,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return e.sent(),t.Hc.delete(1),[4,go(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function xo(t,e){return e().catch((function(n){return Ao(t,n,e)}))}function Po(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(e.d)(this,(function(e){switch(e.label){case 0:n=m(t),r=Bo(n),i=n.Gc.length>0?n.Gc[n.Gc.length-1].batchId:-1,e.label=1;case 1:if(!function(t){return So(t)&&t.Gc.length<10}(n))return[3,7];e.label=2;case 2:return e.trys.push([2,4,,6]),[4,no(n.Kc,i)];case 3:return null===(o=e.sent())?(0===n.Gc.length&&r.uc(),[3,7]):(i=o.batchId,function(t,e){t.Gc.push(e);var n=Bo(t);n.oc()&&n.yc&&n.vc(e.mutations)}(n,o),[3,6]);case 4:return a=e.sent(),[4,Ao(n,a)];case 5:return e.sent(),[3,6];case 6:return[3,1];case 7:return Ro(n)&&Do(n),[2]}}))}))}function Ro(t){return So(t)&&!Bo(t).rc()&&t.Gc.length>0}function Do(t){Bo(t).start()}function Mo(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){return Bo(t).Dc(),[2]}))}))}function Lo(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(e.d)(this,(function(e){for(n=Bo(t),r=0,i=t.Gc;r<i.length;r++)o=i[r],n.vc(o.mutations);return[2]}))}))}function jo(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:return i=t.Gc.shift(),o=Tr.from(i,n,r),[4,xo(t,(function(){return t.jc.su(o)}))];case 1:return e.sent(),[4,Po(t)];case 2:return e.sent(),[2]}}))}))}function Fo(t,n){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(r){switch(r.label){case 0:return n&&Bo(t).yc?[4,function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i;return Object(e.d)(this,(function(e){switch(e.label){case 0:return Q(i=n.code)&&i!==k.ABORTED?(r=t.Gc.shift(),Bo(t).cc(),[4,xo(t,(function(){return t.jc.iu(r.batchId,n)}))]):[3,3];case 1:return e.sent(),[4,Po(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))}(t,n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return Ro(t)&&Do(t),[2]}}))}))}function Uo(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=m(t),n?(r.Hc.delete(2),[4,go(r)]):[3,2];case 1:return e.sent(),[3,5];case 2:return n?[3,4]:(r.Hc.add(2),[4,mo(r)]);case 3:e.sent(),r.Zc.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))}function Vo(t){var n=this;return t.ru||(t.ru=function(t,e,n){var r=m(t);return r.Nc(),new ho(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Oo.bind(null,t),dc:ko.bind(null,t),Rc:No.bind(null,t)}),t.Jc.push((function(r){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return r?(t.ru.cc(),Io(t)?To(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:e.sent(),Co(t),e.label=3;case 3:return[2]}}))}))}))),t.ru}function Bo(t){var n=this;return t.ou||(t.ou=function(t,e,n){var r=m(t);return r.Nc(),new fo(e,r.ec,r.credentials,r.serializer,n)}(t.Wc,t.rs,{mc:Mo.bind(null,t),dc:Fo.bind(null,t),Sc:Lo.bind(null,t),bc:jo.bind(null,t)}),t.Jc.push((function(r){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return r?(t.ou.cc(),[4,Po(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:e.sent(),t.Gc.length>0&&(f("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),e.label=4;case 4:return[2]}}))}))}))),t.ou}var qo=function(){function t(){this.au=new et(Wo.cu),this.uu=new et(Wo.hu)}return t.prototype.T=function(){return this.au.T()},t.prototype.Qo=function(t,e){var n=new Wo(t,e);this.au=this.au.add(n),this.uu=this.uu.add(n)},t.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},t.prototype.Wo=function(t,e){this._u(new Wo(t,e))},t.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},t.prototype.du=function(t){var e=this,n=new L(new R([])),r=new Wo(n,t),i=new Wo(n,t+1),o=[];return this.uu.Nt([r,i],(function(t){e._u(t),o.push(t.key)})),o},t.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},t.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},t.prototype.Tu=function(t){var e=new L(new R([])),n=new Wo(e,t),r=new Wo(e,t+1),i=lt();return this.uu.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.so=function(t){var e=new Wo(t,0),n=this.au.Ft(e);return null!==n&&t.isEqual(n.key)},t}(),Wo=function(){function t(t,e){this.key=t,this.Eu=e}return t.cu=function(t,e){return L.V(t.key,e.key)||_(t.Eu,e.Eu)},t.hu=function(t,e){return _(t.Eu,e.Eu)||L.V(t.key,e.key)},t}();function zo(t,e){return"firestore_clients_"+t+"_"+e}function Ho(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Js()&&(r+="_"+e.uid),r}function Ko(t,e){return"firestore_targets_"+t+"_"+e}var Go=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Iu=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new N(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$o=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Iu=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new N(r.error.code,r.error.message)),i?new t(e,r.state,o):(p("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Iu=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ft(),a=0;i&&a<r.activeTargetIds.length;++a)i=U(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(p("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Iu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xo=function(){function t(){this.activeTargetIds=ft()}return t.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jo=function(){function t(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new J(_),this.yr=!1,this.vu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bu=zo(this.persistenceKey,this.Pu),this.Su=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pu=this.pu.rt(this.Pu,new Xo),this.Du=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fu=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Vu)}return t.kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(e.b)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,this.gu.Ca()];case 1:for(t=e.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Pu&&(o=this.getItem(zo(this.persistenceKey,i)))&&(a=Yo.Iu(i,o))&&(this.pu=this.pu.rt(a.clientId,a));for(this.Ou(),(s=this.storage.getItem(this.xu))&&(u=this.Mu(s))&&this.ku(u),c=0,l=this.vu;c<l.length;c++)h=l[c],this.yu(h);return this.vu=[],this.window.addEventListener("unload",(function(){return f.pa()})),this.yr=!0,[2]}}))}))},t.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},t.prototype.$u=function(){return this.Lu(this.pu)},t.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qu=function(t){this.Uu(t,"pending")},t.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},t.prototype.Wu=function(t){var e="not-current";if(this.Bu(t)){var n=this.storage.getItem(Ko(this.persistenceKey,t));if(n){var r=$o.Iu(t,n);r&&(e=r.state)}}return this.ju.Au(t),this.Ou(),e},t.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},t.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},t.prototype.Hu=function(t){this.removeItem(Ko(this.persistenceKey,t))},t.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},t.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},t.prototype.Zu=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.yu=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(f("SharedClientState","EVENT",r.key,r.newValue),r.key===this.bu)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return Object(e.b)(n,void 0,void 0,(function(){var t,n,i,o,a,s;return Object(e.d)(this,(function(e){if(this.yr){if(null!==r.key)if(this.Du.test(r.key)){if(null==r.newValue)return t=this.sh(r.key),[2,this.ih(t,null)];if(n=this.rh(r.key,r.newValue))return[2,this.ih(n.clientId,n)]}else if(this.Cu.test(r.key)){if(null!==r.newValue&&(i=this.oh(r.key,r.newValue)))return[2,this.ah(i)]}else if(this.Nu.test(r.key)){if(null!==r.newValue&&(o=this.uh(r.key,r.newValue)))return[2,this.hh(o)]}else if(r.key===this.xu){if(null!==r.newValue&&(a=this.Mu(r.newValue)))return[2,this.ku(a)]}else if(r.key===this.Su)(s=function(t){var e=xr.nr;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(r.newValue))!==xr.nr&&this.Xi(s);else if(r.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(r);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),t.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},t.prototype.Uu=function(t,e,n){var r=new Go(this.currentUser,t,e,n),i=Ho(this.persistenceKey,this.currentUser,t);this.setItem(i,r.mu())},t.prototype.Ku=function(t){var e=Ho(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){var e={clientId:this.Pu,onlineState:t};this.storage.setItem(this.xu,JSON.stringify(e))},t.prototype.Yu=function(t,e,n){var r=Ko(this.persistenceKey,t),i=new $o(t,e,n);this.setItem(r,i.mu())},t.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},t.prototype.sh=function(t){var e=this.Du.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Yo.Iu(n,e)},t.prototype.oh=function(t,e){var n=this.Cu.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Go.Iu(new yr(i),r,e)},t.prototype.uh=function(t,e){var n=this.Nu.exec(t),r=Number(n[1]);return $o.Iu(r,e)},t.prototype.Mu=function(t){return Qo.Iu(t)},t.prototype.ah=function(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),o=this.Lu(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.gu.dh(a,s).then((function(){n.pu=r}))},t.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},t.prototype.Lu=function(t){var e=ft();return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},t}(),Zo=function(){function t(){this.wh=new Xo,this.Th={},this.Oc=null,this.Xi=null}return t.prototype.qu=function(t){},t.prototype.Qu=function(t,e,n){},t.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},t.prototype.Ju=function(t,e,n){this.Th[t]=e},t.prototype.Gu=function(t){this.wh.Ru(t)},t.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Hu=function(t){delete this.Th[t]},t.prototype.$u=function(){return this.wh.activeTargetIds},t.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Xo,Promise.resolve()},t.prototype.Xu=function(t,e,n){},t.prototype.Zu=function(t){},t.prototype.pa=function(){},t.prototype.er=function(t){},t.prototype.eh=function(){},t}(),ta=function(t){this.key=t},ea=function(t){this.key=t},na=function(){function t(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=lt(),this.Qt=lt(),this.Ah=kn(t),this.Rh=new pt(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new dt,i=e?e.Rh:this.Rh,o=e?e.Qt:this.Qt,a=i,s=!1,u=dn(this.query)&&i.size===this.query.limit?i.last():null,c=vn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof un?e:null;h&&(h=On(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yh(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),dn(this.query)||vn(this.query))for(;a.size>this.query.limit;){var l=dn(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:a,Vh:r,ph:s,Qt:o}},t.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var o=t.Vh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var a=e?this.Sh():[],s=0===this.mh.size&&this.Zt?1:0,u=s!==this.Ih;return this.Ih=s,0!==o.length||u?{snapshot:new vt(this.query,t.Rh,i,o,t.Qt,0===s,u,!1),Dh:a}:{Dh:a}},t.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new dt,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},t.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},t.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=lt(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new ea(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new ta(t))})),n},t.prototype.Nh=function(t){this.Eh=t.Xa,this.mh=lt();var e=this.gh(t.documents);return this.bi(e,!0)},t.prototype.xh=function(){return vt.jt(this.query,this.Rh,this.Qt,0===this.Ih)},t}(),ra=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ia=function(t){this.key=t,this.Fh=!1},oa=function(){function t(t,e,n,r,i,o){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new O((function(t){return Sn(t)}),In),this.qh=new Map,this.Uh=[],this.Qh=new J(L.V),this.Kh=new Map,this.Wh=new qo,this.jh={},this.Gh=new Map,this.zh=ji.vo(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function aa(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=Ma(t),(a=r.Bh.get(n))?(i=a.targetId,r.kh.Wu(i),o=a.view.xh(),[3,4]):[3,1];case 1:return[4,ro(r.Kc,wn(n))];case 2:return s=e.sent(),u=r.kh.Wu(s.targetId),i=s.targetId,[4,sa(r,n,i,"current"===u)];case 3:o=e.sent(),r.Jh&&bo(r.Oh,s),e.label=4;case 4:return[2,o]}}))}))}function sa(t,n,r,i){return Object(e.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return Object(e.d)(this,(function(h){switch(h.label){case 0:return t.Yh=function(n,r,i){return function(t,n,r,i){return Object(e.b)(this,void 0,void 0,(function(){var o,a,s;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(o=n.view.gh(r)).ph?[4,oo(t.Kc,n.query,!1).then((function(t){var e=t.documents;return n.view.gh(e,o)}))]:[3,2];case 1:o=e.sent(),e.label=2;case 2:return a=i&&i.Gt.get(n.targetId),s=n.view.bi(o,t.Jh,a),[2,(wa(t,n.targetId,s.Dh),s.snapshot)]}}))}))}(t,n,r,i)},[4,oo(t.Kc,n,!0)];case 1:return o=h.sent(),a=new na(n,o.Xa),s=a.gh(o.documents),u=gt.Xt(r,i&&"Offline"!==t.onlineState),c=a.bi(s,t.Jh,u),wa(t,r,c.Dh),l=new ra(n,r,a),[2,(t.Bh.set(n,l),t.qh.has(r)?t.qh.get(r).push(n):t.qh.set(r,[n]),c.snapshot)]}}))}))}function ua(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=m(t),i=r.Bh.get(n),(o=r.qh.get(i.targetId)).length>1?[2,(r.qh.set(i.targetId,o.filter((function(t){return!In(t,n)}))),void r.Bh.delete(n))]:r.Jh?(r.kh.Gu(i.targetId),r.kh.Bu(i.targetId)?[3,2]:[4,io(r.Kc,i.targetId,!1).then((function(){r.kh.Hu(i.targetId),wo(r.Oh,i.targetId),ma(r,i.targetId)})).catch(co)]):[3,3];case 1:e.sent(),e.label=2;case 2:return[3,5];case 3:return ma(r,i.targetId),[4,io(r.Kc,i.targetId,!0)];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))}function ca(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s;return Object(e.d)(this,(function(e){switch(e.label){case 0:i=La(t),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,function(t,e){var n,r=m(t),i=A.now(),o=e.reduce((function(t,e){return t.add(e.key)}),lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ga.Li(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Ke(c,n.get(c.key));null!=l&&a.push(new Qe(c.key,l,an(l.proto.mapValue),Be.exists(!0)))}return r.xi.Qr(t,i,a,e)}))})).then((function(t){var e=t.wi(n);return{batchId:t.batchId,Ii:e}}))}(i.Kc,n)];case 2:return o=e.sent(),i.kh.qu(o.batchId),function(t,e,n){var r=t.jh[t.currentUser.Ys()];r||(r=new J(_)),r=r.rt(e,n),t.jh[t.currentUser.Ys()]=r}(i,o.batchId,r),[4,Ta(i,o.Ii)];case 3:return e.sent(),[4,Po(i.Oh)];case 4:return e.sent(),[3,6];case 5:return a=e.sent(),s=sr(a,"Failed to persist write"),r.reject(s),[3,6];case 6:return[2]}}))}))}function la(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i;return Object(e.d)(this,(function(e){switch(e.label){case 0:r=m(t),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,eo(r.Kc,n)];case 2:return i=e.sent(),n.Gt.forEach((function(t,e){var n=r.Kh.get(e);n&&(g(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?n.Fh=!0:t.ee.size>0?g(n.Fh):t.ne.size>0&&(g(n.Fh),n.Fh=!1))})),[4,Ta(r,i,n)];case 3:return e.sent(),[3,6];case 4:return[4,co(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))}function ha(t,e,n){var r=m(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Bs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=m(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Bs(e)&&(r=!0)})),r&&dr(n)}(r.Mh,e),i.length&&r.Lh.Rc(i),r.onlineState=e,r.Jh&&r.kh.Zu(e)}}function fa(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(i=m(t)).kh.Ju(n,"rejected",r),o=i.Kh.get(n),(a=o&&o.key)?(s=(s=new J(L.V)).rt(a,new cn(a,x.min())),u=lt().add(a),c=new yt(x.min(),new Map,new et(_),s,u),[4,la(i,c)]):[3,2];case 1:return e.sent(),i.Qh=i.Qh.remove(a),i.Kh.delete(n),Ea(i),[3,4];case 2:return[4,io(i.Kc,n,!1).then((function(){return ma(i,n,r)})).catch(co)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}function pa(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:r=m(t),i=n.batch.batchId,e.label=1;case 1:return e.trys.push([1,4,,6]),[4,Zi(r.Kc,n)];case 2:return o=e.sent(),ga(r,i,null),ya(r,i),r.kh.Qu(i,"acknowledged"),[4,Ta(r,o)];case 3:return e.sent(),[3,6];case 4:return[4,co(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))}function da(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:i=m(t),e.label=1;case 1:return e.trys.push([1,4,,6]),[4,function(t,e){var n=m(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.xi.Wr(t,e).next((function(e){return g(null!==e),r=e.keys(),n.xi.Yr(t,e)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,r)}))}))}(i.Kc,n)];case 2:return o=e.sent(),ga(i,n,r),ya(i,n),i.kh.Qu(n,"rejected",r),[4,Ta(i,o)];case 3:return e.sent(),[3,6];case 4:return[4,co(e.sent())];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))}function va(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(e.d)(this,(function(e){switch(e.label){case 0:So((r=m(t)).Oh)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,function(t){var e=m(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.xi.zr(t)}))}(r.Kc)];case 2:return-1===(i=e.sent())?[2,void n.resolve()]:((o=r.Gh.get(i)||[]).push(n),r.Gh.set(i,o),[3,4]);case 3:return a=e.sent(),s=sr(a,"Initialization of waitForPendingWrites() operation failed"),n.reject(s),[3,4];case 4:return[2]}}))}))}function ya(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function ga(t,e,n){var r=m(t),i=r.jh[r.currentUser.Ys()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i}}function ma(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||ba(t,e)}))}function ba(t,e){var n=t.Qh.get(e);null!==n&&(wo(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Ea(t))}function wa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ta?(t.Wh.Qo(o.key,e),_a(t,o)):o instanceof ea?(f("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.Wo(o.key,e),t.Wh.so(o.key)||ba(t,o.key)):y()}}function _a(t,e){var n=e.key;t.Qh.get(n)||(f("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Ea(t))}function Ea(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new ia(e)),t.Qh=t.Qh.rt(e,n),bo(t.Oh,new $(wn(pn(e.path)),n,2,xr.nr))}}function Ta(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s;return Object(e.d)(this,(function(u){switch(u.label){case 0:return i=m(t),o=[],a=[],s=[],i.Bh.T()?[3,3]:(i.Bh.forEach((function(t,e){s.push(i.Yh(e,n,r).then((function(t){if(t){i.Jh&&i.kh.Ju(e.targetId,t.fromCache?"not-current":"current"),o.push(t);var n=Ar.Yi(e.targetId,t);a.push(n)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Lh.Rc(o),[4,function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(e.d)(this,(function(e){switch(e.label){case 0:r=m(t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Gn.forEach(n,(function(e){return Gn.forEach(e.Hi,(function(n){return r.persistence.Lr.Qo(t,e.targetId,n)})).next((function(){return Gn.forEach(e.Ji,(function(n){return r.persistence.Lr.Wo(t,e.targetId,n)}))}))}))}))];case 2:return e.sent(),[3,4];case 3:if(!Xn(i=e.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=n;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=r.Qa.get(u),l=c.et,h=c.it(l),r.Qa=r.Qa.rt(u,h));return[2]}}))}))}(i.Kc,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ia(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(r=m(t)).currentUser.isEqual(n)?[3,3]:(f("SyncEngine","User change. New user:",n.Ys()),[4,Ji(r.Kc,n)]);case 1:return i=e.sent(),r.currentUser=n,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new N(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(r),r.kh.Xu(n,i.Ja,i.Ya),[4,Ta(r,i.Ha)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))}function Sa(t,e){var n=m(t),r=n.Kh.get(e);if(r&&r.Fh)return lt().add(r.key);var i=lt(),o=n.qh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Bh.get(u);i=i.Ot(c.view.Ph)}return i}function Ca(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,oo((r=m(t)).Kc,n.query,!0)];case 1:return i=e.sent(),o=n.view.Nh(i),[2,(r.Jh&&wa(r,n.targetId,o.Dh),o)]}}))}))}function Oa(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){return[2,so((n=m(t)).Kc).then((function(t){return Ta(n,t)}))]}))}))}function ka(t,n,r,i){return Object(e.b)(this,void 0,void 0,(function(){var o,a;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,function(t,e){var n=m(t),r=m(n.xi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jr(t,e).next((function(e){return e?n.Ga.Li(t,e):Gn.resolve(null)}))}))}((o=m(t)).Kc,n)];case 1:return null===(a=e.sent())?[3,6]:"pending"!==r?[3,3]:[4,Po(o.Oh)];case 2:return e.sent(),[3,4];case 3:"acknowledged"===r||"rejected"===r?(ga(o,n,i||null),ya(o,n),function(t,e){m(m(t).xi).Zr(e)}(o.Kc,n)):y(),e.label=4;case 4:return[4,Ta(o,a)];case 5:return e.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+n),e.label=7;case 7:return[2]}}))}))}function Na(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Object(e.d)(this,(function(e){switch(e.label){case 0:return Ma(r=m(t)),La(r),!0!==n||!0===r.Hh?[3,3]:(i=r.kh.$u(),[4,Aa(r,i.O())]);case 1:return o=e.sent(),r.Hh=!0,[4,Uo(r.Oh,!0)];case 2:for(e.sent(),a=0,s=o;a<s.length;a++)u=s[a],bo(r.Oh,u);return[3,7];case 3:return!1!==n||!1===r.Hh?[3,7]:(c=[],l=Promise.resolve(),r.qh.forEach((function(t,e){r.kh.zu(e)?c.push(e):l=l.then((function(){return ma(r,e),io(r.Kc,e,!0)})),wo(r.Oh,e)})),[4,l]);case 4:return e.sent(),[4,Aa(r,c)];case 5:return e.sent(),function(t){var e=m(t);e.Kh.forEach((function(t,n){wo(e.Oh,n)})),e.Wh.wu(),e.Kh=new Map,e.Qh=new J(L.V)}(r),r.Hh=!1,[4,Uo(r.Oh,!1)];case 6:e.sent(),e.label=7;case 7:return[2]}}))}))}function Aa(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p,d,v,y;return Object(e.d)(this,(function(e){switch(e.label){case 0:r=m(t),i=[],o=[],a=0,s=n,e.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=r.qh.get(u))&&0!==l.length?[4,ro(r.Kc,wn(l[0]))]:[3,7]):[3,13];case 2:c=e.sent(),h=0,f=l,e.label=3;case 3:return h<f.length?(p=f[h],d=r.Bh.get(p),[4,Ca(r,d)]):[3,6];case 4:(v=e.sent()).snapshot&&o.push(v.snapshot),e.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ao(r.Kc,u)];case 8:return y=e.sent(),[4,ro(r.Kc,y)];case 9:return c=e.sent(),[4,sa(r,xa(y),u,!1)];case 10:e.sent(),e.label=11;case 11:i.push(c),e.label=12;case 12:return a++,[3,1];case 13:return[2,(r.Lh.Rc(o),i)]}}))}))}function xa(t){return fn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Pa(t){var e=m(t);return m(m(e.Kc).persistence).Ca()}function Ra(t,n,r,i){return Object(e.b)(this,void 0,void 0,(function(){var o,a,s;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(o=m(t)).Hh?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.qh.has(n))return[3,8];switch(r){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,so(o.Kc)];case 3:return a=e.sent(),s=yt.Yt(n,"current"===r),[4,Ta(o,a,s)];case 4:return e.sent(),[3,8];case 5:return[4,io(o.Kc,n,!0)];case 6:return e.sent(),ma(o,n,i),[3,8];case 7:y(),e.label=8;case 8:return[2]}}))}))}function Da(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,p,d;return Object(e.d)(this,(function(v){switch(v.label){case 0:if(!(i=Ma(t)).Hh)return[3,10];o=0,a=n,v.label=1;case 1:return o<a.length?(s=a[o],i.qh.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,ao(i.Kc,s)]):[3,6];case 2:return u=v.sent(),[4,ro(i.Kc,u)];case 3:return c=v.sent(),[4,sa(i,xa(u),c.targetId,!1)];case 4:v.sent(),bo(i.Oh,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(e.d)(this,(function(e){switch(e.label){case 0:return i.qh.has(t)?[4,io(i.Kc,t,!1).then((function(){wo(i.Oh,t),ma(i,t)})).catch(co)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,p=r,v.label=7;case 7:return h<p.length?(d=p[h],[5,l(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Ma(t){var e=m(t);return e.Oh.jc.nu=la.bind(null,e),e.Oh.jc.Be=Sa.bind(null,e),e.Oh.jc.eu=fa.bind(null,e),e.Lh.Rc=fr.bind(null,e.Mh),e.Lh.Xh=pr.bind(null,e.Mh),e}function La(t){var e=m(t);return e.Oh.jc.su=pa.bind(null,e),e.Oh.jc.iu=da.bind(null,e),e}var ja=function(){function t(){}return t.prototype.za=function(t){this.Zh=t},t.prototype.Ui=function(t,e,n,r){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.B())}(e)||n.isEqual(x.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(a){var s=o.el(e,a);return(dn(e)||vn(e))&&o.ph(e.limitType,s,r,n)?o.tl(t,e):(h()<=i.a.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cn(e)),o.Zh.Ui(t,e,n).next((function(t){return s.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new et(kn(t));return e.forEach((function(e,r){r instanceof un&&On(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.A(r)>0)},t.prototype.tl=function(t,e){return h()<=i.a.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",Cn(e)),this.Zh.Ui(t,e,x.min())},t}(),Fa=function(){function t(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new et(Wo.cu)}return t.prototype.Ur=function(t){return Gn.resolve(0===this.xi.length)},t.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++,this.xi.length>0&&this.xi[this.xi.length-1];var o=new Er(i,e,n,r);this.xi.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new Wo(u.key,i)),this.Fi.Kr(t,u.key.path.S())}return Gn.resolve(o)},t.prototype.Wr=function(t,e){return Gn.resolve(this.il(e))},t.prototype.Gr=function(t,e){var n=e+1,r=this.rl(n),i=r<0?0:r;return Gn.resolve(this.xi.length>i?this.xi[i]:null)},t.prototype.zr=function(){return Gn.resolve(0===this.xi.length?-1:this.nl-1)},t.prototype.Hr=function(t){return Gn.resolve(this.xi.slice())},t.prototype.Mi=function(t,e){var n=this,r=new Wo(e,0),i=new Wo(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Nt([r,i],(function(t){var e=n.il(t.Eu);o.push(e)})),Gn.resolve(o)},t.prototype.qi=function(t,e){var n=this,r=new et(_);return e.forEach((function(t){var e=new Wo(t,0),i=new Wo(t,Number.POSITIVE_INFINITY);n.sl.Nt([e,i],(function(t){r=r.add(t.Eu)}))})),Gn.resolve(this.ol(r))},t.prototype.Gi=function(t,e){var n=e.path,r=n.length+1,i=n;L.G(i)||(i=i.child(""));var o=new Wo(new L(i),0),a=new et(_);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(a=a.add(t.Eu)),!0)}),o),Gn.resolve(this.ol(a))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.Yr=function(t,e){var n=this;g(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return Gn.forEach(e.mutations,(function(i){var o=new Wo(i.key,e.batchId);return r=r.delete(o),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Zr=function(t){},t.prototype.so=function(t,e){var n=new Wo(e,0),r=this.sl.Ft(n);return Gn.resolve(e.isEqual(r&&r.key))},t.prototype.no=function(t){return this.xi.length,Gn.resolve()},t.prototype.al=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.xi.length?null:this.xi[e]},t}(),Ua=function(){function t(t,e){this.Fi=t,this.cl=e,this.docs=new J(L.V),this.size=0}return t.prototype.Ri=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:a,readTime:n}),this.size+=a-o,this.Fi.Kr(t,r.path.S())},t.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.yi=function(t,e){var n=this.docs.get(e);return Gn.resolve(n?n.gi:null)},t.prototype.getEntries=function(t,e){var n=this,r=ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),Gn.resolve(r)},t.prototype.Ui=function(t,e,n){for(var r=st(),i=new L(e.path.child("")),o=this.docs._t(i);o.It();){var a=o.Et(),s=a.key,u=a.value,c=u.gi,l=u.readTime;if(!e.path.N(s.path))break;l.A(n)<=0||c instanceof un&&On(e,c)&&(r=r.rt(c.key,c))}return Gn.resolve(r)},t.prototype.ul=function(t,e){return Gn.forEach(this.docs,(function(t){return e(t)}))},t.prototype._o=function(t){return new Va(this)},t.prototype.wo=function(t){return Gn.resolve(this.size)},t}(),Va=function(t){function n(e){var n=this;return(n=t.call(this)||this).To=e,n}return Object(e.c)(n,t),n.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),Gn.xn(n)},n.prototype.pi=function(t,e){return this.To.yi(t,e)},n.prototype.vi=function(t,e){return this.To.getEntries(t,e)},n}(Ir),Ba=function(){function t(t){this.persistence=t,this.hl=new O((function(t){return q(t)}),W),this.lastRemoteSnapshotVersion=x.min(),this.highestTargetId=0,this.ll=0,this._l=new qo,this.targetCount=0,this.fl=ji.po()}return t.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Gn.resolve()},t.prototype.Co=function(t){return Gn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.No=function(t){return Gn.resolve(this.ll)},t.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),Gn.resolve(this.highestTargetId)},t.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Gn.resolve()},t.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new ji(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,Gn.resolve()},t.prototype.ko=function(t,e){return this.Oo(e),Gn.resolve()},t.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),this.targetCount-=1,Gn.resolve()},t.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.Lo(t,s.targetId)),i++)})),Gn.xn(o).next((function(){return i}))},t.prototype.Bo=function(t){return Gn.resolve(this.targetCount)},t.prototype.qo=function(t,e){var n=this.hl.get(e)||null;return Gn.resolve(n)},t.prototype.Uo=function(t,e,n){return this._l.lu(e,n),Gn.resolve()},t.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),Gn.xn(i)},t.prototype.Lo=function(t,e){return this._l.du(e),Gn.resolve()},t.prototype.jo=function(t,e){var n=this._l.Tu(e);return Gn.resolve(n)},t.prototype.so=function(t,e){return Gn.resolve(this._l.so(e))},t}(),qa=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.mo=function(t,e){return Gn.resolve(this.dl.get(e))},t.prototype.Ao=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:te(n.createTime)}),Gn.resolve()},t.prototype.Ro=function(t,e){return Gn.resolve(this.wl.get(e))},t.prototype.Po=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Jr(n.bundledQuery),readTime:te(n.readTime)}),Gn.resolve()},t}(),Wa=function(){function t(t,e){var n=this;this.Tl={},this.Jo=new xr(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new Ba(this),this.Fi=new hi,this.Ni=function(t,e){return new Ua(t,(function(t){return n.Lr.El(t)}))}(this.Fi),this.serializer=new qr(e),this.oa=new qa(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),t.prototype.fa=function(){},t.prototype.da=function(){},t.prototype.Oa=function(){return this.Fi},t.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new Fa(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},t.prototype.xa=function(){return this.ra},t.prototype.Fa=function(){return this.Ni},t.prototype.Ma=function(){return this.oa},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new za(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},t.prototype.Al=function(t,e){return Gn.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},t}(),za=function(t){function n(e){var n=this;return(n=t.call(this)||this).Go=e,n}return Object(e.c)(n,t),n}(kr),Ha=function(){function t(t){this.persistence=t,this.Rl=new qo,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw y()},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),Gn.resolve()},t.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),Gn.resolve()},t.prototype.eo=function(t,e){return this.Vl.add(e.toString()),Gn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return Gn.forEach(this.Vl,(function(r){var i=L.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},t.prototype.El=function(t){return 0},t.prototype.yl=function(t,e){var n=this;return Gn.Fn([function(){return Gn.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Ka=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.mc=function(t){this.bl=t},t.prototype.dc=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Ga={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$a=function(t){function n(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(e.c)(n,t),n.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new a.d;s.listenOnce(a.b.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:var e=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.a.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),o(new N(k.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(k).indexOf(e)>=0?e:k.UNKNOWN}(r.status);o(new N(u,r.message))}else o(new N(k.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new N(k.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},n.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(a.e)(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(i.initMessageHeaders,e),Object(o.x)()||Object(o.A)()||Object(o.t)()||Object(o.v)()||Object(o.B)()||Object(o.s)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");f("Connection","Creating WebChannel: "+s,i);var u=r.createWebChannel(s,i),c=!1,l=!1,h=new Ka({pl:function(t){l?f("Connection","Not sending because WebChannel is closed:",t):(c||(f("Connection","Opening WebChannel transport."),u.open(),c=!0),f("Connection","WebChannel sending:",t),u.send(t))},vl:function(){return u.close()}}),p=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(a.c.EventType.OPEN,(function(){l||f("Connection","WebChannel transport opened.")})),p(a.c.EventType.CLOSE,(function(){l||(l=!0,f("Connection","WebChannel transport closed"),h.Nl())})),p(a.c.EventType.ERROR,(function(t){l||(l=!0,d("Connection","WebChannel transport errored:",t),h.Nl(new N(k.UNAVAILABLE,"The operation could not be completed")))})),p(a.c.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];g(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=K[t];if(void 0!==e)return X(e)}(o),s=i.message;void 0===a&&(a=k.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Nl(new N(a,s)),u.close()}else f("Connection","WebChannel received:",n),h.xl(n)}})),setTimeout((function(){h.Cl()}),0),h},n}(function(){function t(t){this.Fl=t,this.t=t.t;var e=t.ssl?"https":"http";this.Ol=e+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);f("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw d("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},t.prototype.kl=function(t,e){var n=Ga[t];return this.Ol+"/v1/"+e+":"+n},t}()),Ya=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Xc=function(t){this.Kl.push(t)},t.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qa=function(){function t(){}return t.prototype.Xc=function(t){},t.prototype.pa=function(){},t}(),Xa=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return this.serializer=Sr(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Xi(this.persistence,new ja,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Wa(Ha.gl,this.serializer)},t.prototype.jl=function(t){return new Zo},t.prototype.terminate=function(){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},t}(),Ja=function(t){function n(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(e.c)(n,t),n.prototype.initialize=function(n){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return e.sent(),[4,uo(this.Kc)];case 2:return e.sent(),[4,this.Xl.initialize(this,n)];case 3:return e.sent(),[4,La(this.Xl.gu)];case 4:return e.sent(),[4,Po(this.Xl.Oh)];case 5:return e.sent(),[2]}}))}))},n.prototype.Jl=function(t){return Xi(this.persistence,new ja,t.Yl,this.serializer)},n.prototype.Hl=function(t){var e=this.persistence.Lr.Rr;return new Lr(e,t.rs)},n.prototype.Gl=function(t){var e=Yi(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Mr.Tr(this.cacheSizeBytes):Mr.mr;return new zi(this.synchronizeTabs,e,t.clientId,n,t.rs,rr(),ir(),this.serializer,this.kh,!!this.forceOwnership)},n.prototype.jl=function(t){return new Zo},n}(Xa),Za=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(e.c)(n,t),n.prototype.initialize=function(n){return Object(e.b)(this,void 0,void 0,(function(){var r,i=this;return Object(e.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Xl.gu,this.kh instanceof Jo?(this.kh.gu={_h:ka.bind(null,r),fh:Ra.bind(null,r),dh:Da.bind(null,r),Ca:Pa.bind(null,r),lh:Oa.bind(null,r)},[4,this.kh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence._a((function(t){return Object(e.b)(i,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,Na(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},n.prototype.jl=function(t){var e=rr();if(!Jo.kn(e))throw new N(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yi(t.Fl.t,t.Fl.persistenceKey);return new Jo(e,t.rs,n,t.clientId,t.Yl)},n}(Ja),ts=function(){function t(){}return t.prototype.initialize=function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r=this;return Object(e.d)(this,(function(e){switch(e.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(n),this.Oh=this.t_(n),this.Mh=this.e_(n),this.gu=this.n_(n,!t.synchronizeTabs),this.kh.Oc=function(t){return ha(r.gu,t,1)},this.Oh.jc.s_=Ia.bind(null,this.gu),[4,Uo(this.Oh,this.gu.Jh)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new cr},t.prototype.Zl=function(t){var e,n=Sr(t.Fl.t),r=(e=t.Fl,new $a(e));return function(t,e,n){return new po(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Kc,n=this.Wc,r=t.rs,i=function(t){return ha(a.gu,t,0)},o=Ya.kn()?new Ya:new Qa,new yo(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new oa(t,e,n,r,i,o);return a&&(s.Hh=!0),s}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return n=m(t),f("RemoteStore","RemoteStore shutting down."),n.Hc.add(5),[4,mo(n)];case 1:return e.sent(),n.Yc.pa(),n.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),es=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ns=function(t){this.o_=t};function rs(t,e,n){if(!n)throw new N(k.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function is(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new N(k.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function os(t,e,n,r){if(!0===e&&!0===r)throw new N(k.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function as(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function ss(t,e){if(t instanceof ns&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=as(t);throw new N(k.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function us(t,e){if(e<=0)throw new N(k.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var cs=function(t){this.a_=t},ls=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.c_=function(t){if(2!==t.u_)throw 1===t.u_?t.h_(this.a_+"() can only appear at the top level of your update data"):t.h_(this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},n.prototype.isEqual=function(t){return t instanceof n},n}(cs);function hs(t,e,n){return new js({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var fs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.c_=function(t){return new Ue(t.path,new Ae)},n.prototype.isEqual=function(t){return t instanceof n},n}(cs),ps=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(e.c)(n,t),n.prototype.c_=function(t){var e=hs(this,t,!0),n=this.f_.map((function(t){return Ws(t,e)})),r=new xe(n);return new Ue(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(cs),ds=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(e.c)(n,t),n.prototype.c_=function(t){var e=hs(this,t,!0),n=this.f_.map((function(t){return Ws(t,e)})),r=new Re(n);return new Ue(t.path,r)},n.prototype.isEqual=function(t){return this===t},n}(cs),vs=function(t){function n(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(e.c)(n,t),n.prototype.c_=function(t){var e=new Me(t.serializer,Qt(t.serializer,this.d_));return new Ue(t.path,e)},n.prototype.isEqual=function(t){return this===t},n}(cs),ys=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new N(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new N(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},t.prototype.I=function(t){return _(this.w_,t.w_)||_(this.T_,t.T_)},t}(),gs=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(H.fromBase64String(e))}catch(e){throw new N(k.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(H.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),ms=new Map,bs=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new N(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new N(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,os("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function ws(){if("undefined"==typeof Uint8Array)throw new N(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _s(){if("undefined"==typeof atob)throw new N(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Es=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.fromBase64String=function(t){_s();try{return new n(H.fromBase64String(t))}catch(t){throw new N(k.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},n.fromUint8Array=function(t){return ws(),new n(H.fromUint8Array(t))},n.prototype.toBase64=function(){return _s(),t.prototype.toBase64.call(this)},n.prototype.toUint8Array=function(){return ws(),t.prototype.toUint8Array.call(this)},n.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},n}(gs),Ts=function(){function t(){}return t.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),Nt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jt(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Ft(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw y()}},t.prototype.y_=function(t,e){var n=this,r={};return S(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},t.prototype.g_=function(t){return new ys(jt(t.latitude),jt(t.longitude))},t.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},t.prototype.A_=function(t,e){switch(e){case"previous":var n=Ct(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(Ot(t));default:return null}},t.prototype.m_=function(t){var e=Lt(t);return new A(e.seconds,e.nanos)},t.prototype.p_=function(t,e){var n=R.k(t);g(Se(n));var r=new c(n.get(1),n.get(3)),i=new L(n.v(5));return r.isEqual(e)||p("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Is=function(t){function n(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(e.c)(n,t),n.prototype.R_=function(t){return new Es(t)},n.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return xu.b_(e,this.firestore,null)},n}(Ts),Ss=function(){function t(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ns(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.N_},t.prototype.data=function(){if(this.N_){if(this.x_){var t=new Cs(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},t.prototype.get=function(t){if(this.N_){var e=this.N_.data().field(Os("DocumentSnapshot.get",t));if(null!==e)return this.D_.I_(e)}},t}(),Cs=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.data=function(){return t.prototype.data.call(this)},n}(Ss);function Os(t,e){return"string"==typeof e?Ys(t,e):e instanceof ns?e.o_.F_:e.F_}var ks=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new N(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new M(t)}return t.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},t}(),Ns=function(){function t(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xs(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),As=function(){function t(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.M_)},t}(),xs=function(t){function n(e,n,r){var i=this;return(i=t.call(this,e,n,pn(r))||this).firestore=e,i.O_=r,i.type="collection",i}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new Ns(this.firestore,null,new L(t))},enumerable:!1,configurable:!0}),n.prototype.withConverter=function(t){return new n(this.firestore,t,this.O_)},n}(As);function Ps(t){var e=t.k_(),n=Sr(t.v_);return new Fs(t.v_,!!e.ignoreUndefinedProperties,n)}var Rs=/^__.*__$/,Ds=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[];return null!==this.Qe?n.push(new Qe(t,this.data,this.Qe,e)):n.push(new Ye(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Je(t,this.fieldTransforms)),n},t}(),Ms=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.L_=function(t,e){var n=[new Qe(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Je(t,this.fieldTransforms)),n},t}();function Ls(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var js=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.q_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.Q_(t),r},t.prototype.K_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.q_({path:n,__:!1});return r.B_(),r},t.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},t.prototype.h_=function(t){return Qs(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},t.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},t.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Ls(this.u_)&&Rs.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Fs=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Sr(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new js({u_:t,methodName:e,l_:n,path:M.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Us(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Ks("Data must be an object, but it was:",a,r);var s,u,c=zs(r,a);if(o.merge)s=new Fe(a.Qe),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Gs(e,f[h],n);if(!a.contains(p))throw new N(k.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Xs(l,p)||l.push(p)}s=new Fe(l),u=a.fieldTransforms.filter((function(t){return s.He(t.field)}))}else s=null,u=a.fieldTransforms;return new Ds(new rn(c),s,u)}function Vs(t,e,n,r){var i=t.G_(1,e,n);Ks("Data must be an object, but it was:",i,r);var o=[],a=new on;S(r,(function(t,r){var s=Ys(e,t,n);r instanceof ns&&(r=r.o_);var u=i.K_(s);if(r instanceof ls)o.push(s);else{var c=Ws(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Fe(o);return new Ms(a.Ye(),s,i.fieldTransforms)}function Bs(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Gs(e,r,n)],u=[i];if(o.length%2!=0)throw new N(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Gs(e,o[c])),u.push(o[c+1]);for(var l=[],h=new on,f=s.length-1;f>=0;--f)if(!Xs(l,s[f])){var p=s[f],d=u[f];d instanceof ns&&(d=d.o_);var v=a.K_(p);if(d instanceof ls)l.push(p);else{var y=Ws(d,v);null!=y&&(l.push(p),h.set(p,y))}}var g=new Fe(l);return new Ms(h.Ye(),g,a.fieldTransforms)}function qs(t,e,n,r){return void 0===r&&(r=!1),Ws(n,t.G_(r?4:3,e))}function Ws(t,e){if(t instanceof ns&&(t=t.o_),Hs(t))return Ks("Unsupported field value:",e,t),zs(t,e);if(t instanceof cs)return function(t,e){if(!Ls(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Ws(o[i],e.W_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ns&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=A.fromDate(t);return{timestampValue:Xt(e.serializer,n)}}if(t instanceof A){var r=new A(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xt(e.serializer,r)}}if(t instanceof ys)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gs)return{bytesValue:Jt(e.serializer,t.E_)};if(t instanceof Ns){var i=e.t,o=t.firestore.v_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+as(t))}(t,e)}function zs(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):S(t,(function(t,r){var i=Ws(r,e.U_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Hs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof A||t instanceof ys||t instanceof gs||t instanceof Ns||t instanceof cs)}function Ks(t,e,n){if(!Hs(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=as(n);throw"an object"===r?e.h_(t+" a custom object"):e.h_(t+" "+r)}}function Gs(t,e,n){if(e instanceof ns&&(e=e.o_),e instanceof ks)return e.F_;if("string"==typeof e)return Ys(t,e);throw Qs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var $s=new RegExp("[~\\*/\\[\\]]");function Ys(t,n,r){if(n.search($s)>=0)throw Qs("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,r);try{return(new(ks.bind.apply(ks,Object(e.g)([void 0],n.split("."))))).F_}catch(i){throw Qs("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,r)}}function Qs(t,e,n,r,i){var o=r&&!r.T(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new N(k.INVALID_ARGUMENT,(s+=". ")+t+u)}function Xs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Js=function(){function t(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}return t.prototype.X_=function(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r=this;return Object(e.d)(this,(function(i){switch(i.label){case 0:if(this.Z_(),this.mutations.length>0)throw new N(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=m(t),i=se(r.serializer)+"/documents",o={documents:n.map((function(t){return re(r.serializer,t)}))},[4,r.Fc("BatchGetDocuments",i,o)];case 1:return a=e.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){g(!!e.found),e.found.name,e.found.updateTime;var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new rn({mapValue:{fields:e.found.fields}});return new un(n,r,i,{})}(t,e):"missing"in e?function(t,e){g(!!e.missing),g(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new cn(n,r)}(t,e):y()}(r.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(n.forEach((function(t){var e=s.get(t.toString());g(!!e),u.push(e)})),u)]}}))}))}(this.Wc,t)];case 1:return[2,((n=i.sent()).forEach((function(t){t instanceof cn||t instanceof un?r.tf(t):y()})),n)]}}))}))},t.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},t.prototype.delete=function(t){this.write([new en(t,this.je(t))]),this.Y_.add(t.toString())},t.prototype.commit=function(){return Object(e.b)(this,void 0,void 0,(function(){var t,n=this;return Object(e.d)(this,(function(r){switch(r.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,e){var r=L.K(e);n.mutations.push(new nn(r,n.je(r)))})),[4,function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i,o;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=m(t),i=se(r.serializer)+"/documents",o={writes:n.map((function(t){return le(r.serializer,t)}))},[4,r.xc("Commit",i,o)];case 1:return e.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return r.sent(),this.H_=!0,[2]}}))}))},t.prototype.tf=function(t){var e;if(t instanceof un)e=t.version;else{if(!(t instanceof cn))throw y();e=x.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new N(k.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},t.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?Be.updateTime(e):Be.Ge()},t.prototype.ef=function(t){var e=this.z_.get(t.toString());if(!this.Y_.has(t.toString())&&e){if(e.isEqual(x.min()))throw new N(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Be.updateTime(e)}return Be.exists(!0)},t.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},t.prototype.Z_=function(){},t}(),Zs=function(){function t(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new Kn(this.rs,"transaction_retry")}return t.prototype.run=function(){this.sf()},t.prototype.sf=function(){var t=this;this.Ps.An((function(){return Object(e.b)(t,void 0,void 0,(function(){var t,n,r=this;return Object(e.d)(this,(function(e){return t=new Js(this.Wc),(n=this.rf(t))&&n.then((function(e){r.rs.fs((function(){return t.commit().then((function(){r.us.resolve(e)})).catch((function(t){r.af(t)}))}))})).catch((function(t){r.af(t)})),[2]}))}))}))},t.prototype.rf=function(t){try{var e=this.updateFunction(t);return!j(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},t.prototype.af=function(t){var e=this;this.nf>0&&this.cf(t)?(this.nf-=1,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},t.prototype.cf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Q(e)}return!1},t}(),tu=function(){function t(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=yr.UNAUTHENTICATED,this.clientId=w.u(),this.uf=function(){},this.oi=new Hn,this.credentials.si((function(t){f("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}return t.prototype.getConfiguration=function(){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},t.prototype.lf=function(){if(this.rs.Vs)throw new N(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.rs.bs();var n=new Hn;return this.rs.ys((function(){return Object(e.b)(t,void 0,void 0,(function(){var t,r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:e.sent(),e.label=4;case 4:return this.credentials.ii(),n.resolve(),[3,6];case 5:return t=e.sent(),r=sr(t,"Failed to shutdown persistence"),n.reject(r),[3,6];case 6:return[2]}}))}))})),n.promise},t}();function eu(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i=this;return Object(e.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return r=o.sent(),[4,n.initialize(r)];case 2:return o.sent(),t.hf((function(r){return t.rs.Ss((function(){return Object(e.b)(i,void 0,void 0,(function(){return Object(e.d)(this,(function(t){switch(t.label){case 0:return[4,Ji(n.Kc,r)];case 1:return t.sent(),[2]}}))}))}))})),n.persistence.fa((function(){return t.terminate()})),t.ff=n,[2]}}))}))}function nu(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i;return Object(e.d)(this,(function(o){switch(o.label){case 0:return t.rs.Ns(),[4,ru(t)];case 1:return r=o.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,n.initialize(r,i)];case 3:return o.sent(),t.hf((function(r){return t.rs.Ss((function(){return function(t,n){return Object(e.b)(this,void 0,void 0,(function(){var r,i;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(r=m(t)).rs.Ns(),f("RemoteStore","RemoteStore received new credentials"),i=So(r),r.Hc.add(3),[4,mo(r)];case 1:return e.sent(),i&&r.Zc.set("Unknown"),[4,r.jc.s_(n)];case 2:return e.sent(),r.Hc.delete(3),[4,go(r)];case 3:return e.sent(),[2]}}))}))}(n.Oh,r)}))})),t._f=n,[2]}}))}))}function ru(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,eu(t,new Xa)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function iu(t){return Object(e.b)(this,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,nu(t,new ts)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function ou(t){return ru(t).then((function(t){return t.persistence}))}function au(t){return ru(t).then((function(t){return t.Kc}))}function su(t){return iu(t).then((function(t){return t.Oh}))}function uu(t){return iu(t).then((function(t){return t.gu}))}function cu(t){return Object(e.b)(this,void 0,void 0,(function(){var n,r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,iu(t)];case 1:return n=e.sent(),[2,((r=n.Mh).Ls=aa.bind(null,n.gu),r.Us=ua.bind(null,n.gu),r)]}}))}))}function lu(t,n){var r=this,i=new Hn;return t.rs.fs((function(){return Object(e.b)(r,void 0,void 0,(function(){var r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return r=ca,[4,uu(t)];case 1:return[2,r.apply(void 0,[e.sent(),n,i])]}}))}))})),i.promise}function hu(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a;return Object(e.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,function(t,e){var n=m(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ga.Oi(t,e)}))}(t,n)];case 1:return(i=e.sent())instanceof un?r.resolve(i):i instanceof cn?r.resolve(null):r.reject(new N(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=e.sent(),a=sr(o,"Failed to get document '"+n+" from cache"),r.reject(a),[3,3];case 3:return[2]}}))}))}function fu(t,e,n,r,i){var o=new es({next:function(o){e.fs((function(){return hr(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new N(k.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new N(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new vr(pn(n.path),o,{includeMetadataChanges:!0,Hs:!0});return lr(t,a)}var pu=function(t){function n(e,n){var r=this;return(r=t.call(this,e,n)||this).yf=new ar,r.df="name"in e?e.name:"[DEFAULT]",r}return Object(e.c)(n,t),n.prototype.Vf=function(){return this.pf||ku(this),this.pf.terminate()},n}(function(){function t(t,e){this.df="(lite)",this.wf=new bs({}),this.Tf=!1,t instanceof c?(this.v_=t,this.Ef=new mr):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new N(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c(t.options.projectId)}(t),this.Ef=new br(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.If)throw new N(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),t.prototype.Pf=function(t){if(this.Tf)throw new N(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new bs(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new mr;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new _r(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new N(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.gf=function(){return this.wf},t.prototype.k_=function(){return this.Tf=!0,this.wf},t.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},t.prototype.Vf=function(){return function(t){var e=ms.get(t);e&&(f("ComponentProvider","Removing Datastore"),ms.delete(t),e.terminate())}(this),Promise.resolve()},t}());function du(t,n,r){var i=this,o=new Hn;return t.rs.enqueue((function(){return Object(e.b)(i,void 0,void 0,(function(){var i;return Object(e.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,eu(t,r)];case 1:return e.sent(),[4,nu(t,n)];case 2:return e.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=e.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function vu(t){if(t.mf||t.Af)throw new N(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yu=function(t){function n(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).S_=e,s.vf=e,s.metadata=o,s}return Object(e.c)(n,t),n.prototype.exists=function(){return t.prototype.exists.call(this)},n.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new gu(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},n.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_){var n=this.N_.data().field(Os("DocumentSnapshot.get",t));if(null!==n)return this.D_.I_(n,e.serverTimestamps)}},n}(Ss),gu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},n}(yu),mu=function(){function t(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new Ru(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new gu(n.S_,n.D_,r.key,r,new Ru(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.bf.Wt)throw new N(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===e||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){var r=new gu(t.S_,t.D_,e.doc.key,e.doc,new Ru(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new gu(t.S_,t.D_,e.doc.key,e.doc,new Ru(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:bu(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Df=e),this.Sf},t}();function bu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function wu(t,e){return t instanceof yu&&e instanceof yu?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof mu&&e instanceof mu&&t.S_===e.S_&&function(t,e){return t instanceof As&&e instanceof As&&t.firestore===e.firestore&&In(t.M_,e.M_)&&t.x_===e.x_}(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf)}var _u=function(t){function n(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(e.c)(n,t),n.prototype.R_=function(t){return new gs(t)},n.prototype.P_=function(t){var e=this.p_(t,this.firestore.v_);return new Ns(this.firestore,null,e)},n}(Ts);function Eu(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ss(t.firestore,pu),a=Ps(o);return e instanceof ns&&(e=e.o_),Tu(o,("string"==typeof e||e instanceof ks?Bs(a,"updateDoc",t.C_,e,n,r):Vs(a,"updateDoc",t.C_,e)).L_(t.C_,Be.exists(!0)))}function Tu(t,e){return lu(Ou(t),e)}function Iu(t,e,n){var r=n.docs.get(e.C_),i=new _u(t);return new yu(t,i,e.C_,r,new Ru(n.hasPendingWrites,n.fromCache),e.x_)}var Su=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){vu(t);var n=Ou(t),r=t.k_(),i=new ts;return du(n,i,new Ja(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){vu(t);var e=Ou(t),n=t.k_(),r=new ts;return du(e,r,new Za(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var n=this;if(t.mf&&!t.Af)throw new N(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var r=new Hn;return t.yf.ys((function(){return Object(e.b)(n,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return $n.kn()?(n=t+"main",[4,$n.delete(n)]):[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Yi(t.v_,t.df))];case 1:return i.sent(),r.resolve(),[3,3];case 2:return n=i.sent(),r.reject(n),[3,3];case 3:return[2]}}))}))})),r.promise}(t.o_)},t}(),Cu=function(t){function n(e,n,r){var i=this;return(i=t.call(this,n)||this).Cf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof c||(i.Nf=e),i}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),n.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},n.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&d("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},n.prototype.enableNetwork=function(){return function(t){var n=this;return t.rs.enqueue((function(){return Object(e.b)(n,void 0,void 0,(function(){var n,r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,ou(t)];case 1:return n=e.sent(),[4,su(t)];case 2:return r=e.sent(),[2,(n.da(!0),function(t){var e=m(t);return e.Hc.delete(0),go(e)}(r))]}}))}))}))}(Ou(this.o_))},n.prototype.disableNetwork=function(){return function(t){var n=this;return t.rs.enqueue((function(){return Object(e.b)(n,void 0,void 0,(function(){var n,r;return Object(e.d)(this,(function(i){switch(i.label){case 0:return[4,ou(t)];case 1:return n=i.sent(),[4,su(t)];case 2:return r=i.sent(),[2,(n.da(!1),function(t){return Object(e.b)(this,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return(n=m(t)).Hc.add(0),[4,mo(n)];case 1:return e.sent(),n.Zc.set("Offline"),[2]}}))}))}(r))]}}))}))}))}(Ou(this.o_))},n.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&os("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},n.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},n.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},n.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Hn;return t.rs.fs((function(){return Object(e.b)(n,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return n=va,[4,uu(t)];case 1:return[2,n.apply(void 0,[e.sent(),r])]}}))}))})),r.promise}(Ou(this.o_))},n.prototype.onSnapshotsInSync=function(t){return function(t,n){var r=this,i=Ou(t),o=Cr(n)?n:{next:n},a=new es(o);return t.yf.fs((function(){return Object(e.b)(r,void 0,void 0,(function(){var t;return Object(e.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){m(t).$s.add(e),e.next()},[4,cu(i)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))})),function(){a.r_(),t.yf.fs((function(){return Object(e.b)(r,void 0,void 0,(function(){var t;return Object(e.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){m(t).$s.delete(e)},[4,cu(i)];case 1:return t.apply(void 0,[e.sent(),a]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(n.prototype,"app",{get:function(){if(!this.Nf)throw new N(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){return rs("Firestore.collection","path",t),Ou(this.o_),new Wu(R.k(t),this,null)},n.prototype.doc=function(t){return rs("Firestore.doc","path",t),Ou(this.o_),xu.xf(R.k(t),this,null)},n.prototype.collectionGroup=function(t){if(rs("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new N(k.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Ou(this.o_),new Vu(function(t){return new hn(R.$(),t)}(t),this,null)},n.prototype.runTransaction=function(t){var n=this;return function(t,n){var r=this,i=new Hn;return t.rs.fs((function(){return Object(e.b)(r,void 0,void 0,(function(){var r;return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,function(t){return iu(t).then((function(t){return t.Wc}))}(t)];case 1:return r=e.sent(),new Zs(t.rs,r,n,i).run(),[2]}}))}))})),i.promise}(Ou(this.o_),(function(e){return t(new Nu(n,e))}))},n.prototype.batch=function(){return Ou(this.o_),new Au(this)},n}(ns);function Ou(t){return t.pf||ku(t),t.pf.lf(),t.pf}function ku(t){var e=t.k_(),n=function(t,e,n){return new u(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.v_,t.df,e);t.pf=new tu(t.Ef,t.yf,n)}var Nu=function(){function t(t,e){this.S_=t,this.Ff=e,this.Of=Ps(this.S_.o_)}return t.prototype.get=function(t){var e=this,n=zu("Transaction.get",t,this.S_),r=new Is(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return y();var i=t[0];if(i instanceof cn)return new Du(e.S_,new yu(e.S_.o_,r,n.C_,null,new Ru(!1,!1),n.x_));if(i instanceof un)return new Du(e.S_,new yu(e.S_.o_,r,n.C_,i,new Ru(!1,!1),n.x_));throw y()}))},t.prototype.set=function(t,e,n){var r=zu("Transaction.set",t,this.S_);n=is("Transaction.set",n);var i=Hu(r.x_,e,n),o=Us(this.Of,"Transaction.set",r.C_,i,null!==r.x_,n);return this.Ff.set(r.C_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=zu("Transaction.update",t,this.S_);return e instanceof ns&&(e=e.o_),o="string"==typeof e||e instanceof ks?Bs(this.Of,"Transaction.update",a.C_,e,n,r):Vs(this.Of,"Transaction.update",a.C_,e),this.Ff.update(a.C_,o),this},t.prototype.delete=function(t){var e=zu("Transaction.delete",t,this.S_);return this.Ff.delete(e.C_),this},t}(),Au=function(){function t(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=Ps(this.S_.o_)}return t.prototype.set=function(t,e,n){this.$f();var r=zu("WriteBatch.set",t,this.S_);n=is("WriteBatch.set",n);var i=Hu(r.x_,e,n),o=Us(this.Of,"WriteBatch.set",r.C_,i,null!==r.x_,n);return this.Mf=this.Mf.concat(o.L_(r.C_,Be.Ge())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.$f();var o,a=zu("WriteBatch.update",t,this.S_);return e instanceof ns&&(e=e.o_),o="string"==typeof e||e instanceof ks?Bs(this.Of,"WriteBatch.update",a.C_,e,n,r):Vs(this.Of,"WriteBatch.update",a.C_,e),this.Mf=this.Mf.concat(o.L_(a.C_,Be.exists(!0))),this},t.prototype.delete=function(t){this.$f();var e=zu("WriteBatch.delete",t,this.S_);return this.Mf=this.Mf.concat(new en(e.C_,Be.Ge())),this},t.prototype.commit=function(){return this.$f(),this.kf=!0,this.Mf.length>0?lu(Ou(this.S_.o_),this.Mf):Promise.resolve()},t.prototype.$f=function(){if(this.kf)throw new N(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),xu=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.D_=new Is(e),r}return Object(e.c)(n,t),n.xf=function(t,e,r){if(t.length%2!=0)throw new N(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new n(e,new Ns(e.o_,r,new L(t)))},n.b_=function(t,e,r){return new n(e,new Ns(e.o_,r,t))},Object.defineProperty(n.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return new Wu(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),n.prototype.collection=function(t){if(rs("DocumentReference.collection","path",t),!t)throw new N(k.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=R.k(t);return new Wu(this.o_.O_.child(e),this.firestore,null)},n.prototype.isEqual=function(t){return t instanceof ns&&(t=t.o_),t instanceof Ns&&(n=t,((e=this.o_)instanceof Ns||e instanceof xs)&&(n instanceof Ns||n instanceof xs)&&e.firestore===n.firestore&&e.path===n.path&&e.x_===n.x_);var e,n},n.prototype.set=function(t,e){e=is("DocumentReference.set",e);try{return function(t,e,n){var r=ss(t.firestore,pu),i=Hu(t.x_,e,n);return Tu(r,Us(Ps(r),"setDoc",t.C_,i,null!==t.x_,n).L_(t.C_,Be.Ge()))}(this.o_,t,e)}catch(t){throw Pu(t,"setDoc","DocumentReference.set")}},n.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Eu(this.o_,t):Eu.apply(void 0,Object(e.g)([this.o_,t,n],r))}catch(t){throw Pu(t,"updateDoc","DocumentReference.update")}},n.prototype.delete=function(){return Tu(ss((t=this.o_).firestore,pu),[new en(t.C_,Be.Ge())]);var t},n.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Cr(r))return r}return{}}(n),o=function(e,n){var r,i,o;return{next:function(e){o.next&&o.next(function(e){return new Du(t.firestore,new yu(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_))}(e))},error:null===(r=(o=Cr(e[0])?e[0]:Cr(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===r?void 0:r.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}(n);return function(t){for(var n,r,i,o=this,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Cr(a[c])||(u=a[c],c++);var l,h,f,p={includeMetadataChanges:u.includeMetadataChanges};if(Cr(a[c])){var d=a[c];a[c]=null===(n=d.next)||void 0===n?void 0:n.bind(d),a[c+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),a[c+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof Ns)h=ss(t.firestore,pu),f=pn(t.C_.path),l={next:function(e){a[c]&&a[c](Iu(h,t,e))},error:a[c+1],complete:a[c+2]};else{h=ss(t.firestore,pu),f=t.M_;var v=new _u(h);l={next:function(e){a[c]&&a[c](new mu(h,v,t,e))},error:a[c+1],complete:a[c+2]},Uu(t.M_)}var y=Ou(h),g=new es(l),m=new vr(f,g,p);return h.yf.fs((function(){return Object(e.b)(o,void 0,void 0,(function(){var t;return Object(e.d)(this,(function(e){switch(e.label){case 0:return t=lr,[4,cu(y)];case 1:return[2,t.apply(void 0,[e.sent(),m])]}}))}))})),function(){g.r_(),h.yf.fs((function(){return Object(e.b)(o,void 0,void 0,(function(){var t;return Object(e.d)(this,(function(e){switch(e.label){case 0:return t=hr,[4,cu(y)];case 1:return[2,t.apply(void 0,[e.sent(),m])]}}))}))}))}}(this.o_,i,o)},n.prototype.get=function(t){var n=this;return("cache"===(null==t?void 0:t.source)?function(t){var n=this,r=ss(t.firestore,pu),i=Ou(r),o=new _u(r),a=new Hn;return r.yf.fs((function(){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,au(i)];case 1:return[4,hu(e.sent(),t.C_,a)];case 2:return e.sent(),[2]}}))}))})),a.promise.then((function(e){return new yu(r,o,t.C_,e,new Ru(e instanceof un&&e.Je,!0),t.x_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var n=this,r=ss(t.firestore,pu),i=Ou(r),o=new Hn;return r.yf.fs((function(){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,cu(i)];case 1:return[4,fu(e.sent(),r.yf,t.C_,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return Iu(r,t,e)}))}(this.o_):function(t){var n=this,r=ss(t.firestore,pu),i=Ou(r),o=new Hn;return r.yf.fs((function(){return Object(e.b)(n,void 0,void 0,(function(){return Object(e.d)(this,(function(e){switch(e.label){case 0:return[4,cu(i)];case 1:return[4,fu(e.sent(),r.yf,t.C_,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return Iu(r,t,e)}))}(this.o_)).then((function(t){return new Du(n.firestore,new yu(n.firestore.o_,n.D_,t.C_,t.N_,t.metadata,n.o_.x_))}))},n.prototype.withConverter=function(t){return new n(this.firestore,this.o_.withConverter(t))},n}(ns);function Pu(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var Ru=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Du=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"ref",{get:function(){return new xu(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),n.prototype.data=function(t){return this.o_.data(t)},n.prototype.get=function(t,e){return this.o_.get(t,e)},n.prototype.isEqual=function(t){return wu(this.o_,t.o_)},n}(ns),Mu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.prototype.data=function(t){return this.o_.data(t)},n}(Du);function Lu(t,e,n){if(n instanceof ns&&(n=n.o_),"string"==typeof n){if(""===n)throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mn(e)&&-1!==n.indexOf("/"))throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(R.k(n));if(!L.G(r))throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ut(t,new L(r))}if(n instanceof Ns)return Ut(t,n.C_);throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+as(n)+".")}function ju(t,e){if(!Array.isArray(t)||0===t.length)throw new N(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new N(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Fu(t,e,n){if(!n.isEqual(e))throw new N(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Uu(t){if(vn(t)&&0===t.rn.length)throw new N(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vu=function(){function t(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=Ps(e.o_),this.D_=new Is(e)}return t.prototype.where=function(e,n,r){var i=Gs("Query.where",e),o=function(t,e,n,r,i,o,a){var s;if(i.B()){if("array-contains"===o||"array-contains-any"===o)throw new N(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ju(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Lu(r,t,h))}s={arrayValue:{values:u}}}else s=Lu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ju(a,o),s=qs(n,"Query.where",a,"in"===o||"not-in"===o);var f=Nn.create(i,o,s);return function(t,e){if(e.cn()){var n=gn(t);if(null!==n&&!n.isEqual(e.field))throw new N(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=yn(t);null!==r&&Fu(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new N(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new N(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(this.M_,0,this.Lf,this.firestore.v_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new hn(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new N(k.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Gs("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new N(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new N(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qn(e,n);return function(t,e){if(null===yn(t)){var n=gn(t);null!==n&&Fu(0,n,e.field)}}(t,r),r}(this.M_,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new hn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(this.M_,o),this.firestore,this.x_)},t.prototype.limit=function(e){return us("Query.limit",e),new t(_n(this.M_,e,"F"),this.firestore,this.x_)},t.prototype.limitToLast=function(e){return us("Query.limitToLast",e),new t(_n(this.M_,e,"L"),this.firestore,this.x_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAt",e,n,!0);return new t(En(this.M_,i),this.firestore,this.x_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.startAfter",e,n,!1);return new t(En(this.M_,i),this.firestore,this.x_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endBefore",e,n,!0);return new t(Tn(this.M_,i),this.firestore,this.x_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Bf("Query.endAt",e,n,!1);return new t(Tn(this.M_,i),this.firestore,this.x_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&In(this.M_,e.M_)&&this.x_===e.x_},t.prototype.withConverter=function(e){return new t(this.M_,this.firestore,e)},t.prototype.Bf=function(t,e,n,r){if(e instanceof Du)return function(t,e,n,r,i){if(!r)throw new N(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=bn(t);a<s.length;a++){var u=s[a];if(u.field.B())o.push(Ut(e,r.key));else{var c=r.field(u.field);if(St(c))throw new N(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.M();throw new N(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fn(o,i)}(this.M_,this.firestore.v_,t,e.o_.N_,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var a=t.rn;if(i.length>a.length)throw new N(k.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.B()){if("string"!=typeof c)throw new N(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!mn(t)&&-1!==c.indexOf("/"))throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(R.k(c));if(!L.G(l))throw new N(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new L(l);s.push(Ut(e,h))}else{var f=qs(n,r,c);s.push(f)}}return new Fn(s,o)}(this.M_,this.firestore.v_,this.Lf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,n,r,i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s={},u=0;if("object"!=typeof o[u]||Cr(o[u])||(s=o[u],u++),Cr(o[u])){var c=o[u];o[u]=null===(t=c.next)||void 0===t?void 0:t.bind(c),o[u+1]=null===(n=c.error)||void 0===n?void 0:n.bind(c),o[u+2]=null===(r=c.complete)||void 0===r?void 0:r.bind(c)}var l={next:function(t){o[u]&&o[u](new qu(i.firestore,new mu(i.firestore.o_,i.D_,new As(i.firestore.o_,i.x_,i.M_),t)))},error:o[u+1],complete:o[u+2]};return Uu(this.M_),function(t,n,r,i){var o=this,a=new es(i),s=new vr(n,a,r);return t.rs.fs((function(){return Object(e.b)(o,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return n=lr,[4,cu(t)];case 1:return[2,n.apply(void 0,[e.sent(),s])]}}))}))})),function(){a.r_(),t.rs.fs((function(){return Object(e.b)(o,void 0,void 0,(function(){var n;return Object(e.d)(this,(function(e){switch(e.label){case 0:return n=hr,[4,cu(t)];case 1:return[2,n.apply(void 0,[e.sent(),s])]}}))}))}))}}(Ou(this.firestore.o_),this.M_,s,l)},t.prototype.get=function(t){var n=this;Uu(this.M_);var r=Ou(this.firestore.o_);return(t&&"cache"===t.source?function(t,n){var r=this,i=new Hn;return t.rs.fs((function(){return Object(e.b)(r,void 0,void 0,(function(){var r;return Object(e.d)(this,(function(o){switch(o.label){case 0:return r=function(t,n,r){return Object(e.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(e.d)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,oo(t,n,!0)];case 1:return i=e.sent(),o=new na(n,i.Xa),a=o.gh(i.documents),s=o.bi(a,!1),r.resolve(s.snapshot),[3,3];case 2:return u=e.sent(),c=sr(u,"Failed to execute query '"+n+" against cache"),r.reject(c),[3,3];case 3:return[2]}}))}))},[4,au(t)];case 1:return[2,r.apply(void 0,[o.sent(),n,i])]}}))}))})),i.promise}(r,this.M_):function(t,n,r){var i=this;void 0===r&&(r={});var o=new Hn;return t.rs.fs((function(){return Object(e.b)(i,void 0,void 0,(function(){var i;return Object(e.d)(this,(function(e){switch(e.label){case 0:return i=function(t,e,n,r,i){var o=new es({next:function(n){e.fs((function(){return hr(t,a)})),n.fromCache&&"server"===r.source?i.reject(new N(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new vr(n,o,{includeMetadataChanges:!0,Hs:!0});return lr(t,a)},[4,cu(t)];case 1:return[2,i.apply(void 0,[e.sent(),t.rs,n,r,o])]}}))}))})),o.promise}(r,this.M_,t)).then((function(t){return new qu(n.firestore,new mu(n.firestore.o_,n.D_,new As(n.firestore.o_,n.x_,n.M_),t))}))},t}(),Bu=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doc",{get:function(){return new Mu(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),n}(ns),qu=function(t){function n(e,n){var r=this;return(r=t.call(this,n)||this).S_=e,r}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"query",{get:function(){return new Vu(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Mu(t.S_,e)}))},enumerable:!1,configurable:!0}),n.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Bu(e.S_,t)}))},n.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Mu(n.S_,r))}))},n.prototype.isEqual=function(t){return wu(this.o_,t.o_)},n}(ns),Wu=function(t){function n(e,n,r){var i=this;if((i=t.call(this,pn(e),n,r)||this).O_=e,e.length%2!=1)throw new N(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.M()+" has "+e.length);return i}return Object(e.c)(n,t),Object.defineProperty(n.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:xu.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),n.prototype.doc=function(t){0===arguments.length&&(t=w.u()),rs("CollectionReference.doc","path",t);var e=R.k(t);return xu.xf(this.M_.path.child(e),this.firestore,this.x_)},n.prototype.add=function(t){var e=this.x_?this.x_.toFirestore(t):t,n=this.doc();return xu.b_(n.o_.C_,this.firestore,null).set(e).then((function(){return n}))},n.prototype.withConverter=function(t){return new n(this.O_,this.firestore,t)},n}(Vu);function zu(t,e,n){var r=ss(e,Ns);if(r.firestore!==n.o_)throw new N(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Hu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ku,Gu=function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,new(ks.bind.apply(ks,Object(e.g)([void 0],n))))||this}return Object(e.c)(n,t),n.documentId=function(){return new n(M.q().M())},n.prototype.isEqual=function(t){return t instanceof ns&&(t=t.o_),t instanceof ks&&this.o_.F_.isEqual(t.F_)},n}(ns),$u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(e.c)(n,t),n.serverTimestamp=function(){var t=new fs("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new n(t)},n.delete=function(){var t=new ls("deleteField");return t.a_="FieldValue.delete",new n(t)},n.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ps("arrayUnion",t)}.apply(void 0,t);return r.a_="FieldValue.arrayUnion",new n(r)},n.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ds("arrayRemove",t)}.apply(void 0,t);return r.a_="FieldValue.arrayRemove",new n(r)},n.increment=function(t){var e=function(t){return new vs("increment",t)}(t);return e.a_="FieldValue.increment",new n(e)},n.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},n}(ns),Yu={Firestore:Cu,GeoPoint:ys,Timestamp:A,Blob:Es,Transaction:Nu,WriteBatch:Au,DocumentReference:xu,DocumentSnapshot:Du,Query:Vu,QueryDocumentSnapshot:Mu,QuerySnapshot:qu,CollectionReference:Wu,FieldPath:Gu,FieldValue:$u,setLogLevel:function(t){var e;e=t,l.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new s.a("firestore",(function(t){return function(t,e){return new Cu(t,new pu(t,e),new Su)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Yu)))})(Ku=r.a),Ku.registerVersion("@firebase/firestore","2.0.2")}).call(this,n(39))},function(t,e,n){(function(e,n){t.exports=function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function u(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(y&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m&&y&&w(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t,e,n=a(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=s(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var n,r=(e=e||{}).body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<E.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))})),e}function p(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}var d,v,y,g,m,b,w,_,E,T;(ft="undefined"!=typeof self?self:void 0).fetch||(d="URLSearchParams"in ft,v="Symbol"in ft&&"iterator"in Symbol,y="FileReader"in ft&&"Blob"in ft&&function(){try{return new Blob,!0}catch(i){return!1}}(),g="FormData"in ft,(m="ArrayBuffer"in ft)&&(b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&-1<b.indexOf(Object.prototype.toString.call(t))}),o.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},o.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},o.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},v&&(o.prototype[Symbol.iterator]=o.prototype.entries),E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},l.call(h.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t},T=[301,302,303,307,308],p.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},ft.Headers=o,ft.Request=h,ft.Response=p,ft.fetch=function(t,e){return new Promise((function(n,r){var i=new h(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",t=new o,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":");(e=n.shift().trim())&&(n=n.join(":").trim(),t.append(e,n))})),t)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new p(r,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&y&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},ft.fetch.polyfill=!0);var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function S(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function C(t){try{return!!t()}catch(t){return!0}}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function k(t){return V?U.createElement(t):{}}function N(t){if(!O(t))throw TypeError(String(t)+" is not an object");return t}function A(t,e){if(!O(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!O(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!O(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function x(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function P(t,e){try{z(L,t,e)}catch(i){L[t]=e}return e}function R(t,e){return G.call(t,e)}function D(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+Y).toString(36)}function M(t){return R(J,t)||(Q&&R(Z,t)?J[t]=Z[t]:J[t]=tt("Symbol."+t)),J[t]}var L=(dt=function(t){return t&&t.Math==Math&&t})("object"==typeof globalThis&&globalThis)||dt("object"==typeof window&&window)||dt("object"==typeof self&&self)||dt("object"==typeof I&&I)||Function("return this")(),j=!1,F=!C((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),U=L.document,V=O(U)&&O(U.createElement),B=!F&&!C((function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a})),q=Object.defineProperty,W={f:F?q:function(t,e,n){if(N(t),e=A(e,!0),N(n),B)try{return q(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},z=F?function(t,e,n){return W.f(t,e,x(1,n))}:function(t,e,n){return t[e]=n,t},H=L[Tt="__core-js_shared__"]||P(Tt,{}),K=S((function(t){(t.exports=function(t,e){return H[t]||(H[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),G={}.hasOwnProperty,$=0,Y=Math.random(),Q=!!Object.getOwnPropertySymbols&&!C((function(){return!String(Symbol())})),X=Q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=K("wks"),Z=L.Symbol,tt=X?Z:Z&&Z.withoutSetter||D;(ce={})[M("toStringTag")]="z";var et="[object z]"===String(ce),nt=Function.toString;"function"!=typeof H.inspectSource&&(H.inspectSource=function(t){return nt.call(t)});var rt,it,ot,at,st,ut,ct,lt,ht=H.inspectSource,ft="function"==typeof(Lt=L.WeakMap)&&/native code/.test(ht(Lt)),pt=K("keys"),dt=function(t){return pt[t]||(pt[t]=D(t))},vt={};function yt(t){return bt.call(t).slice(8,-1)}I=L.WeakMap,ct=ft?(rt=new I,it=rt.get,ot=rt.has,at=rt.set,st=function(t,e){return at.call(rt,t,e),e},ut=function(t){return it.call(rt,t)||{}},function(t){return ot.call(rt,t)}):(lt=dt("state"),vt[lt]=!0,st=function(t,e){return z(t,lt,e),e},ut=function(t){return R(t,lt)?t[lt]:{}},function(t){return R(t,lt)});var gt={set:st,get:ut,has:ct,enforce:function(t){return ct(t)?ut(t):st(t,{})},getterFor:function(t){return function(e){var n;if(!O(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},mt=S((function(t){var e=gt.get,n=gt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;o=!!o&&!!o.noTargetGet,"function"==typeof i&&("string"!=typeof e||R(i,"name")||z(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==L?(a?!o&&t[e]&&(s=!0):delete t[e],s?t[e]=i:z(t,e,i)):s?t[e]=i:P(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ht(this)}))})),bt={}.toString,wt=M("toStringTag"),_t="Arguments"==yt(function(){return arguments}()),Et=et?yt:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),wt))?t:_t?yt(e):"Object"==(t=yt(e))&&"function"==typeof e.callee?"Arguments":t},Tt=et?{}.toString:function(){return"[object "+Et(this)+"]"};function It(t){return isNaN(t=+t)?0:(0<t?Mt:Dt)(t)}function St(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Ct(t){return Vt(St(t))}function Ot(t){return"function"==typeof t?t:void 0}function kt(t,e){return arguments.length<2?Ot(Wt[t])||Ot(L[t]):Wt[t]&&Wt[t][e]||L[t]&&L[t][e]}function Nt(t){return 0<t?zt(It(t),9007199254740991):0}function At(t,e){var n,r=Ct(t),i=0,o=[];for(n in r)!R(vt,n)&&R(r,n)&&o.push(n);for(;e.length>i;)R(r,n=e[i++])&&(~Gt(o,n)||o.push(n));return o}function xt(t,e){for(var n=Jt(e),r=W.f,i=qt.f,o=0;o<n.length;o++){var a=n[o];R(t,a)||r(t,a,i(e,a))}}function Pt(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,u=a?L:s?L[o]||P(o,{}):(L[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=oe(u,n))&&i.value:u[n],!ie(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;xt(r,i)}(t.sham||i&&i.sham)&&z(r,"sham",!0),mt(u,n,r,t)}}function Rt(t){return Object(St(t))}et||mt(Object.prototype,"toString",Tt,{unsafe:!0});var Dt=Math.ceil,Mt=Math.floor,Lt={codeAt:(ce=function(t){return function(e,n){var r,i=String(St(e)),o=It(n);return e=i.length,o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:ce(!0)},jt=(ft={}.propertyIsEnumerable,Object.getOwnPropertyDescriptor),Ft={f:jt&&!ft.call({1:2},1)?function(t){return!!(t=jt(this,t))&&t.enumerable}:ft},Ut="".split,Vt=C((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==yt(t)?Ut.call(t,""):Object(t)}:Object,Bt=Object.getOwnPropertyDescriptor,qt={f:F?Bt:function(t,e){if(t=Ct(t),e=A(e,!0),B)try{return Bt(t,e)}catch(t){}if(R(t,e))return x(!Ft.f.call(t,e),t[e])}},Wt=L,zt=Math.min,Ht=Math.max,Kt=Math.min,Gt=((I=function(t){return function(e,n,r){var i,o=Ct(e),a=Nt(o.length),s=function(t,e){return(t=It(t))<0?Ht(t+e,0):Kt(t,e)}(r,a);if(t&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}})(!0),I(!1)),$t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Yt=$t.concat("length","prototype"),Qt={f:Object.getOwnPropertyNames||function(t){return At(t,Yt)}},Xt={f:Object.getOwnPropertySymbols},Jt=kt("Reflect","ownKeys")||function(t){var e=Qt.f(N(t)),n=Xt.f;return n?e.concat(n(t)):e},Zt=/#|\.prototype\./,te=(et=function(t,e){return(t=ee[te(t)])==re||t!=ne&&("function"==typeof e?C(e):!!e)}).normalize=function(t){return String(t).replace(Zt,".").toLowerCase()},ee=et.data={},ne=et.NATIVE="N",re=et.POLYFILL="P",ie=et,oe=qt.f,ae=(Tt=!C((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),dt("IE_PROTO")),se=Object.prototype,ue=Tt?Object.getPrototypeOf:function(t){return R(t=Rt(t),ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?se:null},ce=M("iterator");function le(){}function he(t){return"<script>"+t+"</"+ge+">"}ft=!1,[].keys&&("next"in(In=[].keys())?(Cn=ue(ue(In)))!==Object.prototype&&(kn=Cn):ft=!0),null==kn&&(kn={}),R(kn,ce)||z(kn,ce,(function(){return this})),I={IteratorPrototype:kn,BUGGY_SAFARI_ITERATORS:ft};var fe,pe=Object.keys||function(t){return At(t,$t)},de=F?Object.defineProperties:function(t,e){N(t);for(var n,r=pe(e),i=r.length,o=0;o<i;)W.f(t,n=r[o++],e[n]);return t},ve=kt("document","documentElement"),ye="prototype",ge="script",me=dt("IE_PROTO"),be=function(){try{fe=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;be=fe?function(t){t.write(he("")),t.close();var e=t.parentWindow.Object;return t=null,e}(fe):((t=k("iframe")).style.display="none",ve.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(he("document.F=Object")),t.close(),t.F);for(var e=$t.length;e--;)delete be[ye][$t[e]];return be()};function we(t,e,n){t&&!R(t=n?t:t.prototype,Ce)&&Se(t,Ce,{configurable:!0,value:e})}function _e(){return this}function Ee(){return this}function Te(t,e,n,r,i,o,a){function s(t){if(t===i&&d)return d;if(!xe&&t in f)return f[t];switch(t){case"keys":case Re:case De:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=Ie(ke,{next:x(1,n)}),we(t,e,!1),Oe[e]=_e}(n,e,r);var u,c,l=e+" Iterator",h=!1,f=t.prototype,p=f[Pe]||f["@@iterator"]||i&&f[i],d=!xe&&p||s(i);if((r="Array"==e&&f.entries||p)&&(t=ue(r.call(new t)),Ae!==Object.prototype&&t.next&&(ue(t)!==Ae&&(Ne?Ne(t,Ae):"function"!=typeof t[Pe]&&z(t,Pe,Ee)),we(t,l,!0))),i==Re&&p&&p.name!==Re&&(h=!0,d=function(){return p.call(this)}),f[Pe]!==d&&z(f,Pe,d),Oe[e]=d,i)if(u={values:s(Re),keys:o?d:s("keys"),entries:s(De)},a)for(c in u)!xe&&!h&&c in f||mt(f,c,u[c]);else Pt({target:e,proto:!0,forced:xe||h},u);return u}vt[me]=!0;var Ie=Object.create||function(t,e){var n;return null!==t?(le[ye]=N(t),n=new le,le[ye]=null,n[me]=t):n=be(),void 0===e?n:de(n,e)},Se=W.f,Ce=M("toStringTag"),Oe={},ke=I.IteratorPrototype,Ne=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return N(n),function(t){if(!O(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ae=I.IteratorPrototype,xe=I.BUGGY_SAFARI_ITERATORS,Pe=M("iterator"),Re="values",De="entries",Me=Lt.charAt,Le="String Iterator",je=gt.set,Fe=gt.getterFor(Le);Te(String,"String",(function(t){je(this,{type:Le,string:String(t),index:0})}),(function(){var t=Fe(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=Me(e,n),t.index+=n.length,{value:n,done:!1})}));var Ue={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ve=M("unscopables"),Be=Array.prototype;null==Be[Ve]&&W.f(Be,Ve,{configurable:!0,value:Ie(null)}),et=function(t){Be[Ve][t]=!0};var qe="Array Iterator",We=gt.set,ze=gt.getterFor(qe),He=Te(Array,"Array",(function(t,e){We(this,{type:qe,target:Ct(t),index:0,kind:e})}),(function(){var t=ze(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");Oe.Arguments=Oe.Array,et("keys"),et("values"),et("entries");var Ke,Ge=M("iterator"),$e=M("toStringTag"),Ye=He.values;for(Ke in Ue){var Qe=L[Ke],Xe=Qe&&Qe.prototype;if(Xe){if(Xe[Ge]!==Ye)try{z(Xe,Ge,Ye)}catch(os){Xe[Ge]=Ye}if(Xe[$e]||z(Xe,$e,Ke),Ue[Ke])for(var Je in He)if(Xe[Je]!==He[Je])try{z(Xe,Je,He[Je])}catch(os){Xe[Je]=He[Je]}}}function Ze(t,e,n){for(var r in e)mt(t,r,e[r],n);return t}function tn(t){var e=kt(t);t=W.f,F&&e&&!e[cn]&&t(e,cn,{configurable:!0,get:function(){return this}})}function en(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function nn(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function rn(t){return void 0!==t&&(Oe.Array===t||hn[ln]===t)}function on(t,e,n){if(en(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function an(t){if(null!=t)return t[fn]||t["@@iterator"]||Oe[Et(t)]}function sn(t,e,n,r){try{return r?e(N(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&N(i.call(t)),e}}var un=L.Promise,cn=M("species"),ln=M("iterator"),hn=Array.prototype,fn=M("iterator"),pn=S((function(t){function e(t,e){this.stopped=t,this.result=e}(t.exports=function(t,n,r,i,o){var a,s,u,c,l,h,f=on(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(o=an(t)))throw TypeError("Target is not iterable");if(rn(o)){for(s=0,u=Nt(t.length);s<u;s++)if((c=i?f(N(h=t[s])[0],h[1]):f(t[s]))&&c instanceof e)return c;return new e(!1)}a=o.call(t)}for(l=a.next;!(h=l.call(a)).done;)if("object"==typeof(c=sn(a,f,h.value,i))&&c&&c instanceof e)return c;return new e(!1)}).stop=function(t){return new e(!0,t)}})),dn=M("iterator"),vn=!1;try{var yn=0,gn={next:function(){return{done:!!yn++}},return:function(){vn=!0}};gn[dn]=function(){return this},Array.from(gn,(function(){throw 2}))}catch(os){}function mn(t,e){if(!e&&!vn)return!1;var n=!1;try{var r={};r[dn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function bn(t,e){var n;return void 0===(t=N(t).constructor)||null==(n=N(t)[Tn])?e:en(n)}function wn(t){var e;xn.hasOwnProperty(t)&&(e=xn[t],delete xn[t],e())}function _n(t){return function(){wn(t)}}var En,Tn=M("species"),In=(Tt=kt("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(Tt)),Sn=L.location,Cn=L.setImmediate,On=(ce=L.clearImmediate,L.process),kn=L.MessageChannel,Nn=L.Dispatch,An=0,xn={},Pn="onreadystatechange";ft=function(t){wn(t.data)},I=function(t){L.postMessage(t+"",Sn.protocol+"//"+Sn.host)},Cn&&ce||(Cn=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return xn[++An]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},En(An),An},ce=function(t){delete xn[t]},"process"==yt(On)?En=function(t){On.nextTick(_n(t))}:Nn&&Nn.now?En=function(t){Nn.now(_n(t))}:kn&&!In?(kn=(Lt=new kn).port2,Lt.port1.onmessage=ft,En=on(kn.postMessage,kn,1)):!L.addEventListener||"function"!=typeof postMessage||L.importScripts||C(I)||"file:"===Sn.protocol?En=Pn in k("script")?function(t){ve.appendChild(k("script"))[Pn]=function(){ve.removeChild(this),wn(t)}}:function(t){setTimeout(_n(t),0)}:(En=I,L.addEventListener("message",ft,!1))),I={set:Cn,clear:ce},ft=qt.f;var Rn,Dn,Mn,Ln,jn,Fn,Un,Vn,Bn=I.set,qn=(Cn=L.MutationObserver||L.WebKitMutationObserver,L.process),Wn=(ce=L.Promise,"process"==yt(qn));function zn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=en(e),this.reject=en(n)}function Hn(t,e){return N(t),O(e)&&e.constructor===t?e:((0,(t=$n.f(t)).resolve)(e),t.promise)}function Kn(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}(ft=(ft=ft(L,"queueMicrotask"))&&ft.value)||(Rn=function(){var t,e;for(Wn&&(t=qn.domain)&&t.exit();Dn;){e=Dn.fn,Dn=Dn.next;try{e()}catch(t){throw Dn?Ln():Mn=void 0,t}}Mn=void 0,t&&t.enter()},Ln=Wn?function(){qn.nextTick(Rn)}:Cn&&!In?(jn=!0,Fn=document.createTextNode(""),new Cn(Rn).observe(Fn,{characterData:!0}),function(){Fn.data=jn=!jn}):ce&&ce.resolve?(Un=ce.resolve(void 0),Vn=Un.then,function(){Vn.call(Un,Rn)}):function(){Bn.call(L,Rn)});var Gn=ft||function(t){t={fn:t,next:void 0},Mn&&(Mn.next=t),Dn||(Dn=t,Ln()),Mn=t},$n={f:function(t){return new zn(t)}};function Yn(t){var e;return!(!O(t)||"function"!=typeof(e=t.then))&&e}function Qn(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Gn((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{h?(o||(2===e.rejection&&Tr(t,e),e.rejection=1),!0===h?s=i:(d&&d.enter(),s=h(i),d&&(d.exit(),c=!0)),s===l.promise?p(fr("Promise-chain cycle")):(u=Yn(s))?u.call(s,f,p):f(s)):p(i)}catch(i){d&&!c&&d.exit(),p(i)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&_r(t,e)})))}function Xn(t,e,n){var r;br?((r=pr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),L.dispatchEvent(r)):r={promise:e,reason:n},(e=L["on"+t])?e(r):t===wr&&function(t,e){var n=L.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Jn(t,e,n,r){return function(i){t(e,n,i,r)}}function Zn(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Qn(t,e,!0))}ft=(ce=L.process)&&ce.versions,(ce=ft&&ft.v8)?Dr=($r=ce.split("."))[0]+$r[1]:Tt&&(!($r=Tt.match(/Edge\/(\d+)/))||74<=$r[1])&&($r=Tt.match(/Chrome\/(\d+)/))&&(Dr=$r[1]);var tr,er,nr,rr,ir=Dr&&+Dr,or=I.set,ar=M("species"),sr="Promise",ur=gt.get,cr=gt.set,lr=gt.getterFor(sr),hr=un,fr=L.TypeError,pr=L.document,dr=L.process,vr=kt("fetch"),yr=$n.f,gr=yr,mr="process"==yt(dr),br=!!(pr&&pr.createEvent&&L.dispatchEvent),wr="unhandledrejection",_r=(ce=(ft=ie(sr,(function(){if(ht(hr)===String(hr)){if(66===ir)return!0;if(!mr&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=ir&&/native code/.test(hr))return!1;function t(t){t((function(){}),(function(){}))}var e=hr.resolve(1);return(e.constructor={})[ar]=t,!(e.then((function(){}))instanceof t)})))||!mn((function(t){hr.all(t).catch((function(){}))})),function(t,e){or.call(L,(function(){var n,r=e.value;if(Er(e)&&(n=Kn((function(){mr?dr.emit("unhandledRejection",r,t):Xn(wr,t,r)})),e.rejection=mr||Er(e)?2:1,n.error))throw n.value}))}),Er=function(t){return 1!==t.rejection&&!t.parent},Tr=function(t,e){or.call(L,(function(){mr?dr.emit("rejectionHandled",t):Xn("rejectionhandled",t,e.value)}))},Ir=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw fr("Promise can't be resolved itself");var o=Yn(r);o?Gn((function(){var i={done:!1};try{o.call(r,Jn(t,e,i,n),Jn(Zn,e,i,n))}catch(r){Zn(e,i,r,n)}})):(n.value=r,n.state=1,Qn(e,n,!1))}catch(r){Zn(e,{done:!1},r,n)}}};ft&&(hr=function(t){nn(this,hr,sr),en(t),tr.call(this);var e=ur(this);try{t(Jn(Ir,this,e),Jn(Zn,this,e))}catch(t){Zn(this,e,t)}},(tr=function(){cr(this,{type:sr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Ze(hr.prototype,{then:function(t,e){var n=lr(this),r=yr(bn(this,hr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=mr?dr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Qn(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),er=function(){var t=new tr,e=ur(t);this.promise=t,this.resolve=Jn(Ir,t,e),this.reject=Jn(Zn,t,e)},$n.f=yr=function(t){return t===hr||t===nr?new er:gr(t)},"function"==typeof un&&(rr=un.prototype.then,mt(un.prototype,"then",(function(t,e){var n=this;return new hr((function(t,e){rr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof vr&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(){return Hn(hr,vr.apply(L,arguments))}}))),Pt({global:!0,wrap:!0,forced:ft},{Promise:hr}),we(hr,sr,!1),tn(sr),nr=kt(sr),Pt({target:sr,stat:!0,forced:ft},{reject:function(t){var e=yr(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:sr,stat:!0,forced:ft},{resolve:function(t){return Hn(this,t)}}),Pt({target:sr,stat:!0,forced:ce},{all:function(t){var e=this,n=yr(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),o=[],a=0,s=1;pn(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=yr(e),r=n.reject,i=Kn((function(){var i=en(e.resolve);pn(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),Pt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=$n.f(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),i=[],o=0,a=1;pn(t,(function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}}),Pt({target:"Promise",proto:!0,real:!0,forced:Tt=!!un&&C((function(){un.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=bn(this,kt("Promise")),n="function"==typeof t;return this.then(n?function(n){return Hn(e,t()).then((function(){return n}))}:t,n?function(n){return Hn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof un||un.prototype.finally||mt(un.prototype,"finally",kt("Promise").prototype.finally),Wt.Promise;var Sr=gt.set,Cr=gt.getterFor("AggregateError"),Or=function t(e,n){var r=this;if(!(r instanceof t))return new t(e,n);Ne&&(r=Ne(new Error(n),ue(r)));var i=[];return pn(e,i.push,i),F?Sr(r,{errors:i,type:"AggregateError"}):r.errors=i,void 0!==n&&z(r,"message",String(n)),r};Or.prototype=Ie(Error.prototype,{constructor:x(5,Or),message:x(5,""),name:x(5,"AggregateError")}),F&&W.f(Or.prototype,"errors",{get:function(){return Cr(this).errors},configurable:!0}),Pt({global:!0},{AggregateError:Or}),Pt({target:"Promise",stat:!0},{try:function(t){var e=$n.f(this);return((t=Kn(t)).error?e.reject:e.resolve)(t.value),e.promise}});var kr="No one promise resolved";function Nr(t,e){var n;return xr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||xr(n.prototype))||O(n)&&null===(n=n[Pr]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Ar(t){throw t}Pt({target:"Promise",stat:!0},{any:function(t){var e=this,n=$n.f(e),r=n.resolve,i=n.reject,o=Kn((function(){var n=en(e.resolve),o=[],a=0,s=1,u=!1;pn(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--s||i(new(kt("AggregateError"))(o,kr)))}))})),--s||i(new(kt("AggregateError"))(o,kr))}));return o.error&&i(o.value),n.promise}});var xr=Array.isArray||function(t){return"Array"==yt(t)},Pr=M("species"),Rr=[].push,Dr={forEach:($r=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,u,c,l){for(var h,f,p=Rt(s),d=Vt(p),v=on(u,c,3),y=Nt(d.length),g=0,m=(l=l||Nr,e?l(s,y):n?l(s,0):void 0);g<y;g++)if((a||g in d)&&(f=v(h=d[g],g,p),t))if(e)m[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:Rr.call(m,h)}else if(i)return!1;return o?-1:r||i?i:m}})(0),map:$r(1),filter:$r(2),some:$r(3),every:$r(4),find:$r(5),findIndex:$r(6)},Mr=Object.defineProperty,Lr={},jr=(I=function(t,e){if(R(Lr,t))return Lr[t];var n=[][t],r=!!R(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=R(e,0)?e[0]:Ar,o=R(e,1)?e[1]:void 0;return Lr[t]=!!n&&!C((function(){if(r&&!F)return 1;var t={length:-1};r?Mr(t,1,{enumerable:!0,get:Ar}):t[1]=1,n.call(t,i,o)}))},Dr.find),Fr=!0;ce=I(ft="find"),ft in[]&&Array(1)[ft]((function(){Fr=!1})),Pt({target:"Array",proto:!0,forced:Fr||!ce},{find:function(t,e){return jr(this,t,1<arguments.length?e:void 0)}}),et(ft);var Ur=Function.call,Vr=((Tt=function(t,e,n){return on(Ur,L[t].prototype[e],n)})("Array","find"),Dr.findIndex),Br=!0;function qr(t,e,n){(e=A(e))in t?W.f(t,e,x(0,n)):t[e]=n}ce=I($r="findIndex"),$r in[]&&Array(1)[$r]((function(){Br=!1})),Pt({target:"Array",proto:!0,forced:Br||!ce},{findIndex:function(t,e){return Vr(this,t,1<arguments.length?e:void 0)}}),et($r),Tt("Array","findIndex"),Pt({target:"Array",stat:!0,forced:ft=!mn((function(t){Array.from(t)}))},{from:function(t,e,n){var r,i,o,a,s,u=Rt(t),c="function"==typeof this?this:Array,l=1<(t=arguments.length)?e:void 0,h=void 0!==l,f=(e=an(u),0);if(h&&(l=on(l,2<t?n:void 0,2)),null==e||c==Array&&rn(e))for(i=new c(r=Nt(u.length));f<r;f++)qr(i,f,h?l(u[f],f):u[f]);else for(s=(a=e.call(u)).next,i=new c;!(o=s.call(a)).done;f++)qr(i,f,h?sn(a,l,[o.value,f],!0):o.value);return i.length=f,i}}),Wt.Array.from;var Wr,zr,Hr=Dr.some;function Kr(t){return O(t)&&R(ei,Et(t))}ce=!!(zr=[].some)&&C((function(){zr.call(null,Wr||function(){throw 1},1)})),et=I("some"),Pt({target:"Array",proto:!0,forced:!ce||!et},{some:function(t,e){return Hr(this,t,1<arguments.length?e:void 0)}}),Tt("Array","some");var Gr,$r="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Yr=(ft=W.f,L.Int8Array),Qr=Yr&&Yr.prototype,Xr=(ce=(I=L.Uint8ClampedArray)&&I.prototype,Yr&&ue(Yr)),Jr=Qr&&ue(Qr),Zr=((et=Object.prototype).isPrototypeOf,I=M("toStringTag"),D("TYPED_ARRAY_TAG")),ti=$r&&!!Ne&&"Opera"!==Et(L.opera),ei=($r=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Gr in ei)L[Gr]||(ti=!1);if((!ti||"function"!=typeof Xr||Xr===Function.prototype)&&(Xr=function(){throw TypeError("Incorrect invocation")},ti))for(Gr in ei)L[Gr]&&Ne(L[Gr],Xr);if((!ti||!Jr||Jr===et)&&(Jr=Xr.prototype,ti))for(Gr in ei)L[Gr]&&Ne(L[Gr].prototype,Jr);if(ti&&ue(ce)!==Jr&&Ne(ce,Jr),F&&!R(Jr,I))for(Gr in $r=!0,ft(Jr,I,{get:function(){return O(this)?this[Zr]:void 0}}),ei)L[Gr]&&z(L[Gr],Zr,Gr);ce=function(t){if(Kr(t))return t;throw TypeError("Target is not a typed array")},ft=function(t,e,n){if(F){if(n)for(var r in ei){var i=L[r];i&&R(i.prototype,t)&&delete i.prototype[t]}Jr[t]&&!n||mt(Jr,t,!n&&ti&&Qr[t]||e)}},I=M("iterator"),$r=L.Uint8Array;var ni=He.values,ri=He.keys,ii=He.entries,oi=ce;ce=ft,$r=!!(ft=$r&&$r.prototype[I])&&("values"==ft.name||null==ft.name),ft=function(){return ni.call(oi(this))},ce("entries",(function(){return ii.call(oi(this))})),ce("keys",(function(){return ri.call(oi(this))})),ce("values",ft,!$r),ce(I,ft,!$r);var ai=Object.assign,si=Object.defineProperty;ft=!ai||C((function(){if(F&&1!==ai({b:1},ai(si({},"a",{enumerable:!0,get:function(){si(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ai({},t)[n]||pe(ai({},e)).join("")!=r}))?function(t){for(var e=Rt(t),n=arguments.length,r=1,i=Xt.f,o=Ft.f;r<n;)for(var a,s=Vt(arguments[r++]),u=i?pe(s).concat(i(s)):pe(s),c=u.length,l=0;l<c;)a=u[l++],F&&!o.call(s,a)||(e[a]=s[a]);return e}:ai,Pt({target:"Object",stat:!0,forced:Object.assign!==ft},{assign:ft}),Wt.Object.assign;var ui=Ft.f,ci=(ft={entries:($r=function(t){return function(e){for(var n,r=Ct(e),i=pe(r),o=i.length,a=0,s=[];a<o;)n=i[a++],F&&!ui.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}})(!0),values:$r(!1)}).entries;Pt({target:"Object",stat:!0},{entries:function(t){return ci(t)}}),Wt.Object.entries;var li=ft.values;function hi(t){if(O(e=t)&&(void 0!==(n=e[fi])?n:"RegExp"==yt(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}Pt({target:"Object",stat:!0},{values:function(t){return li(t)}}),Wt.Object.values;var fi=M("match"),pi=M("match");Pt({target:"String",proto:!0,forced:!($r=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[pi]=!1,"/./"[t](e)}catch(i){}}return!1})("includes")},{includes:function(t,e){return!!~String(St(this)).indexOf(hi(t),1<arguments.length?e:void 0)}}),Tt("String","includes"),ft=qt.f;var di,vi="".startsWith,yi=Math.min;$r=$r("startsWith"),Pt({target:"String",proto:!0,forced:!(di=!($r||!(di=ft(String.prototype,"startsWith"))||di.writable))&&!$r},{startsWith:function(t,e){var n=String(St(this));return hi(t),e=Nt(yi(1<arguments.length?e:void 0,n.length)),t=String(t),vi?vi.call(n,t,e):n.slice(e,e+t.length)===t}}),Tt("String","startsWith"),Pt({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(St(this)),n="",r=It(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),Tt("String","repeat");var gi,mi=M("species"),bi=M("isConcatSpreadable"),wi=9007199254740991,_i="Maximum allowed index exceeded";function Ei(t){var e=Wt.Symbol||(Wt.Symbol={});R(e,t)||Ni(e,t,{value:ki.f(t)})}function Ti(t,e){var n=Wi[t]=Ie(ji[Ri]);return Di(n,{type:Pi,tag:t,description:e}),F||(n.description=e),n}function Ii(t,e){N(t);var n=Ct(e);return e=pe(n).concat(Ji(n)),Ai(e,(function(e){F&&!Xi.call(n,e)||Qi(t,e,n[e])})),t}$r=51<=ir||!C((function(){var t=[];return t[bi]=!1,t.concat()[0]!==t})),gi="concat",Tt=51<=ir||!C((function(){var t=[];return(t.constructor={})[mi]=function(){return{foo:1}},1!==t[gi](Boolean).foo})),Pt({target:"Array",proto:!0,forced:!$r||!Tt},{concat:function(){for(var t,e,n,r=Rt(this),i=Nr(r,0),o=0,a=-1,s=arguments.length;a<s;a++)if(function(t){if(!O(t))return!1;var e=t[bi];return void 0!==e?!!e:xr(t)}(n=-1===a?r:arguments[a])){if(e=Nt(n.length),wi<o+e)throw TypeError(_i);for(t=0;t<e;t++,o++)t in n&&qr(i,o,n[t])}else{if(wi<=o)throw TypeError(_i);qr(i,o++,n)}return i.length=o,i}});var Si=Qt.f,Ci={}.toString,Oi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ki=(Tt={f:function(t){return Oi&&"[object Window]"==Ci.call(t)?function(t){try{return Si(t)}catch(t){return Oi.slice()}}(t):Si(Ct(t))}},{f:M}),Ni=W.f,Ai=Dr.forEach,xi=dt("hidden"),Pi="Symbol",Ri="prototype",Di=(Dr=M("toPrimitive"),gt.set),Mi=gt.getterFor(Pi),Li=Object[Ri],ji=L.Symbol,Fi=kt("JSON","stringify"),Ui=qt.f,Vi=W.f,Bi=Tt.f,qi=Ft.f,Wi=K("symbols"),zi=K("op-symbols"),Hi=K("string-to-symbol-registry"),Ki=K("symbol-to-string-registry"),Gi=(dt=K("wks"),!(K=L.QObject)||!K[Ri]||!K[Ri].findChild),$i=F&&C((function(){return 7!=Ie(Vi({},"a",{get:function(){return Vi(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Ui(Li,e);r&&delete Li[e],Vi(t,e,n),r&&t!==Li&&Vi(Li,e,r)}:Vi,Yi=X?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ji},Qi=function t(e,n,r){return e===Li&&t(zi,n,r),N(e),n=A(n,!0),N(r),R(Wi,n)?(r.enumerable?(R(e,xi)&&e[xi][n]&&(e[xi][n]=!1),r=Ie(r,{enumerable:x(0,!1)})):(R(e,xi)||Vi(e,xi,x(1,{})),e[xi][n]=!0),$i(e,n,r)):Vi(e,n,r)},Xi=function(t){var e=A(t,!0);return t=qi.call(this,e),!(this===Li&&R(Wi,e)&&!R(zi,e))&&(!(t||!R(this,e)||!R(Wi,e)||R(this,xi)&&this[xi][e])||t)},Ji=(K=function(t,e){var n=Ct(t);if(t=A(e,!0),n!==Li||!R(Wi,t)||R(zi,t))return!(e=Ui(n,t))||!R(Wi,t)||R(n,xi)&&n[xi][t]||(e.enumerable=!0),e},X=function(t){t=Bi(Ct(t));var e=[];return Ai(t,(function(t){R(Wi,t)||R(vt,t)||e.push(t)})),e},function(t){var e=t===Li,n=(t=Bi(e?zi:Ct(t)),[]);return Ai(t,(function(t){!R(Wi,t)||e&&!R(Li,t)||n.push(Wi[t])})),n});Q||(mt((ji=function(t){if(this instanceof ji)throw TypeError("Symbol is not a constructor");var e=D(t=arguments.length&&void 0!==t?String(t):void 0),n=function t(n){this===Li&&t.call(zi,n),R(this,xi)&&R(this[xi],e)&&(this[xi][e]=!1),$i(this,e,x(1,n))};return F&&Gi&&$i(Li,e,{configurable:!0,set:n}),Ti(e,t)})[Ri],"toString",(function(){return Mi(this).tag})),mt(ji,"withoutSetter",(function(t){return Ti(D(t),t)})),Ft.f=Xi,W.f=Qi,qt.f=K,Qt.f=Tt.f=X,Xt.f=Ji,ki.f=function(t){return Ti(M(t),t)},F&&(Vi(ji[Ri],"description",{configurable:!0,get:function(){return Mi(this).description}}),mt(Li,"propertyIsEnumerable",Xi,{unsafe:!0}))),Pt({global:!0,wrap:!0,forced:!Q,sham:!Q},{Symbol:ji}),Ai(pe(dt),(function(t){Ei(t)})),Pt({target:Pi,stat:!0,forced:!Q},{for:function(t){var e=String(t);return R(Hi,e)?Hi[e]:(t=ji(e),Hi[e]=t,Ki[t]=e,t)},keyFor:function(t){if(!Yi(t))throw TypeError(t+" is not a symbol");if(R(Ki,t))return Ki[t]},useSetter:function(){Gi=!0},useSimple:function(){Gi=!1}}),Pt({target:"Object",stat:!0,forced:!Q,sham:!F},{create:function(t,e){return void 0===e?Ie(t):Ii(Ie(t),e)},defineProperty:Qi,defineProperties:Ii,getOwnPropertyDescriptor:K}),Pt({target:"Object",stat:!0,forced:!Q},{getOwnPropertyNames:X,getOwnPropertySymbols:Ji}),Pt({target:"Object",stat:!0,forced:C((function(){Xt.f(1)}))},{getOwnPropertySymbols:function(t){return Xt.f(Rt(t))}}),Fi&&Pt({target:"JSON",stat:!0,forced:ho=!Q||C((function(){var t=ji();return"[null]"!=Fi([t])||"{}"!=Fi({a:t})||"{}"!=Fi(Object(t))}))},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((O(n=e)||void 0!==t)&&!Yi(t))return xr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Yi(e))return e}),r[1]=e,Fi.apply(null,r)}}),ji[Ri][Dr]||z(ji[Ri],Dr,ji[Ri].valueOf),we(ji,Pi),vt[xi]=!0,Ei("asyncIterator"),K=W.f;var Zi,to,eo,no,ro,io=L.Symbol;!F||"function"!=typeof io||"description"in io.prototype&&void 0===io().description||(Zi={},xt(to=function(t){var e=arguments.length<1||void 0===t?void 0:String(t);return t=this instanceof to?new io(e):void 0===e?io():io(e),""===e&&(Zi[t]=!0),t},io),(vo=to.prototype=io.prototype).constructor=to,eo=vo.toString,no="Symbol(test)"==String(io("test")),ro=/^Symbol\((.*)\)[^)]+$/,K(vo,"description",{configurable:!0,get:function(){var t=O(this)?this.valueOf():this,e=eo.call(t);return R(Zi,t)?"":""===(e=no?e.slice(7,-1):e.replace(ro,"$1"))?void 0:e}}),Pt({global:!0,forced:!0},{Symbol:to})),Ei("hasInstance"),Ei("isConcatSpreadable"),Ei("iterator"),Ei("match"),Ei("matchAll"),Ei("replace"),Ei("search"),Ei("species"),Ei("split"),Ei("toPrimitive"),Ei("toStringTag"),Ei("unscopables"),we(Math,"Math",!0),we(L.JSON,"JSON",!0),Wt.Symbol,Ei("asyncDispose"),Ei("dispose"),Ei("observable"),Ei("patternMatch"),Ei("replaceAll"),ki.f("iterator");var oo=!C((function(){return Object.isExtensible(Object.preventExtensions({}))})),ao=S((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=W.f,r=D("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!O(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!R(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return oo&&a.REQUIRED&&o(t)&&!R(t,r)&&e(t),t}};vt[r]=!0})),so=(X=function(t,e,n){function r(t){var e=p[t];mt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!O(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!O(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!O(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,a,s,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=L[t],p=f&&f.prototype,d=f,v={};return ie(t,"function"!=typeof f||!(l||p.forEach&&!C((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),ao.REQUIRED=!0):ie(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,a=C((function(){i.has(1)})),s=mn((function(t){new f(t)})),u=!l&&C((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),s||(((d=e((function(e,n){nn(e,d,t);var r,i,o,a=(a=new f,r=e,e=d,Ne&&"function"==typeof(i=r.constructor)&&i!==e&&O(o=i.prototype)&&o!==e.prototype&&Ne(a,o),a);return null!=n&&pn(n,a[h],a,c),a}))).prototype=p).constructor=d),(a||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),v[t]=d,Pt({global:!0,forced:d!=f},v),we(d,t),l||n.setStrong(d,t,c),d},W.f),uo=ao.fastKey,co=gt.set,lo=gt.getterFor,ho={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=a(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=uo(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),F?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t((function(t,i){nn(t,o,e),co(t,{type:e,index:Ie(null),first:void 0,last:void 0,size:0}),F||(t.size=0),null!=i&&pn(i,t[r],t,n)})),a=lo(e),s=function(t,e){var n,r=a(t);if("F"!==(t=uo(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ze(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,F?t.size=0:this.size=0},delete:function(t){var e,n=a(this),r=s(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),F?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=a(this),i=on(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),Ze(o.prototype,n?{get:function(t){return(t=s(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),F&&so(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=lo(e),o=lo(r);Te(t,e,(function(t,e){co(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),tn(e)}};function fo(){for(var t,e=N(this),n=en(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function po(t){return Map.prototype.entries.call(t)}Pt({target:"Map",stat:!0},{from:(X("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),ho),Wt.Map,Dr=function(t,e,n){var r,i,o,a=arguments.length,s=1<a?e:void 0;return en(this),(e=void 0!==s)&&en(s),null==t?new this:(r=[],e?(i=0,o=on(s,2<a?n:void 0,2),pn(t,(function(t){r.push(o(t,i++))}))):pn(t,r.push,r),new this(r))})}),Pt({target:"Map",stat:!0},{of:K=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{deleteAll:function(){return fo.apply(this,arguments)}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{every:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return!pn(r,(function(t,e){if(!i(e,t,n))return pn.stop()}),void 0,!0,!0).stopped}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,kt("Map"))),a=en(o.set);return pn(r,(function(t,e){i(e,t,n)&&a.call(o,t,e)}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{find:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop(e)}),void 0,!0,!0).result}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{findKey:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop(t)}),void 0,!0,!0).result}}),Pt({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;en(e);var r=en(n.has),i=en(n.get),o=en(n.set);return pn(t,(function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])})),n}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{includes:function(t){return pn(po(N(this)),(function(e,n){if((r=n)===(n=t)||r!=r&&n!=n)return pn.stop();var r}),void 0,!0,!0).stopped}}),Pt({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;en(e);var r=en(n.set);return pn(t,(function(t){r.call(n,e(t),t)})),n}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{keyOf:function(t){return pn(po(N(this)),(function(e,n){if(n===t)return pn.stop(e)}),void 0,!0,!0).result}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{mapKeys:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,kt("Map"))),a=en(o.set);return pn(r,(function(t,e){a.call(o,i(e,t,n),e)}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{mapValues:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,kt("Map"))),a=en(o.set);return pn(r,(function(t,e){a.call(o,t,i(e,t,n))}),void 0,!0,!0),o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{merge:function(){for(var t=N(this),e=en(t.set),n=0;n<arguments.length;)pn(arguments[n++],e,t,!0);return t}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=N(this),r=po(n),i=arguments.length<2,o=i?void 0:e;if(en(t),pn(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{some:function(t,e){var n=N(this),r=po(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t,e){if(i(e,t,n))return pn.stop()}),void 0,!0,!0).stopped}}),Pt({target:"Map",proto:!0,real:!0,forced:j},{update:function(t,e,n){var r=N(this),i=arguments.length;en(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");return n=o?r.get(t):en(2<i?n:void 0)(t,r),r.set(t,e(n,t,r)),r}});var vo=function(t,e,n){var r,i=N(this);if(n=2<arguments.length?n:void 0,"function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r};function yo(t){return Set.prototype.values.call(t)}Pt({target:"Map",proto:!0,real:!0,forced:j},{upsert:vo}),Pt({target:"Map",proto:!0,real:!0,forced:j},{updateOrInsert:vo}),X("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),ho),Wt.Set,Pt({target:"Set",stat:!0},{from:Dr}),Pt({target:"Set",stat:!0},{of:K}),Pt({target:"Set",proto:!0,real:!0,forced:j},{addAll:function(){return function(){for(var t=N(this),e=en(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{deleteAll:function(){return fo.apply(this,arguments)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{every:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return!pn(r,(function(t){if(!i(t,t,n))return pn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{difference:function(t){var e=N(this),n=new(bn(e,kt("Set")))(e),r=en(n.delete);return pn(t,(function(t){r.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,kt("Set"))),a=en(o.add);return pn(r,(function(t){i(t,t,n)&&a.call(o,t)}),void 0,!1,!0),o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{find:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t){if(i(t,t,n))return pn.stop(t)}),void 0,!1,!0).result}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{intersection:function(t){var e=N(this),n=new(bn(e,kt("Set"))),r=en(e.has),i=en(n.add);return pn(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isDisjointFrom:function(t){var e=N(this),n=en(e.has);return!pn(t,(function(t){if(!0===n.call(e,t))return pn.stop()})).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isSubsetOf:function(t){var e=function(t){var e=an(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return N(e.call(t))}(this),n=N(t),r=n.has;return"function"!=typeof r&&(n=new(kt("Set"))(t),r=en(n.has)),!pn(e,(function(t){if(!1===r.call(n,t))return pn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{isSupersetOf:function(t){var e=N(this),n=en(e.has);return!pn(t,(function(t){if(!1===n.call(e,t))return pn.stop()})).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{join:function(t){var e=yo(n=N(this)),n=void 0===t?",":String(t);return pn(e,(t=[]).push,t,!1,!0),t.join(n)}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{map:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3),o=new(bn(n,kt("Set"))),a=en(o.add);return pn(r,(function(t){a.call(o,i(t,t,n))}),void 0,!1,!0),o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=N(this),r=yo(n),i=arguments.length<2,o=i?void 0:e;if(en(t),pn(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{some:function(t,e){var n=N(this),r=yo(n),i=on(t,1<arguments.length?e:void 0,3);return pn(r,(function(t){if(i(t,t,n))return pn.stop()}),void 0,!1,!0).stopped}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{symmetricDifference:function(t){var e=N(this),n=new(bn(e,kt("Set")))(e),r=en(n.delete),i=en(n.add);return pn(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),Pt({target:"Set",proto:!0,real:!0,forced:j},{union:function(t){var e=new(bn(e=N(this),kt("Set")))(e);return pn(t,en(e.add),e),e}});var go=Math.floor;Pt({target:"Number",stat:!0},{isInteger:function(t){return!O(t)&&isFinite(t)&&go(t)===t}}),Wt.Number.isInteger,Pt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),Wt.Number.isNaN;var mo=function(t,e){return(mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function bo(t,e){function n(){this.constructor=t}mo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _o(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Eo(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function To(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Io(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function So(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Io(arguments[e]));return t}function Co(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Oo(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function ko(t){try{return Po.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var No={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ao=function(t,e){if(!t)throw xo(e)},xo=function(t){return new Error("Firebase Database ("+No.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},Po={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?t[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Oo(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ro(t){return Do(void 0,t)}function Do(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Do(t[n],e[n]));return t}var Mo=(Lo.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},Lo);function Lo(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function jo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jo())}function Uo(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Vo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bo(){return!0===No.NODE_ADMIN}function qo(){return"indexedDB"in self&&null!=indexedDB}function Wo(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function zo(){return!(!navigator||!navigator.cookieEnabled)}var Ho,Ko="FirebaseError",Go=(bo($o,Ho=Error),$o);function $o(t,e,n){return(e=Ho.call(this,e)||this).code=t,e.customData=n,e.name=Ko,Object.setPrototypeOf(e,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Yo.prototype.create),e}var Yo=(Qo.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(Xo,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new Go(o,t,i)},Qo);function Qo(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Xo=/\{\$([^}]+)}/g;function Jo(t){return JSON.parse(t)}function Zo(t){return JSON.stringify(t)}function ta(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Jo(ko(o[0])||""),n=Jo(ko(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function ea(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function na(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function ra(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ia(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var oa=(aa.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},aa.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},aa.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},aa.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},aa);function aa(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function sa(t,e){return(e=new ua(t,e)).subscribe.bind(e)}var ua=(ca.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},ca.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},ca.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},ca.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=la),void 0===r.error&&(r.error=la),void 0===r.complete&&(r.complete=la),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),n},ca.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ca.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},ca.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},ca.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},ca);function ca(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function la(){}function ha(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function fa(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return(t+=" failed: ")+r+" argument "}function pa(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(fa(t,e,r)+"must be a valid function.")}function da(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(fa(t,e,r)+"must be a valid context object.")}function va(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var ya=1e3,ga=2,ma=144e5,ba=.5;function wa(t,e,n){return void 0===e&&(e=ya),void 0===n&&(n=ga),n=e*Math.pow(n,t),t=Math.round(ba*n*(Math.random()-.5)*2),Math.min(ma,n+t)}var _a=(Ea.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ea.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ea.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ea);function Ea(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Ta="[DEFAULT]",Ia=(Sa.prototype.get=function(t){void 0===t&&(t=Ta);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Mo;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},Sa.prototype.getImmediate=function(t){var e=wo({identifier:Ta,optional:!1},t),n=(t=e.identifier,e.optional),r=this.normalizeInstanceIdentifier(t);try{var i=this.getOrInitializeService(r);if(i)return i;if(n)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(n)return null;throw t}},Sa.prototype.getComponent=function(){return this.component},Sa.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(Ta)}catch(t){}try{for(var r=To(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Io(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Sa.prototype.clearInstance=function(t){void 0===t&&(t=Ta),this.instancesDeferred.delete(t),this.instances.delete(t)},Sa.prototype.delete=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(So(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},Sa.prototype.isComponentSet=function(){return null!=this.component},Sa.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===Ta?void 0:e),this.instances.set(t,n)),n||null},Sa.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:Ta},Sa);function Sa(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var Ca=(Oa.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},Oa.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},Oa.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ia(t,this);return this.providers.set(t,e),e},Oa.prototype.getProviders=function(){return Array.from(this.providers.values())},Oa);function Oa(t){this.name=t,this.providers=new Map}function ka(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Na,Aa=[];function xa(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Da[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ka(["["+i+"]  "+t.name+":"],n))}}(Dr=Na=Na||{})[Dr.DEBUG=0]="DEBUG",Dr[Dr.VERBOSE=1]="VERBOSE",Dr[Dr.INFO=2]="INFO",Dr[Dr.WARN=3]="WARN",Dr[Dr.ERROR=4]="ERROR",Dr[Dr.SILENT=5]="SILENT";var Pa={debug:Na.DEBUG,verbose:Na.VERBOSE,info:Na.INFO,warn:Na.WARN,error:Na.ERROR,silent:Na.SILENT},Ra=Na.INFO,Da=((K={})[Na.DEBUG]="log",K[Na.VERBOSE]="log",K[Na.INFO]="info",K[Na.WARN]="warn",K[Na.ERROR]="error",K),Ma=(Object.defineProperty(La.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Na))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),La.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Pa[t]:t},Object.defineProperty(La.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(La.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),La.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ka([this,Na.DEBUG],t)),this._logHandler.apply(this,ka([this,Na.DEBUG],t))},La.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ka([this,Na.VERBOSE],t)),this._logHandler.apply(this,ka([this,Na.VERBOSE],t))},La.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ka([this,Na.INFO],t)),this._logHandler.apply(this,ka([this,Na.INFO],t))},La.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ka([this,Na.WARN],t)),this._logHandler.apply(this,ka([this,Na.WARN],t))},La.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ka([this,Na.ERROR],t)),this._logHandler.apply(this,ka([this,Na.ERROR],t))},La);function La(t){this.name=t,this._logLevel=Ra,this._logHandler=xa,this._userLogHandler=null,Aa.push(this)}function ja(t){Aa.forEach((function(e){e.setLogLevel(t)}))}(j={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",j["bad-app-name"]="Illegal App name: '{$appName}",j["duplicate-app"]="Firebase App named '{$appName}' already exists",j["app-deleted"]="Firebase App named '{$appName}' already deleted",j["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",j["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var Fa=new Yo("app","Firebase",Dr=j),Ua="@firebase/app",Va="[DEFAULT]",Ba=((K={})[Ua]="fire-core",K["@firebase/analytics"]="fire-analytics",K["@firebase/auth"]="fire-auth",K["@firebase/database"]="fire-rtdb",K["@firebase/functions"]="fire-fn",K["@firebase/installations"]="fire-iid",K["@firebase/messaging"]="fire-fcm",K["@firebase/performance"]="fire-perf",K["@firebase/remote-config"]="fire-rc",K["@firebase/storage"]="fire-gcs",K["@firebase/firestore"]="fire-fst",K["fire-js"]="fire-js",K["firebase-wrapper"]="fire-js-all",K),qa=new Ma("@firebase/app"),Wa=(Object.defineProperty(za.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(za.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(za.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),za.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},za.prototype._getService=function(t,e){return void 0===e&&(e=Va),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},za.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Va),this.container.getProvider(t).clearInstance(e)},za.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(i){qa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,i)}},za.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},za.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Fa.create("app-deleted",{appName:this.name_})},za);function za(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ro(t),this.container=new Ca(e.name),this._addComponent(new _a("app",(function(){return o}),"PUBLIC"));try{for(var a=To(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}Wa.prototype.name&&Wa.prototype.options||Wa.prototype.delete||console.log("dc");var Ha="8.0.2";function Ka(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Va),"string"!=typeof(i=o.name)||!i)throw Fa.create("bad-app-name",{appName:String(i)});if(ea(e,i))throw Fa.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=Ba[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);if(t=e.match(/\s|\//),i||t)return n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void qa.warn(n.join(" "));o(new _a(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:ja,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Fa.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=Aa;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=Pa[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Na[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:Ha,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!ea(e,t=t||Va))throw Fa.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u,c=o.name;if(n.has(c))return qa.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw Fa.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&Do(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=To(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(s){a={error:s}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}j=function t(){var e=Ka(Wa);return e.INTERNAL=wo(wo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Do(e,t)},createSubscribe:sa,ErrorFactory:Yo,deepExtend:Do}),e}();var Ga=($a.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null})).filter((function(t){return t})).join(" ")},$a);function $a(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(qa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(gu=self.firebase.SDK_VERSION)&&0<=gu.indexOf("LITE")&&qa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Ya=j.initializeApp;j.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return}}()&&qa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ya.apply(void 0,t)};var Qa,Xa,Ja=j;(Qa=Ja).INTERNAL.registerComponent(new _a("platform-logger",(function(t){return new Ga(t)}),"PRIVATE")),Qa.registerVersion(Ua,"0.6.13",Xa),Qa.registerVersion("fire-js",""),Ja.registerVersion("firebase","8.0.2","app"),function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Pa(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function w(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var _=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function I(t,e,n){this.code=O+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new I(e.substring(O.length),t.message,t.serverResponse):null}E(I,Error),I.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.w()};var C,O="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function x(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function P(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,P):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function D(t){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}C=A("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(R,P),R.prototype.name="AssertionError",M.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var F=new M((function(){return new U}),(function(t){t.reset()}));function U(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=V(t,e)}function K(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function $(){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:e<t?1:0}var st=a.navigator;function ut(t){return ot(Q,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return;return 1}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}Q=st&&(st=st.userAgent)?st:"";var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<ft.length;i++)e=ft[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function dt(t,e){t:{try{var n;if((n=(n=(n=t&&t.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(d(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function vt(t,e){this.a=t===bt&&e||"",this.b=mt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===mt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt,mt={},bt={};function wt(){if(void 0===gt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(t){a.console&&a.console.error(t.message)}gt=t}else gt=t}return gt}function _t(t,e){this.a=e===Ct?t:""}function Et(t){return t instanceof _t&&t.constructor===_t?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n,r=yt(t);if(!St.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=t=r.replace(It,(function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof vt?yt(t):encodeURIComponent(String(t))})),new _t(n=(t=wt())?t.createScriptURL(n):n,Ct)}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ct={};function Ot(t,e){this.a=e===Dt?t:""}function kt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,At=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=xt.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(At))&&Nt.test(e[1])?new Ot(t,Dt):null);var e}function Rt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Dt))}var Dt={},Mt=new Ot("about:invalid#zClosurez",Dt);function Lt(t,e,n){this.a=n===jt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function Ft(t,e,n,r){return t=t instanceof Ot?t:Rt(t),e=e||a,n=n instanceof vt?yt(n):n||"",e.open(kt(t),n,r,void 0)}function Ut(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=l;var qt,Wt=ut("Opera"),zt=ut("Trident")||ut("MSIE"),Ht=ut("Edge"),Kt=Ht||zt,Gt=ut("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),$t=ot(Q.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=a.document;return t?t.documentMode:void 0}var Qt="",Xt=(Xt=Q,Gt?/rv:([^\);]+)(\)|;)/.exec(Xt):Ht?/Edge\/([\d\.]+)/.exec(Xt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):$t?/WebKit\/(\S+)/.exec(Xt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);Xt&&(Qt=Xt?Xt[1]:""),qt=zt&&null!=(Xt=Yt())&&Xt>parseFloat(Qt)?String(Xt):Qt;var Jt={};function Zt(t){return e=t,n=function(){for(var e=0,n=X(String(qt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Jt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var te=a.document&&zt&&(Yt()||parseInt(qt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var ee=!zt||9<=Number(te);function ne(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function re(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ie,oe,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function se(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!ee&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Vt(i.name),'"'),i.type&&(r.push(' type="',Vt(i.type),'"'),pt(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=ue(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):re(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}B(a?Y(o):o,r)}}}(n,r,e),r}function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ce(t){a.setTimeout((function(){throw t}),0)}function le(t,e){oe||function(){var t;oe=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(pe)}):function(){var t=pe;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ie=ie||function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ue(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0===t||ut("Trident")||ut("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Fb,n.Fb=null,t())},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}())(t):a.setImmediate(t)}}(),he||(oe(),he=!0),fe.add(t,e)}var he=!1,fe=new j;function pe(){for(var t,e,n;n=e=void 0,n=null,(e=fe).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ce(t)}L(F,t)}he=!1}function de(t,e){if(this.a=ve,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Oe(n,ye,t)}),(function(t){if(!(t instanceof De))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Oe(n,ge,t)}))}catch(t){Oe(this,ge,t)}}var ve=0,ye=2,ge=3;function me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var be=new M((function(){return new me}),(function(t){t.reset()}));function we(t,e,n){var r=be.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof de)return t;var e=new de(l);return Oe(e,ye,t),e}function Ee(t){return new de((function(e,n){n(t)}))}function Te(t,e,n){ke(t,e,n,null)||le(w(e,t))}function Ie(t){return new de((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Te(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Se(t,e){t.b||t.a!=ye&&t.a!=ge||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ce(t,e,n,r){var i=we(null,null,null);return i.a=new de((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof De?o(e):t(i)}catch(e){o(e)}}:o})),Se(i.a.c=t,i),i.a}function Oe(t,e,n){var r,i;t.a==ve&&(t===n&&(e=ge,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ke(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=ge||n instanceof De||(i=n,(r=t).g=!0,le((function(){r.g&&Re.call(null,i)})))))}function ke(t,e,n,r){if(t instanceof de)return Se(t,we(e||l,n||null,r)),1;if(x(t))return t.then(e,n,r),1;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function Ne(t){t.h||(t.h=!0,le(t.fc,t))}function Ae(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function xe(t,e,n,r){if(n==ge&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pe(e,n,r);else try{e.c?e.g.call(e.f):Pe(e,n,r)}catch(t){Re.call(null,t)}L(be,e)}function Pe(t,e,n){e==ye?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}de.prototype.then=function(t,e,n){return Ce(this,p(t)?t:null,p(e)?e:null,n)},de.prototype.$goog_Thenable=!0,(t=de.prototype).na=function(t,e){return(t=we(t,t,e)).c=!0,Se(this,t),this},t.s=function(t,e){return Ce(this,null,t,e)},t.cancel=function(t){var e;this.a==ve&&(e=new De(t),le((function(){!function t(e,n){if(e.a==ve)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==ve&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ae(r),xe(r,o,ge,n)))}e.c=null}else Oe(e,ge,n)}(this,e)}),this))},t.Zc=function(t){this.a=ve,Oe(this,ye,t)},t.$c=function(t){this.a=ve,Oe(this,ge,t)},t.fc=function(){for(var t;t=Ae(this);)xe(this,t,this.a,this.i);this.h=!1};var Re=ce;function De(t){P.call(this,t)}function Me(){this.xa=this.xa,this.oa=this.oa}E(De,P);var Le=0;function je(t){t.xa||(t.xa=!0,t.Da(),0==Le)||(t=t,Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y))}Me.prototype.xa=!(De.prototype.name="cancel"),Me.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Fe=Object.freeze||function(t){return t},Ue=!zt||9<=Number(te),Ve=zt&&!Zt("9"),Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ze[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}qe.prototype.preventDefault=function(){this.defaultPrevented=!0},E(We,qe);var ze=Fe({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ve)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},We.prototype.g=function(){return this.a};var He="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ge(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ke,this.va=this.Oa=!1}function $e(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function Ye(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&($e(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Xe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}Ye.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xe(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new Ge(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var Je="closure_lm_"+(1e6*Math.random()|0),Ze={};function tn(t,e,n,r,i){if(r&&r.once)nn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else n=fn(n),t&&t[He]?dn(t,e,n,d(r)?!!r.capture:!!r,i):en(t,e,n,!1,r,i)}function en(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=d(i)?!!i.capture:!!i,c=ln(t);if(c||(t[Je]=c=new Ye(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=cn,r=s=Ue?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Be||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(an(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function nn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=fn(n),t&&t[He]?vn(t,e,n,d(r)?!!r.capture:!!r,i):en(t,e,n,!0,r,i)}function rn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=fn(n),t&&t[He]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Xe(o=t.a[e],n,r,i))&&($e(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xe(e,n,r,i)),(n=-1<t?e[t]:null)&&on(n))}function on(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[He]?Qe(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(an(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ln(e))?(Qe(n,t),0==n.b&&(n.src=null,e[Je]=null)):$e(t)))}function an(t){return t in Ze?Ze[t]:Ze[t]="on"+t}function sn(t,e,n,r){var i=!0;if((t=ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=un(o,r),i=i&&!1!==o)}return i}function un(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&on(t),n.call(r,e)}function cn(t,e){if(t.va)return!0;if(Ue)return un(t,new We(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=sn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=sn(r[i],t,!1,e),n=n&&o}return n}function ln(t){return(t=t[Je])instanceof Ye?t:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(t){return p(t)?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function pn(){Me.call(this),this.v=new Ye(this),(this.$b=this).fb=null}function dn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function vn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function yn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Ua||u.src,u.Oa&&Qe(t.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function gn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function mn(t){var e=null;return new de((function(n,r){-1==(e=gn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function bn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function wn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function _n(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _n)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function En(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(pn,Me),pn.prototype[He]=!0,pn.prototype.addEventListener=function(t,e,n,r){tn(this,t,e,n,r)},pn.prototype.removeEventListener=function(t,e,n,r){rn(this,t,e,n,r)},pn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t?t=new qe(t,n):t instanceof qe?t.target=t.target||n:(a=t,pt(t=new qe(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=yn(o,r,!0,t)&&a;if(a=yn(o=t.b=n,r,!0,t)&&a,a=yn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=yn(o=t.b=e[i],r,!1,t)&&a;return a},pn.prototype.Da=function(){if(pn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$e(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=_n.prototype).V=function(){En(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return En(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Sn?(this.i=void 0!==e?e:t.i,Cn(this,t.f),this.l=t.l,this.a=t.a,On(this,t.g),this.c=t.c,kn(this,Gn(t.b)),this.h=t.h):t&&(n=String(t).match(In))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),On(this,n[4]),this.c=Rn(n[5]||"",!0),kn(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!e,this.b=new Bn(null,this.i))}function Cn(t,e,n){t.f=n?Rn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function On(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function kn(t,e,n){var r,i;e instanceof Bn?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(qn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zn(this,e),Kn(this,n,t))}),r)),r.f=i):(n||(e=Dn(e,Un)),t.b=new Bn(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function xn(t){return t instanceof Sn?new Sn(t):new Sn(t,void 0)}function Pn(t,e,n,r){var i=new Sn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&On(i,n),r&&(i.c=r),i}function Rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Dn(e,Ln,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(Dn(e,Ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dn(n,"/"==n.charAt(0)?Fn:jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Dn(n,Vn)),t.join("")},Sn.prototype.resolve=function(t){var e=new Sn(this),n=!!t.f;n?Cn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r,i=t.c;if(n)On(e,t.g);else if(n=!!t.c)if("/"!=i.charAt(0)&&(this.a&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(ot(r,"./")||ot(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.c=i:n=""!==t.b.toString(),n?kn(e,Gn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Ln=/[#\/\?@]/g,jn=/[#\?:]/g,Fn=/[#\?]/g,Un=/[#\?@]/g,Vn=/#/g;function Bn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qn(t){t.a||(t.a=new _n,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t){var e=wn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Bn(null,void 0);t=bn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Kn(n,i,o):n.add(i,o)}return n}function zn(t,e){qn(t),e=$n(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&En(t)))}function Hn(t,e){return qn(t),e=$n(t,e),Tn(t.a.b,e)}function Kn(t,e,n){zn(t,e),0<n.length&&(t.c=null,t.a.set($n(t,e),Y(n)),t.b+=n.length)}function Gn(t){var e=new Bn;return e.c=t.c,t.a&&(e.a=new _n(t.a),e.b=t.b),e}function $n(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Yn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=Bn.prototype).add=function(t,e){qn(this),this.c=null,t=$n(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){qn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){qn(this);var e=[];if("string"==typeof t)Hn(this,t)&&(e=$(e,this.a.get($n(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return qn(this),this.c=null,Hn(this,t=$n(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.V(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace(Jn,(function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e})),'"')}function tr(){var t=br();return zt&&te&&11==te||/Edge\/\d+/.test(t)}function er(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function nr(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(Pt(t)||Mt)),e.location.href=n}function rr(t){return!!((t=(t||br()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ir(t){t=t||a.window;try{t.close()}catch(t){}}function or(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),yr(br())==dr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Pt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(a=ue(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Rt(e),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ft("",r,n,a),t=kt(e),a&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">',t=new Lt(t=(r=wt())?r.createHTML(t):t,0,jt),r=a.document)&&(r.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(D("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Ft(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var t=null;return new de((function(e){"complete"==a.document.readyState?e():(t=function(){e()},nn(window,"load",t))})).s((function(e){throw rn(window,"load",t),e}))}function cr(t){return t=t||br(),!("file:"!==Ir()&&"ionic:"!==Ir()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function hr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function fr(){return Ja.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ja.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function pr(){var t=fr();return"ReactNative"===t||"Node"===t}var dr="Firefox",vr="Chrome";function yr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?dr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":vr:"Safari"}var gr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function mr(t,e){e=e||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=fr())?r=yr(i=br()):"Worker"===r&&(r=yr(i=br())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function br(){return a.navigator&&a.navigator.userAgent||""}function wr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function _r(){try{var t=a.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!tr()||!!a.indexedDB}catch(t){return hr()&&!!a.indexedDB}return!1}function Er(){return(Tr()||"chrome-extension:"===Ir()||cr())&&!pr()&&_r()&&!hr()}function Tr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){return a.location&&a.location.protocol||null}function Sr(t){return!rr(t=t||br())&&yr(t)!=dr}function Cr(t){return void 0===t?null:Yn(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=yr(t=t||br())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=br(),e=fr(),this.b=rr(t)||"ReactNative"===e}function Rr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Dr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function Mr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Lr(){return wr("fireauth.oauthhelper",a)||wr("fireauth.iframe",a)}Pr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Ir()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Fr={};function Ur(t){Fr[t]||(Fr[t]=!0,Dr(t))}try{var Vr={};Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Vr.abcd}catch(t){jr=!1}function Br(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Wr(t){var e={};return qr(e,t),e}function zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,zr(t[n]));return e}function Hr(t){var e=t&&(t[Qr]?"phone":null);if(!(e&&t&&t[Yr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",t[Yr]),Br(this,"displayName",t[Gr]||null);var n=null;t[$r]&&(n=new Date(t[$r]).toUTCString()),Br(this,"enrollmentTime",n),Br(this,"factorId",e)}function Kr(t){try{var e=new Xr(t)}catch(t){e=null}return e}Hr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Gr="displayName",$r="enrolledAt",Yr="mfaEnrollmentId",Qr="phoneInfo";function Xr(t){Hr.call(this,t),Br(this,"phoneNumber",t[Qr])}function Jr(t){var e={},n=t[ni],r=t[ii],i=t[oi];if(t=Kr(t[ri]),!i||i!=ti&&i!=ei&&!n||i==ei&&!r||i==Zr&&!t)throw Error("Invalid checkActionCode response!");i==ei?(e[si]=n||null,e[ci]=n||null,e[ai]=r):(e[si]=r||null,e[ci]=r||null,e[ai]=n||null),e[ui]=t||null,Br(this,hi,i),Br(this,li,zr(e))}E(Xr,Hr),Xr.prototype.w=function(){var t=Xr.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Zr="REVERT_SECOND_FACTOR_ADDITION",ti="EMAIL_SIGNIN",ei="VERIFY_AND_CHANGE_EMAIL",ni="email",ri="mfaInfo",ii="newEmail",oi="requestType",ai="email",si="fromEmail",ui="multiFactorInfo",ci="previousEmail",li="data",hi="operation";function fi(t){var e=An(t=xn(t),pi)||null,n=An(t,di)||null,r=(r=An(t,gi)||null)&&bi[r]||null;if(!e||!n||!r)throw new I("argument-error",pi+", "+di+"and "+gi+" are required in a valid action code URL.");qr(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,vi)||null,languageCode:An(t,yi)||null,tenantId:An(t,mi)||null})}var pi="apiKey",di="oobCode",vi="continueUrl",yi="languageCode",gi="mode",mi="tenantId",bi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zr,signIn:ti,verifyAndChangeEmail:ei,verifyEmail:"VERIFY_EMAIL"};function wi(t){try{return new fi(t)}catch(t){return null}}function _i(t){var e=t[Ci];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[Ei])&&"object"==typeof r){e=r[Ni];var n=r[Oi],r=r[ki];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new I("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new I("argument-error",ki+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new I("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new I("missing-android-pkg-name")}}else if(void 0!==r)throw new I("argument-error",Ei+" property must be a non null object when specified.");if(this.f=null,(e=t[Si])&&"object"==typeof e){if("string"==typeof(e=e[Ai])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Ai+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new I("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ei="android",Ti="dynamicLinkDomain",Ii="handleCodeInApp",Si="iOS",Ci="url",Oi="installApp",ki="minimumVersion",Ni="packageName",Ai="bundleId";function xi(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Pi=null;function Ri(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Pi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Pi){Pi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Pi[o]&&(Pi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Di(t){var e=Li(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Mi(t){try{return new Di(t)}catch(t){return null}}function Li(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ri(t))}catch(t){}return null}Di.prototype.S=function(){return this.f},Di.prototype.i=function(){return this.b},Di.prototype.toString=function(){return this.g};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fi=["client_id","response_type","scope","redirect_uri","state"],Ui={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Fi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Fi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Fi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:ji},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Vi(t){for(var e in Ui)if(Ui[e].fa==t)return Ui[e];return null}function Bi(t){var e={};e["facebook.com"]=Ki,e["google.com"]=$i,e["github.com"]=Gi,e["twitter.com"]=Yi;var n=t&&t[Wi];try{if(n)return new(e[n]?e[n]:Hi)(t);if(void 0!==t[qi])return new zi(t)}catch(t){}return null}var qi="idToken",Wi="providerId";function zi(t){var e,n=t[Wi];if(n||!t[qi]||(e=Mi(t[qi]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Br(this,"providerId",n),Br(this,"isNewUser",e)}function Hi(t){zi.call(this,t),Br(this,"profile",zr((t=kr(t.rawUserInfo||"{}"))||{}))}function Ki(t){if(Hi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(t){if(Hi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function $i(t){if(Hi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Hi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function Qi(t){var e=An(r=xn(t),"link"),n=An(xn(e),"link"),r=An(r,"deep_link_id");return An(xn(r),"link")||r||n||e||t}function Xi(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ji:Zi}E(Hi,zi),E(Ki,Hi),E(Gi,Hi),E($i,Hi),E(Yi,Hi);var Ji="enroll",Zi="signin";function to(){}function eo(t,e){return t.then((function(t){if(t[za]){var n=Mi(t[za]);if(!n||e!=n.h)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==O+"user-not-found"?new I("user-mismatch"):t}))}function no(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function ro(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function io(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new no(t.providerId,t.pendingToken)}catch(t){}return null}function oo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function so(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new oo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function uo(t,e){this.Pc=e||[],qr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Vi(t)||{}).Ja||null,this.nb=null}function co(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function lo(t){uo.call(this,t,Fi),this.a=[]}function ho(){lo.call(this,"facebook.com")}function fo(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new ho).credential({accessToken:e})}function po(){lo.call(this,"github.com")}function vo(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function yo(){lo.call(this,"google.com"),this.Ca("profile")}function go(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function mo(){uo.call(this,"twitter.com",ji)}function bo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function Eo(){qr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=Io(e)))throw new I("argument-error","Invalid email link!");return new wo(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Io(t){return(t=wi(t=Qi(t)))&&t.operation===ti?t:null}function So(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new I("internal-error");this.a=t,Br(this,"providerId","phone"),this.fa="phone",Br(this,"signInMethod","phone")}function Co(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function Oo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function ko(t){try{this.a=t||Ja.auth()}catch(t){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new So({cb:t,bb:e})}function Ao(t){if(t.temporaryProof&&t.phoneNumber)return new So({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return go(o,n);case"facebook.com":return fo(n);case"github.com":return vo(n);case"twitter.com":return bo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new no(e,a):new oo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new lo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function xo(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Po(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Ro(t){return(t=t||{}).type?new Po(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Do(){this.b=null,this.a=[]}Xi.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},Xi.prototype.w=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},to.prototype.ja=function(){},to.prototype.b=function(){},to.prototype.c=function(){},to.prototype.w=function(){},no.prototype.ja=function(t){return ps(t,ro(this))},no.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ds(t,n)},no.prototype.c=function(t,e){return eo(vs(t,ro(this)),e)},no.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.ja=function(t){return ps(t,ao(this))},oo.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ds(t,n)},oo.prototype.c=function(t,e){return eo(vs(t,ao(this)),e)},oo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ka=function(t){return this.Hb=ht(t),this},E(co,uo),E(lo,uo),lo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},lo.prototype.Pb=function(){return Y(this.a)},lo.prototype.credential=function(t,e){if(!(e=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,e,this.providerId)},E(ho,lo),Br(ho,"PROVIDER_ID","facebook.com"),Br(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(po,lo),Br(po,"PROVIDER_ID","github.com"),Br(po,"GITHUB_SIGN_IN_METHOD","github.com"),E(yo,lo),Br(yo,"PROVIDER_ID","google.com"),Br(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(mo,uo),Br(mo,"PROVIDER_ID","twitter.com"),Br(mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ja=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Ts,{email:this.a,oobCode:this.f}):Qs(t,Hs,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Qs(t,Is,{idToken:e,email:this.a,oobCode:this.f}):Qs(t,js,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return eo(this.ja(t),e)},wo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},qr(Eo,{PROVIDER_ID:"password"}),qr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ja=function(t){return t.eb(Oo(this))},So.prototype.b=function(t,e){var n=Oo(this);return n.idToken=e,Qs(t,Gs,n)},So.prototype.c=function(t,e){var n=Oo(this);return n.operation="REAUTH",eo(t=Qs(t,$s,n),e)},So.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},ko.prototype.eb=function(t,e){var n=this.a.a;return _e(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i=i&&i.type==Ji?i.Ha().then((function(t){return Qs(n,Us,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==Zi?i.Ha().then((function(e){return i=n,e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Qs(i,Vs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}));var i})):Qs(n,Ms,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},qr(ko,{PROVIDER_ID:"phone"}),qr(ko,{PHONE_SIGN_IN_METHOD:"phone"}),Po.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Po.prototype.S=function(){return this.h},Po.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Mo,Lo=null;function jo(t){var e="unauthorized-domain",n=void 0,r=xn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function Fo(t,e,n){I.call(this,t,n),(t=e||{}).Ib&&Br(this,"email",t.Ib),t.ea&&Br(this,"phoneNumber",t.ea),t.credential&&Br(this,"credential",t.credential),t.Yb&&Br(this,"tenantId",t.Yb)}function Uo(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Ao(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new Fo(e,n,t.message)}return null}function Vo(){}function Bo(t){return t.c||(t.c=t.b())}function qo(){}function Wo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function zo(){}function Ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Go(t,e,n){this.reset(t,e,n,void 0,void 0)}function $o(t){this.f=t,this.b=this.c=this.a=null}function Yo(t,e){this.name=t,this.value=e}E(jo,I),E(Fo,I),Fo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Fo.prototype.toJSON=function(){return this.w()},Vo.prototype.c=null,E(qo,Vo),qo.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Mo=new qo,E(zo,Vo),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ho;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(t=Ho.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Go.prototype.a=null,Go.prototype.reset=function(t,e,n,r,i){delete this.a},Yo.prototype.toString=function(){return this.name};var Qo=new Yo("SEVERE",1e3),Xo=new Yo("WARNING",900),Jo=new Yo("CONFIG",700),Zo=new Yo("FINE",500);$o.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Go(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ta,ea={},na=null;function ra(t){var e,n,r;return na||(na=new $o(""),(ea[""]=na).c=Jo),(e=ea[t])||(e=new $o(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=ra(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,ea[t]=e),e}function ia(t,e){t&&t.log(Zo,e,void 0)}function oa(t){this.f=t}function aa(t){pn.call(this),this.u=t,this.h=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=ra("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(oa,Vo),oa.prototype.a=function(){return new aa(this.f)},oa.prototype.b=(ta={},function(){return ta}),E(aa,pn);var sa=0;function ua(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ca(t){t.readyState=4,t.g=null,t.c=null,t.m=null,la(t)}function la(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ha(t){pn.call(this),this.headers=new _n,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=fa,this.u=this.R=!1}(t=aa.prototype).open=function(t,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,la(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ca(this)),this.readyState=sa},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,la(this)),this.a&&(this.readyState=3,la(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ua(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){var e;this.a&&((e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?ca:la)(this),3==this.readyState&&ua(this))},t.sc=function(t){this.a&&(this.response=this.responseText=t,ca(this))},t.rc=function(t){this.a&&(this.response=t,ca(this))},t.Ta=function(t){var e=this.i;e&&e.log(Xo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ca(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(ha,pn);var fa="";ha.prototype.b=ra("goog.net.XhrIo");var pa=/^https?$/i,da=["POST","PUT"];function va(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=(t.O?t.O:Mo).a(),t.A=t.O?Bo(t.O):Bo(Mo),t.a.onreadystatechange=b(t.Ub,t);try{ia(t.b,Ia(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ia(t.b,Ia(t,"Error opening Xhr: "+e.message)),void ga(t,e)}e=r||"";var o,s=new _n(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=wn(t),r=bn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){s.set(e,t)})),i=function(t){t:{for(var e=ya,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=a.FormData&&e instanceof a.FormData,!H(da,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_a(t),0<t.g&&(t.u=(o=t.a,zt&&Zt(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ia(t.b,Ia(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.o=gn(t.Ma,t.g,t)),ia(t.b,Ia(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ia(t.b,Ia(t,"Send error: "+e.message)),ga(t,e)}}function ya(t){return"content-type"==t.toLowerCase()}function ga(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ma(t),wa(t)}function ma(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ba(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Ea(t)&&2==Ta(t))ia(t.b,Ia(t,"Local request error detected and ignored"));else if(t.i&&4==Ea(t))gn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ea(t)){ia(t.b,Ia(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=Ta(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(In)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!pa.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ea(t)?t.a.statusText:""}catch(e){ia(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ta(t)+"]",ma(t)}}finally{wa(t)}}}function wa(t,e){if(t.a){_a(t);var n=t.a,r=t.A[0]?l:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Qo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function _a(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function Ea(t){return t.a?t.a.readyState:0}function Ta(t){try{return 2<Ea(t)?t.a.status:-1}catch(t){return-1}}function Ia(t,e){return e+" ["+t.P+" "+t.l+" "+Ta(t)+"]"}function Sa(t){var e=La;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ca(t,e,n){t.a=!0,t.c=n,t.f=!e,Aa(t)}function Oa(t){if(t.a){if(!t.m)throw new xa;t.m=!1}}function ka(t,e,n,r){t.g.push([e,n,r]),t.a&&Aa(t)}function Na(t){return z(t.g,(function(t){return p(t[1])}))}function Aa(t){var e,n;t.h&&t.a&&Na(t)&&(e=t.h,(n=Da[e])&&(a.clearTimeout(n.a),delete Da[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Na(t)||(n=!0)}}t.c=e,r&&(u=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof Sa?(ka(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Ra(e),Da[e.a]=e,t.h=e.a)}function xa(){P.call(this)}function Pa(){P.call(this)}function Ra(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ha.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,Ia(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ia(this.b,Ia(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wa(this,!0)),ha.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ba(this):this.Ic())},t.Ic=function(){ba(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Qo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ia(this.b,"Can not get response: "+t.message),null}},Sa.prototype.cancel=function(t){var e;this.a?this.c instanceof Sa&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Pa,Oa(this),Ca(this,!1,t)))},Sa.prototype.v=function(t,e){this.i=!1,Ca(this,t,e)},Sa.prototype.then=function(t,e,n){var r,i,o=new de((function(t,e){r=t,i=e}));return ka(this,r,(function(t){t instanceof Pa?o.cancel():i(t)})),o.then(t,e,n)},Sa.prototype.$goog_Thenable=!0,E(xa,P),xa.prototype.message="Deferred has already fired",xa.prototype.name="AlreadyCalledError",E(Pa,P),Pa.prototype.message="Deferred was canceled",Pa.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function Ma(t){var e=document,n=Et(t).toString(),r=ue(document,"SCRIPT"),i={Vb:r,Ma:void 0},o=new Sa(i),s=window.setTimeout((function(){ja(r,!0);var t=new Va(Ua,"Timeout reached for loading script "+n);Oa(o),Ca(o,!1,t)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(ja(r,!1,s),Oa(o),Ca(o,!0,null))},r.onerror=function(){ja(r,!0,s);var t=new Va(Fa,"Error while loading script "+n);Oa(o),Ca(o,!1,t)},pt(i={},{type:"text/javascript",charset:"UTF-8"}),re(r,i),i=t,dt(t=r,"HTMLScriptElement"),t.src=Et(i),(i=(i=t.ownerDocument&&t.ownerDocument.defaultView)&&i!=a?c(i.document):(null===u&&(u=c(a.document)),u))&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),o}function La(){var t;this&&this.Vb&&(t=this.Vb)&&"SCRIPT"==t.tagName&&ja(t,!0,this.Ma)}function ja(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fa=0,Ua=1;function Va(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ba(t){this.f=t}function qa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Ha,this.g=ht(t.secureTokenHeaders||Ka),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Ga,this.a=ht(t.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==fr(),!(n=a.XMLHttpRequest||n&&Ja.INTERNAL.node&&Ja.INTERNAL.node.XMLHttpRequest)&&!hr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new oa(self):pr()?this.f=new Ba(n):this.f=new zo,this.b=null}E(Va,P),E(Ba,Vo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var Wa,za="idToken",Ha=new Pr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Ga=new Pr(3e4,6e4),$a={"Content-Type":"application/json"};function Ya(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e&&(t.l=Xa("https://securetoken.googleapis.com/v1/token",e),t.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xa("https://identitytoolkit.googleapis.com/v2/",e))}function Xa(t,e){return t=xn(t),e=xn(e.url),t.c=t.a+t.c,Cn(t,e.f),t.a=e.a,On(t,e.g),t.toString()}function Za(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ts(t,e,n,r,i,o,s){var u;(t=((u=yr(u=br())==vr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||zt&&te&&!(9<te))&&!hr()?(Wa=Wa||new de((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[ns]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ka(t,null,e,void 0)}(Ma(Tt(es,{onload:ns})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),b(t.o,t)):b(t.u,t))(e,n,r,i,o,s)}qa.prototype.S=function(){return this.b},qa.prototype.u=function(t,e,n,r,i,o){if(hr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ha(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),dn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ia(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),vn(u,"ready",(function(){s&&clearTimeout(s),je(this)})),vn(u,"timeout",(function(){s&&clearTimeout(s),je(this),e&&e(null)})),va(u,t,n,r,i)};var es=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(t,e,n,r,i,o,a){var s=xn(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Nn(s,c,i[c]);return new de((function(e,n){ts(t,s.toString(),(function(t){t?t.error?n(Js(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:Yn(Or(i)),t.a,t.m.get())}))}function is(t){if("string"!=typeof(t=t.email)||!sr.test(t))throw new I("invalid-email")}function os(t){"email"in t&&is(t)}function as(t){if(!t[za]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ht(t));throw new I("internal-error")}}function ss(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}qa.prototype.o=function(t,e,n,r,i){var o=this;Wa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qa.prototype.yb=function(){return Qs(this,Fs,{})},qa.prototype.Ab=function(t,e){return Qs(this,Ls,{idToken:t,email:e})},qa.prototype.Bb=function(t,e){return Qs(this,js,{idToken:t,password:e})};var us={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function cs(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ls(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function hs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Hn(t=new Bn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function fs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Uo(t)):t.errorMessage&&(e=Xs(t.errorMessage)),e)throw e;as(t)}function ps(t,e){return e.returnIdpCredential=!0,Qs(t,Bs,e)}function ds(t,e){return e.returnIdpCredential=!0,Qs(t,Ws,e)}function vs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Qs(t,qs,e)}function ys(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=qa.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ct(us,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Qs(this,Ls,n)},t.ub=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Qs(this,xs,t)},t.vb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Qs(this,ks,t)},t.tb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Qs(this,Ns,t)},t.Db=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Qs(this,As,t)},t.eb=function(t){return Qs(this,Ks,t)},t.mb=function(t,e){return Qs(this,Ds,{oobCode:t,newPassword:e})},t.Qa=function(t){return Qs(this,ms,{oobCode:t})},t.ib=function(t){return Qs(this,gs,{oobCode:t})};var gs={endpoint:"setAccountInfo",B:ys,Z:"email",C:!0},ms={endpoint:"resetPassword",B:ys,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},C:!0},bs={endpoint:"signupNewUser",B:function(t){if(is(t),!t.password)throw new I("weak-password")},F:as,U:!0,C:!0},ws={endpoint:"createAuthUri",C:!0},_s={endpoint:"deleteAccount",M:["idToken"]},Es={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new I("internal-error")}},Ts={endpoint:"emailLinkSignin",M:["email","oobCode"],B:is,F:as,U:!0,C:!0},Is={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:is,F:as,U:!0},Ss={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:cs,F:as,C:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:cs,F:as,C:!0,Na:!0},Os={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");is(t)},Z:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",C:!0},xs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");is(t)},Z:"email",C:!0},Ps={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Rs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Ds={endpoint:"resetPassword",B:ys,Z:"email",C:!0},Ms={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:os,U:!0},js={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(os(t),!t.password)throw new I("weak-password")},F:as,U:!0},Fs={endpoint:"signupNewUser",F:as,U:!0,C:!0},Us={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},Vs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,Na:!0},Bs={endpoint:"verifyAssertion",B:ls,Xa:hs,F:fs,U:!0,C:!0},qs={endpoint:"verifyAssertion",B:ls,Xa:hs,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Xs(t.errorMessage);as(t)},U:!0,C:!0},Ws={endpoint:"verifyAssertion",B:function(t){if(ls(t),!t.idToken)throw new I("internal-error")},Xa:hs,F:fs,U:!0},zs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new I("invalid-custom-token")},F:as,U:!0,C:!0},Hs={endpoint:"verifyPassword",B:function(t){if(is(t),!t.password)throw new I("wrong-password")},F:as,U:!0,C:!0},Ks={endpoint:"verifyPhoneNumber",B:ss,F:as,C:!0},Gs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new I("internal-error");ss(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Uo(t);as(t)}},$s={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ss,F:as,C:!0},Ys={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[za]^!!t.refreshToken)throw new I("internal-error")},C:!0,Na:!0};function Qs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return Ee(new I("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return _e(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),rs(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new I("internal-error");return r[e.Z]}))}function Xs(t){return Js({error:{errors:[{message:t}],code:400,message:t}})}function Js(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new I(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",pt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new I(i[n],e);return!e&&t&&(e=Cr(t)),new I("internal-error",e)}function Zs(t){var e;this.b=t,this.a=null,this.qb=(e=this,(ru||(ru=new de((function(t,e){function n(){xr(),wr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){xr(),e(Error("Network Error"))},timeout:eu.get()})}var r;wr("gapi.iframes.Iframe")?t():wr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){wr("gapi.load")?n():e(Error("Network Error"))},_e(Ma(r=Tt(tu,{onload:r}))).s((function(){e(Error("Network Error"))})))})).s((function(t){throw ru=null,t})))).then((function(){return new de((function(t,n){wr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var tu=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Pr(3e4,6e4),nu=new Pr(5e3,15e3),ru=null;function iu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Pn((t=xn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Pn("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function ou(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(t){try{return Ja.app(t).auth().Ga()}catch(t){return[]}}function su(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function uu(t){var e=er();return Qs(t,Ps,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=xn(e)).f,r=r.a,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?xn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ar.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new jo(er())}))}function cu(t){return t.v||(t.v=ur().then((function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=au(t.b),(i=new iu(t.o,t.g,t.b,t.f)).f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()),t.m=new Zs(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ro(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_e(n)}return n.status="ERROR",_e(n)}))}(t)}))),t.v}function lu(t){return t.l||(t.A=t.c?mr(t.c,au(t.b)):null,t.l=new qa(t.g,A(t.i),t.A),t.f&&Qa(t.l,t.f)),t.l}function hu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new ou(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ht(u||null),t.f=c,t.xb(l).toString()}function fu(t){if(this.a=t||Ja.INTERNAL.reactNative&&Ja.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function pu(t){this.b=t,this.a={},this.f=b(this.c,this)}iu.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):zn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):zn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):zn(this.a.b,"fw"),this.a.toString()},ou.prototype.xb=function(t){return this.h=t,this},ou.prototype.toString=function(){var t;if(Nn(t=this.m?Pn((t=xn(this.m.url)).f,t.a,t.g,"/emulator/auth/handler"):Pn("https",this.u,null,"/__/auth/handler"),"apiKey",this.o),Nn(t,"appName",this.c),Nn(t,"authType",this.v),this.a.isOAuthProvider){var e,n=this.a;try{var r=Ja.app(this.c).auth().ka()}catch(t){r=null}for(e in n.nb=r,Nn(t,"providerId",this.a.providerId),n=Or((r=this.a).Hb))n[e]=n[e].toString();e=r.Pc,n=ht(n);for(var i=0;i<e.length;i++){var o=e[i];o in n&&delete n[o]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),lt(n)||Nn(t,"customParameters",Cr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Nn(t,"scopes",r.join(",")),this.l?Nn(t,"redirectUrl",this.l):zn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):zn(t.b,"eventId"),this.i?Nn(t,"v",this.i):zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!An(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):zn(t.b,"tid"),this.f?Nn(t,"eid",this.f):zn(t.b,"eid"),(a=au(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=su.prototype).Nb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){var n,r;r={type:"webStorageSupport"},cu(n=o).then((function(){return t=n.m,e=r,t.qb.then((function(){return new de((function(n){t.a.send(e.type,e,n,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&ir(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return e=t,new de((function(t){return function n(){mn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!a)return mn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=br();return!Sr(t)&&!Ar(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return Ee(new I("popup-blocked"));if(a&&!Sr())return this.la().s((function(e){ir(t),i(e)})),r(),_e();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw ir(t),i(e),e}));return r(),e})).then((function(){xo(n),a||nr(hu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then((function(){xo(e),nr(hu(i.o,i.g,i.b,t,e,er(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return cu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new I("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){G(this.h,(function(e){return e==t}))},(t=fu.prototype).get=function(t){return _e(this.a.getItem(t)).then((function(t){return t&&kr(t)}))},t.set=function(t,e){return _e(this.a.setItem(t,Cr(e)))},t.T=function(t){return _e(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,vu=[];function yu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gu(t){this.a=t}function mu(t){this.c=t,this.b=!1,this.a=[]}function bu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ee(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new de((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return wu(t,c),e})).s((function(e){throw wu(t,c),e}))}function wu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e})))}function _u(){if(!Su())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.o=!1,this.h=null;var t,e,n,r=this;hr()&&self?(this.m=(n=hr()?self:null,B(vu,(function(t){t.b==n&&(e=t)})),e||(e=new pu(n),vu.push(e)),e),yu(this.m,"keyChanged",(function(t,e){return Au(r).then((function(t){return 0<t.length&&B(r.a,(function(e){e(t)})),{keyProcessed:H(t,e.key)}}))})),yu(this.m,"ping",(function(){return _e(["keyChanged"])}))):((t=a.navigator)&&t.serviceWorker?_e().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):_e(null)).then((function(t){(r.h=t)&&(r.g=new mu(new gu(t)),bu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&H(t[0].value,"keyChanged")&&(r.o=!0)})).s((function(){})))}))}function Eu(t){return new de((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):(i=t,new de((function(t,e){var n=i.v.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return Eu(t)})).then((function(t){e(t)})).s((function(t){n(t)})))}}))}function Tu(t){return t.i||(t.i=Eu(t)),t.i}function Iu(t,e){var n=0;return new de((function r(i,o){Tu(t).then(e).then(i).s((function(e){return 3<++n?void o(e):Tu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)}))}))}))}function Su(){try{return a.indexedDB}catch(t){return}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ku(t){return new de((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Nu(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?bu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):_e();var n}function Au(t){return Tu(t).then((function(t){var e=Cu(Ou(t,!1));return e.getAll?ku(e.getAll()):new de((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function xu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then((function(){if(Su()){var t=Nr(),r="__sak"+t;return du=du||new _u,(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Ru(){this.a={},this.type="inMemory"}function Du(){if(!function(){var t="Node"==fr();if(!(t=Mu()||t&&Ja.INTERNAL.node&&Ja.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==fr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Mu()||Ja.INTERNAL.node.localStorage,this.type="localStorage"}function Mu(){try{var t=a.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Lu(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==fr();if(!(t=Fu()||t&&Ja.INTERNAL.node&&Ja.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==fr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Fu()||Ja.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var t=a.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Uu(){var t={};t.Browser=qu,t.Node=Wu,t.ReactNative=zu,t.Worker=Hu,this.a=t[fr()]}pu.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],B(i,(function(n){e.push(_e().then((function(){return n(t.origin,t.data.data)})))})),Ie(e).then((function(e){var i=[];B(e,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},gu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mu.prototype.close=function(){for(;0<this.a.length;)wu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n=this,r=!1;return Iu(this,(function(e){return ku((e=Cu(Ou(e,!0))).get(t))})).then((function(i){return Iu(n,(function(o){if(o=Cu(Ou(o,!0)),i)return i.value=e,ku(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,ku(o.add(a))}))})).then((function(){return n.c[t]=e,Nu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Iu(this,(function(e){return ku(Cu(Ou(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Iu(this,(function(r){return n=!0,e.b++,ku(Cu(Ou(r,!0)).delete(t))})).then((function(){return delete e.c[t],Nu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){var e;0==this.a.length&&(xu(e=this),function t(){e.f=setTimeout((function(){e.l=Au(e).then((function(t){0<t.length&&B(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&xu(this)},(t=Pu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Ru.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.T=function(t){return delete this.a[t],_e()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return _e().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&tn(a.window,"storage",t)},t.ia=function(t){a.window&&rn(a.window,"storage",t)},(t=Lu.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.T=function(){return _e()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return _e().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Vu,Bu,qu={D:Du,ab:ju},Wu={D:Du,ab:ju},zu={D:fu,ab:Lu},Hu={D:Du,ab:Lu},Ku={qd:"local",NONE:"none",sd:"session"};function Gu(){var t=!(Ar(br())||!lr()),e=Sr(),n=_r();this.v=t,this.h=e,this.l=n,this.a={},t=Vu=Vu||new Uu;try{this.g=!tr()&&Lr()||!a.indexedDB?new t.a.D:new Pu(new(hr()?Ru:t.a.D))}catch(t){this.g=new Ru,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new Ru}this.m=new Ru,this.f=b(this.Xb,this),this.b={}}function $u(){return Bu=Bu||new Gu}function Yu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Qu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Xu(t,e,n){return n=Qu(e,n),"local"==e.D&&(t.b[n]=null),Yu(t,e.D).T(n)}function Ju(t){t.c&&(clearInterval(t.c),t.c=null)}function Zu(t){this.a=t,this.b=$u()}(t=Gu.prototype).get=function(t,e){return Yu(this,t.D).get(Qu(t,e))},t.set=function(t,e,n){var r=Qu(t,n),i=this,o=Yu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=Qu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(Yu(this,"local").ca(this.f),this.h||(tr()||!Lr())&&a.indexedDB||!this.l||(Ju(r=this),r.c=setInterval((function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new We({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Xb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Qu(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Yu(this,"local").ia(this.f),Ju(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Yu(this,"local").ia(this.f):Ju(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},zt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var tc,ec={name:"authEvent",D:"local"};function nc(){this.a=$u()}function rc(t,e){this.b=ic,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===tc&&(tc=a.Int32Array?new Int32Array(hc):hc),this.reset()}E(rc,(function(){this.b=-1}));for(var ic=64,oc=ic-1,ac=[],sc=0;sc<oc;sc++)ac[sc]=0;var uc=$(128,ac);function cc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|tc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function lc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(cc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(cc(t),i=0)}}t.c=i,t.g+=n}rc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var hc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fc(){rc.call(this,8,pc)}E(fc,rc);var pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new nc,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vc(t){return new I("invalid-cordova-configuration",t)}function yc(t){var e=new fc;lc(e,t),t=[];var n=8*e.g;e.c<56?lc(e,uc,56-e.c):lc(e,uc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(cc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function mc(t){return t.f||(t.f=t.la().then((function(){return new de((function(e){function n(t){o=!0,s&&s.cancel(),bc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=Qi(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=kr(An(n=xn(o),"firebaseError")||null))?S(n):null)?new Po(e.c,e.b,null,null,n,null,e.S()):new Po(e.c,e.b,o,e.f,null,null,e.S())),o=n||i),gc(r,o)}))}var r,i,o,s,u;t.Ea((function n(r){return e(r),t.Ra(n),!1})),r=t,i=new Po("unknown",null,null,null,new I("no-auth-event")),o=!1,s=mn(500).then((function(){return bc(r).then((function(){o||gc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(wr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},Lo=Lo||new Do,function(t){var e=Lo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=wr("universalLinks.subscribe",a))&&t(null,e.b))}(n)}))}))),t.f}function bc(t){var e,n=null;return(e=t.g).b.get(ec,e.a).then(Ro).then((function(e){return n=e,Xu((e=t.g).b,ec,e.a)})).then((function(){return n}))}function wc(t){this.a=t,this.b=$u()}(t=dc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(cr(void 0)?ur().then((function(){return new de((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof wr("universalLinks.subscribe",a))throw vc("cordova-universal-links-plugin-fix is not installed");if(void 0===wr("BuildInfo.packageName",a))throw vc("cordova-plugin-buildinfo is not installed");if("function"!=typeof wr("cordova.plugins.browsertab.openUrl",a))throw vc("cordova-plugin-browsertab is not installed");if("function"!=typeof wr("cordova.InAppBrowser.open",a))throw vc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Nb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),_e()},t.Lb=function(){return Ee(new I("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ee(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_e().then((function(){return xo(e),mc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Po(e,r,null,o,new I("no-auth-event"),null,i),u=wr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=wr("BuildInfo.displayName",a),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!br().toLowerCase().match(/android/))return Ee(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=yc(o),l.sessionId=o;var h=hu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(ec,s.w(),e)})).then((function(){var e=wr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=wr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=wr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");e=br(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new de((function(t,e){u=function(){var e=wr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||mn(2e3).then((function(){e(new I("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return bc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),mc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Po("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Ra=function(t){G(this.b,(function(e){return e==t}))};var _c={name:"pendingRedirect",D:"session"};function Ec(t){return Xu(t.b,_c,t.a)}function Tc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=b(this.o,this),this.b=new Fc,this.A=new Wc,this.g=new wc(Lc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Ic(this.O,this.m,this.v,C,this.G)}function Ic(t,e,n,r,i){var o=Ja.SDK_VERSION||null;return new(cr()?dc:su)(t,e,n,o,r,i)}function Sc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Cc(t){t.a.Wb()&&Sc(t).s((function(e){var n=new Po("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Pc(e)&&t.o(n)})),t.a.Sb()||Uc(t.b)}function Oc(t,e){H(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(_c,e.a).then((function(t){return"pending"==t})).then((function(e){e?Ec(t.g).then((function(){Sc(t).s((function(e){var n=new Po("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Pc(e)&&t.o(n)}))})):Cc(t)})).s((function(){Cc(t)}))}function kc(t,e){G(t.h,(function(t){return t==e}))}Tc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Ic(this.O,this.m,this.v,null,this.G),this.i={}},Tc.prototype.o=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return Uc(this.b),e};var Nc=new Pr(2e3,1e4),Ac=new Pr(3e4,6e4);function xc(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Pc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Rc(t,e,n,r,i){var o,a;return(a=t.g).b.set(_c,"pending",a.a).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Pc(e))throw new I("operation-not-supported-in-this-environment");return o=e,Ec(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new de((function(){})):Ec(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Dc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Nc.get())}Tc.prototype.qa=function(){return this.b.qa()};var Mc={};function Lc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function jc(t,e,n,r){var i=Lc(e,n,r);return Mc[i]||(Mc[i]=new Tc(t,e,n,r)),Mc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(t){t.g||(t.g=!0,qc(t,!1,null,null))}function Vc(t){t.g&&!t.i&&qc(t,!1,null,null)}function Bc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bc(t,n):Bc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function zc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Hc(t,e){this.a=e,Br(this,"verificationId",t)}function Kc(t,e,n,r){return new ko(t).eb(e,n).then((function(t){return new Hc(t,r)}))}function Gc(t){var e=Li(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qr(this,{token:t,expirationTime:Mr(1e3*e.exp),authTime:Mr(1e3*e.auth_time),issuedAtTime:Mr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function $c(t,e,n){var r=e&&e[Qc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Xi(null,r),this.b=[];var i=this;B(e[Yc]||[],(function(t){(t=Kr(t))&&i.b.push(t)})),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(qc(this,!0,null,t.a),_e()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){qc(t,s,e,null)})).s((function(e){qc(t,s,null,e)}))}(this,t,e):Ee(new I("invalid-auth-event")):(qc(this,!1,null,null),_e())):Ee(new I("invalid-auth-event"))},Fc.prototype.qa=function(){var t=this;return new de((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new I("timeout"),r.a&&r.a.cancel(),r.a=mn(Ac.get()).then((function(){r.b||(r.g=!0,qc(r,!0,null,i))})))}))},Wc.prototype.h=function(t,e){var n,r,i,o,a;t?(n=t.c,r=t.b,t.a?(e.ma(t.c,null,t.a,t.b),_e()):e.Fa(n,r)?(i=e,o=(t=t).b,a=t.c,i.Fa(a,o)(t.g,t.f,t.S(),t.i).then((function(t){i.ma(a,t,null,o)})).s((function(t){i.ma(a,null,t,o)}))):Ee(new I("invalid-auth-event"))):Ee(new I("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Yc="mfaInfo",Qc="mfaPendingCredential";function Xc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new $c(t,e,n),Br(this,"resolver",this.b)}function Jc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Xc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Zc(){}function tl(t){Br(this,"factorId",t.fa),this.a=t}function el(t){if(tl.call(this,t),this.a.fa!=ko.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nl(t,e){for(var n in qe.call(this,t),e)this[n]=e[n]}function rl(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),tn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Yr]=t.uid),t.displayName&&(r[Gr]=t.displayName),t.enrollmentTime&&(r[$r]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Qr]=t.phoneNumber);try{e=new Xr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),il(this,n)}function il(t,e){t.b=e,Br(t,"enrolledFactors",e)}function ol(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function sl(t){this.c=t,this.b=this.a=null}function ul(t){return t.b&&1e3*t.b.c||0}function cl(t,e){var n=e.refreshToken;t.b=Mi(e[za]||""),t.a=n}function ll(t,e){return n=t.c,r=e,new de((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?ts(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e(Js(n)):n.access_token&&n.refresh_token?t(n):e(new I("internal-error")):e(new I("network-request-failed"))}),"POST",Wn(r).toString(),n.g,n.v.get()):e(new I("internal-error"))})).then((function(e){return t.b=Mi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}function hl(t,e){this.a=t||null,this.b=e||null,qr(this,{lastSignInTime:Mr(e||null),creationTime:Mr(t||null)})}function fl(t,e,n,r,i,o){qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r,i=Ja.SDK_VERSION?mr(Ja.SDK_VERSION):null;this.a=new qa(this.l,A(C),i),t.emulatorConfig&&Qa(this.a,t.emulatorConfig),this.b=new sl(this.a),_l(this,e[za]),cl(this.b,e),Br(this,"refreshToken",this.b.a),Il(this,n||{}),pn.call(this),this.P=!1,this.o&&Er()&&(this.i=jc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=(r=this,new ol((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=ul(r.b)-_()-3e5;return 0<t?t:0}))),this.$=b(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Qa(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){yl(o,t.f)},this.aa=null,this.N=new rl(this,n),Br(this,"multiFactor",this.N)}function dl(t,e){t.ba&&rn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&tn(e,"languageCodeChanged",t.Ba)}function vl(t,e){t.W&&rn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&tn(e,"emulatorConfigChanged",t.za)}function yl(t,e){t.X=e,Za(t.a,Ja.SDK_VERSION?mr(Ja.SDK_VERSION,t.X):null)}function gl(t,e){t.aa&&rn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&tn(e,"frameworkChanged",t.Aa)}function ml(e){try{return Ja.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function bl(t){t.A||t.u.b||(t.u.start(),rn(t,"tokenChanged",t.$),tn(t,"tokenChanged",t.$))}function wl(t){rn(t,"tokenChanged",t.$),t.u.stop()}function _l(t,e){t.ya=e,Br(t,"_lat",e)}function El(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then((function(){return t}))}function Tl(t){t.i&&!t.P&&(t.P=!0,Oc(t.i,t))}function Il(t,e){qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sl(){}function Cl(t){return _e().then((function(){if(t.A)throw new I("app-deleted")}))}function Ol(t){return W(t.providerData,(function(t){return t.providerId}))}function kl(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Al(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function xl(t,e){var n,r;t!=e&&(qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Br(t,"metadata",new hl((r=e.metadata).a,r.b)):Br(t,"metadata",new hl),B(e.providerData,(function(e){kl(t,e)})),n=t.b,r=e.b,n.b=r.b,n.a=r.a,Br(t,"refreshToken",t.b.a),il(t.N,e.N.b))}function Pl(t){return t.I().then((function(e){var n,r,i=t.isAnonymous;return r=e,Qs((n=t).a,Os,{idToken:r}).then(b(n.Jc,n)).then((function(){return i||Al(t,"isAnonymous",!1),e}))}))}function Rl(t,e){e[za]&&t.ya!=e[za]&&(cl(t.b,e),t.dispatchEvent(new nl("tokenChanged")),_l(t,e[za]),Al(t,"refreshToken",t.b.a))}function Dl(t,e){return Pl(t).then((function(){if(H(Ol(t),e))return El(t).then((function(){throw new I("provider-already-linked")}))}))}function Ml(t,e,n){return Wr({user:t,credential:Ao(e),additionalUserInfo:e=Bi(e),operationType:n})}function Ll(t,e){return Rl(t,e),t.reload().then((function(){return t}))}function jl(t,e,n,r,i){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ee(t.f);var o=Vi(n.providerId),a=Nr(t.uid+":::"),s=null;(!Sr()||lr())&&t.o&&n.isOAuthProvider&&(s=hu(t.o,t.l,t.m,e,n,null,a,Ja.SDK_VERSION||null,null,null,t.tenantId));var u=or(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Ul(t),!i)return t.I().then((function(){}))})).then((function(){return xc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new de((function(n,r){t.ma(e,null,new I("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=a,t.c=Dc(t.i,t,e,u,a)}))})).then((function(t){return u&&ir(u),t?Wr(t):null})).s((function(t){throw u&&ir(u),t})),Vl(t,r,i)}function Fl(t,e,n,r,i){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ee(t.f);var o=null,a=Nr(t.uid+":::");return r=r().then((function(){if(Ul(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,El(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Wl,t.w(),e.a)),e})).then((function(){return Rc(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.ha)return zl(t.ha);throw o})).then((function(){if(o)throw o})),Vl(t,r,i)}function Ul(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Vl(t,e,n){var r,i=(e=e,n=n,(r=t).f&&!n?(e.cancel(),Ee(r.f)):e.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.f||r.dispatchEvent(new nl("userInvalidated")),r.f=t),t})));return t.G.push(i),i.na((function(){K(t.G,i)})),i.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),ml(t),b(t.ic,t))),n||e}))}function Bl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new pl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&kl(r,Wr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function ql(t){this.a=t,this.b=$u()}$c.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=ht(e.f);return delete n[Yc],delete n[Qc],pt(n,t),e.g(n)}))},E(Xc,I),Zc.prototype.rb=function(t,e,n){return e.type==Ji?(o=this,a=t,s=n,e.Ha().then((function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),pt(t,{phoneVerificationInfo:Oo(o.a)}),Qs(a,Ss,t)}))):(r=this,i=t,e.Ha().then((function(t){return pt(t={mfaPendingCredential:t},{phoneVerificationInfo:Oo(r.a)}),Qs(i,Cs,t)})));var r,i,o,a,s},E(tl,Zc),E(el,tl),E(nl,qe),(t=rl.prototype).xc=function(t){var e;il(this,(t=t.gd,e=[],B(t.mfaInfo||[],(function(t){(t=Kr(t))&&e.push(t)})),e))},t.Qb=function(){return this.a.I().then((function(t){return new Xi(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Rl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Qs(r,Ys,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return il(e,r),Rl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},ol.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=mn(al(e,n)).then((function(){return t=a.document,e=null,Rr()||!t?_e():new de((function(n){e=function(){Rr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},ol.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ul(this)}},sl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new I("user-token-expired")):t||!this.b||_()>ul(this)-3e4?this.a?ll(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(pl,pn),pl.prototype.wa=function(t){this.pa=t,Ya(this.a,t)},pl.prototype.ka=function(){return this.pa},pl.prototype.Ga=function(){return Y(this.X)},pl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Br(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Vl(this,Cl(this).then((function(){return Pl(t).then((function(){return El(t)})).then(Sl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Gc(t)}))},t.I=function(t){var e=this;return Vl(this,Cl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.ya&&(_l(e,t.accessToken),e.dispatchEvent(new nl("tokenChanged"))),Al(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");Il(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?W(e,(function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)kl(this,n[r]);Al(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{gd:t}))},t.Kc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Vl(this,t.c(this.a,this.uid).then((function(t){return Rl(e,t),n=Ml(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Vl(this,Dl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ml(e,t,"link"),Ll(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Vl(this,Dl(this,"phone").then((function(){return Kc(ml(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Vl(this,_e().then((function(){return Kc(ml(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Vl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Rl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Vl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Rl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Vl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Rl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Cl(this);var e=this;return Vl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Rl(e,t),Al(e,"displayName",t.displayName||null),Al(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Br(t,"displayName",e.displayName),Br(t,"photoURL",e.photoURL))})),El(e)})).then(Sl))},t.bd=function(t){var e=this;return Vl(this,Pl(this).then((function(n){return H(Ol(e),t)?Qs(e.a,Es,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Ol(e),(function(t){n[t]||Nl(e,t)})),n[ko.PROVIDER_ID]||Br(e,"phoneNumber",null),El(e)})):El(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Vl(this,this.I().then((function(e){return Qs(t.a,_s,{idToken:e})})).then((function(){t.dispatchEvent(new nl("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");dl(t,null),vl(t,null),gl(t,null),t.G=[],t.A=!0,wl(t),Br(t,"refreshToken",null),t.i&&kc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return jl(this,"linkViaPopup",t,(function(){return Dl(e,t.providerId).then((function(){return El(e)}))}),!1)},t.Mc=function(t){return jl(this,"reauthViaPopup",t,(function(){return _e()}),!0)},t.Ec=function(t){var e=this;return Fl(this,"linkViaRedirect",t,(function(){return Dl(e,t.providerId)}),!1)},t.Nc=function(t){return Fl(this,"reauthViaRedirect",t,(function(){return _e()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,this.I().then((function(n){return ds(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ml(i,t,"link"),Ll(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,_e().then((function(){return eo(vs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ml(i,t,"reauthenticate"),Rl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Vl(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:xi(new _i(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Vl(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:xi(new _i(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Vl(this,t=eo(_e(t),n.uid).then((function(t){return e=Ml(n,t,"reauthenticate"),Rl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.N.w()),t};var Wl={name:"redirectUser",D:"session"};function zl(t){return Xu(t.b,Wl,t.a)}function Hl(t){var e,n,r,i;this.a=t,this.b=$u(),this.c=null,this.f=(n=$l("local"),r=$l("session"),i=$l("none"),function(t,e,n){var r=Qu(e,n),i=Yu(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(Gl,e.a).then((function(t){return t?$l(t):n}))}))}))})).then((function(t){return e.c=t,Kl(e,t.D)})).s((function(){e.c||(e.c=n)}))),this.b.addListener($l("local"),this.a,b(this.g,this))}function Kl(t,e){var n,r,i=[];for(n in Ku)Ku[n]!==e&&i.push(Xu(t.b,$l(Ku[n]),t.a));return i.push(Xu(t.b,Gl,t.a)),r=i,new de((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)Te(r[s],w(o,s),a);else t(i)}))}Hl.prototype.g=function(){var t=this,e=$l("local");Jl(this,(function(){return _e().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Kl(t,"local").then((function(){t.c=e}))}))}))};var Gl={name:"persistence",D:"session"};function $l(t){return{name:"authUser",D:t}}function Yl(t,e){return Jl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Ql(t){return Jl(t,(function(){return Xu(t.b,t.c,t.a)}))}function Xl(t,e,n){return Jl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Bl(t||{})}))}))}function Jl(t,e){return t.f=t.f.then(e,e),t.f}function Zl(t){if(this.m=!1,Br(this,"settings",new zc),Br(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new I("invalid-api-key");var e,n,r,i,o,a;t=Ja.SDK_VERSION?mr(Ja.SDK_VERSION):null,this.a=new qa(this.app.options&&this.app.options.apiKey,A(C),t),this.R=[],this.u=[],this.P=[],this.ac=Ja.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=Ja.INTERNAL.createSubscribe(b(this.zc,this)),ah(this,null),this.l=new Hl(this.app.options.apiKey+":"+this.app.name),this.G=new ql(this.app.options.apiKey+":"+this.app.name),this.$=hh(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(Wl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Bl(t||{})}))}(t.G,t.app.options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),zl(t.G)}));return hh(t,e)}(e).then((function(){return Xl(e.l,n,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Yl(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:Ql(e.l)}))):null})).then((function(t){ah(e,t||null)})),hh(e,t))),this.i=hh(this,(r=this).$.then((function(){return ih(r)})).s((function(){})).then((function(){if(!r.m)return r.pa()})).s((function(){})).then((function(){var t;r.m||(r.ba=!0,(t=r.l).b.addListener($l("local"),t.a,r.pa))}))),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&Er()&&(i.gb=i.$.then((function(){var t;if(!i.m)return i.b=jc(o,a,i.app.name,i.f),Oc(i.b,i),uh(i)&&Tl(uh(i)),i.o&&(Tl(i.o),(t=i.o).wa(i.ka()),dl(t,i),yl(t=i.o,i.N),gl(t,i),Qa((t=i.o).a,i.f),vl(t,i),i.o=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,pn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null,this.N=[],this.f=null}function th(t){qe.call(this,"languageCodeChanged"),this.h=t}function eh(t){qe.call(this,"emulatorConfigChanged"),this.c=t}function nh(t){qe.call(this,"frameworkChanged"),this.f=t}function rh(t){return t.gb||Ee(new I("auth-domain-config-required"))}function ih(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=rh(t).then((function(){return t.b.qa()})).then((function(t){return t?Wr(t):null}));return hh(t,e)}function oh(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return r=n,i=e,o=t.G,a=t.Ga(),s=new pl(r,i),o&&(s.ha=o),a&&yl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(e){return uh(t)&&e.uid==uh(t).uid?xl(uh(t),e):(ah(t,e),Tl(e)),t.da(e)})).then((function(){lh(t)}))}function ah(t,e){var n,r;uh(t)&&(n=uh(t),r=t.Ba,G(n.R,(function(t){return t==r})),rn(uh(t),"tokenChanged",t.ya),rn(uh(t),"userDeleted",t.za),rn(uh(t),"userInvalidated",t.Aa),wl(uh(t))),e&&(e.R.push(t.Ba),tn(e,"tokenChanged",t.ya),tn(e,"userDeleted",t.za),tn(e,"userInvalidated",t.Aa),0<t.A&&bl(e)),Br(t,"currentUser",e),e&&(e.wa(t.ka()),dl(e,t),yl(e,t.N),gl(e,t),Qa(e.a,t.f),vl(e,t))}function sh(t,e){var n=null,r=null;return hh(t,e.then((function(e){return n=Ao(e),r=Bi(e),oh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Jc(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Wr({user:uh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function uh(t){return t.currentUser}function ch(t){return uh(t)&&uh(t)._lat||null}function lh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](ch(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](ch(t))}}function hh(t,e){return t.R.push(e),e.na((function(){K(t.R,e)})),e}function fh(){}function ph(){this.a={},this.b=1e12}Hl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Ku)if(Ku[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(fr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Su()&&"none"!==t)throw n;break;default:if(!_r()&&"none"!==t)throw n}}(t),Jl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Kl(n,t)})).then((function(){if(n.c=$l(t),e)return n.b.set(n.c,e,n.a)})):_e()}))},E(Zl,pn),E(th,qe),E(eh,qe),E(nh,qe),(t=Zl.prototype).wb=function(t){return hh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ya(this.a,this.aa),this.dispatchEvent(new th(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Dr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&ur().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Qa(this.a,this.f),this.dispatchEvent(new eh(this.f))}},t.Fc=function(t){this.N.push(t),Za(this.a,Ja.SDK_VERSION?mr(Ja.SDK_VERSION,this.N):null),this.dispatchEvent(new nh(this.N))},t.Ga=function(){return Y(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:uh(this)&&uh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return sh(i,ps(i.a,o))}))},t.Wc=function(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=this,n=Vi(t.providerId),r=Nr(),i=null;(!Sr()||lr())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=hu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,Ja.SDK_VERSION||null,null,null,this.S(),this.f));var o=or(i,n&&n.ua,n&&n.ta);return hh(this,n=rh(this).then((function(n){return xc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new de((function(t,n){e.ma("signInViaPopup",null,new I("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Dc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ir(o),t?Wr(t):null})).s((function(t){throw o&&ir(o),t})))},t.Xc=function(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=this;return hh(this,rh(this).then((function(){return Jl(t=e.l,(function(){return t.b.set(Gl,t.c.D,t.a)}));var t})).then((function(){return Rc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return ih(this).then((function(e){return t.b&&Vc(t.b.b),e})).s((function(e){throw t.b&&Vc(t.b.b),e}))},t.cd=function(t){if(!t)return Ee(new I("null-user"));if(this.W!=t.tenantId)return Ee(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=t,i=n,o=e.G,a=e.Ga(),s=r.b,(n={})[za]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new pl(i||{apiKey:r.l,authDomain:r.o,appName:r.m},n),o&&(i.ha=o),a&&yl(i,a),xl(i,r),i);return hh(this,this.i.then((function(){if(e.app.options.apiKey!=t.l)return u.reload()})).then((function(){return uh(e)&&t.uid==uh(e).uid?(xl(uh(e),t),e.da(t)):(ah(e,u),Tl(u),e.da(u))})).then((function(){lh(e)})))},t.zb=function(){var t=this;return hh(this,this.i.then((function(){return t.b&&Vc(t.b.b),uh(t)?(ah(t,null),Ql(t.l).then((function(){lh(t)}))):_e()})))},t.Yc=function(){var t=this;return Xl(this.l,this.app.options.authDomain).then((function(e){if(!t.m){var n,r;if((r=uh(t)&&e)&&(r=uh(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return xl(uh(t),e),uh(t).I();(uh(t)||e)&&(ah(t,e),e&&(Tl(e),e.ha=t.G),t.b&&Oc(t.b,t),lh(t))}}))},t.da=function(t){return Yl(this.l,t)},t.kc=function(){lh(this),this.da(uh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return sh(e,_e(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(uh(e))}))},t.zc=function(t){var e,n,r=this;n=function(){t.next(uh(r))},(e=this).P.push(n),hh(e,e.i.then((function(){!e.m&&H(e.P,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(ch(e)))})))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(uh(r)):"function"==typeof t.next&&t.next(uh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return hh(this,this.i.then((function(){return uh(e)?uh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return sh(e,Qs(e.a,zs,{token:t}))})).then((function(t){var n=t.user;return Al(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return sh(n,Qs(n.a,Hs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return sh(n,Qs(n.a,bs,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return sh(e,t.ja(e.a))}))},t.Rc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=uh(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return sh(t,t.a.yb()).then((function(e){var n=e.user;return Al(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return uh(this)&&uh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&uh(this)&&bl(uh(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),this.A<0&&(this.A=0),0==this.A&&uh(this)&&wl(uh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),hh(this,this.i.then((function(){e.m||H(e.u,t)&&t(ch(e))})))},t.removeAuthTokenListener=function(t){G(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener($l("local"),t.a,this.pa),this.b&&(kc(this.b,this),Vc(this.b.b)),Promise.resolve()},t.gc=function(t){return hh(this,Qs(this.a,ws,{identifier:t,continueUri:Tr()?er():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.Ac=function(t){return!!Io(t)},t.vb=function(t,e){var n=this;return hh(this,_e().then((function(){var t=new _i(e);if(!t.c)throw new I("argument-error",Ii+" must be true when sending sign in link to email");return xi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return hh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return hh(this,this.a.Qa(t).then((function(t){return new Jr(t)})))},t.ib=function(t){return hh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return hh(this,_e().then((function(){return void 0===e||lt(e)?{}:xi(new _i(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return hh(this,Kc(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return hh(this,_e().then((function(){var r=e||er(),i=To(t,r);if(!(r=Io(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new I("tenant-id-mismatch");return n.Za(i)})))},fh.prototype.render=function(){},fh.prototype.reset=function(){},fh.prototype.getResponse=function(){},fh.prototype.execute=function(){};var dh=null;function vh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function gh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ne(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():tn(this.f,"click",this.i)}function mh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function wh(){}ph.prototype.render=function(t,e){return this.a[this.b.toString()]=new gh(t,e),this.b++},ph.prototype.reset=function(t){var e=vh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},ph.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},ph.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},gh.prototype.getResponse=function(){return mh(this),this.b},gh.prototype.execute=function(){mh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},gh.prototype.delete=function(){mh(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)},Br(bh,"FACTOR_ID","phone"),wh.prototype.g=function(){return _e(dh=dh||new ph)},wh.prototype.c=function(){};var _h=null;function Eh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new Pr(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new de((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Ih.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new I("internal-error"))),delete a[e.a]},_e(Ma(Tt(Th,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Eh.prototype.c=function(){this.b--};var Sh=null;function Ch(t,e,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s=s?_h=_h||new wh:Sh=Sh||new Eh,this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ah],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(e)||!this.i&&ne(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new qa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(t){var e;xh(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=wr(c,a))&&e(t)};var l=this.a[kh];this.a[kh]=function(){var t;xh(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=wr(l,a))&&t()}}var Oh="callback",kh="expired-callback",Nh="sitekey",Ah="size";function xh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ph(t,e){return t.h.push(e),e.na((function(){K(t.h,e)})),e}function Rh(t){if(t.A)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dh(t,e,n){var r=!1;try{this.b=n||Ja.app()}catch(t){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ja.SDK_VERSION?mr(Ja.SDK_VERSION,o):null,Ch.call(this,n,t,e,(function(){try{var e=i.b.auth().ka()}catch(t){e=null}return e}),o,A(C),r)}function Mh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Lh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=Ch.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ph(this,_e().then((function(){if(Tr()&&!hr())return ur();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,Qs(t.o,Rs,{})})).then((function(e){t.a[Nh]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Rh(this);var t=this;return Ph(this,this.Ia().then((function(){var e,n;return null===t.c&&(n=t.m,t.i||(e=ne(n),n=se("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){Rh(this);var t=this;return Ph(this,this.render().then((function(e){return new de((function(n){var r,i=t.g.getResponse(e);i?n(i):(r=function(e){var i;e&&(i=r,G(t.l,(function(t){return t==i})),n(e))},t.l.push(r),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){Rh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Rh(this),this.A=!0,this.v.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=ne(this.m);t=e.firstChild;)e.removeChild(t)},E(Dh,Ch);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Uh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Vh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Bh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Wh(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}}function zh(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kh(t){return d(t)&&"string"==typeof t.uid}function Gh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function $h(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Yh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Mh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function Xh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Yh(Zl.prototype,{ib:{name:"applyActionCode",j:[jh("code")]},Qa:{name:"checkActionCode",j:[jh("code")]},mb:{name:"confirmPasswordReset",j:[jh("code"),jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[jh("email"),jh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[jh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[jh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[$h(Uh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[$h(Uh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[jh("email"),$h(Uh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[jh("email"),Uh("actionCodeSettings")]},wb:{name:"setPersistence",j:[jh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[qh()]},Sc:{name:"signInWithCustomToken",j:[jh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[jh("email"),jh("password")]},Uc:{name:"signInWithEmailLink",j:[jh("email"),jh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[jh("phoneNumber"),Gh()]},Wc:{name:"signInWithPopup",j:[zh()]},Xc:{name:"signInWithRedirect",j:[zh()]},cd:{name:"updateCurrentUser",j:[$h({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof pl)}},Bh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[jh("url")]},hd:{name:"verifyPasswordResetCode",j:[jh("code")]}}),Qh(Zl.prototype,{lc:{name:"languageCode",jb:$h(jh(),Bh(),"languageCode")},ti:{name:"tenantId",jb:$h(jh(),Bh(),"tenantId")}}),(Zl.Persistence=Ku).LOCAL="local",Zl.Persistence.SESSION="session",Zl.Persistence.NONE="none",Yh(pl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},pb:{name:"linkWithCredential",j:[qh()]},Cc:{name:"linkWithPhoneNumber",j:[jh("phoneNumber"),Gh()]},Dc:{name:"linkWithPopup",j:[zh()]},Ec:{name:"linkWithRedirect",j:[zh()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},sb:{name:"reauthenticateWithCredential",j:[qh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[jh("phoneNumber"),Gh()]},Mc:{name:"reauthenticateWithPopup",j:[zh()]},Nc:{name:"reauthenticateWithRedirect",j:[zh()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[$h(Uh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jh(null,!0)]},bd:{name:"unlink",j:[jh("provider")]},Ab:{name:"updateEmail",j:[jh("email")]},Bb:{name:"updatePassword",j:[jh("password")]},dd:{name:"updatePhoneNumber",j:[qh("phone")]},Cb:{name:"updateProfile",j:[Uh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[jh("email"),$h(Uh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(de.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Qh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Fh("appVerificationDisabledForTesting")}}),Yh(Hc.prototype,{confirm:{name:"confirm",j:[jh("verificationCode")]}}),Xh(to,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[so,_o,Co,io],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$h(jh(),Uh(),"json")]),Xh(Eo,"credential",(function(t,e){return new wo(t,e)}),[jh("email"),jh("password")]),Yh(wo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Yh(ho.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Xh(ho,"credential",fo,[$h(jh(),Uh(),"token")]),Xh(Eo,"credentialWithLink",To,[jh("email"),jh("emailLink")]),Yh(po.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Xh(po,"credential",vo,[$h(jh(),Uh(),"token")]),Yh(yo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Xh(yo,"credential",go,[$h(jh(),$h(Uh(),Bh()),"idToken"),$h(jh(),Bh(),"accessToken",!0)]),Yh(mo.prototype,{Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Xh(mo,"credential",bo,[$h(jh(),Uh(),"token"),jh("secret",!0)]),Yh(lo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},credential:{name:"credential",j:[$h(jh(),$h(Uh(),Bh()),"optionsOrIdToken"),$h(jh(),Bh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Yh(oo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Yh(no.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Xh(ko,"credential",No,[jh("verificationId"),jh("verificationCode")]),Yh(ko.prototype,{eb:{name:"verifyPhoneNumber",j:[$h(jh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,Ji)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,Zi)&&Kh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,Zi)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Gh()]}}),Yh(So.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Yh(I.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Yh(Fo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Yh(jo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Yh(Xc.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Yh($c.prototype,{Qc:{name:"resolveSignIn",j:[Wh()]}}),Yh(rl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[Wh(),jh("displayName",!0)]},ad:{name:"unenroll",j:[$h({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Kh},jh(),"multiFactorInfoIdentifier")]}}),Yh(Dh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xh(fi,"parseLink",wi,[jh("link")]),Xh(bh,"assertion",(function(t){return new el(t)}),[qh("phone")]),function(){if(void 0===Ja||!Ja.INTERNAL||!Ja.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ti,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zr,VERIFY_AND_CHANGE_EMAIL:ei,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zl,AuthCredential:to,Error:I};Xh(t,"EmailAuthProvider",Eo,[]),Xh(t,"FacebookAuthProvider",ho,[]),Xh(t,"GithubAuthProvider",po,[]),Xh(t,"GoogleAuthProvider",yo,[]),Xh(t,"TwitterAuthProvider",mo,[]),Xh(t,"OAuthProvider",lo,[jh("providerId")]),Xh(t,"SAMLAuthProvider",co,[jh("providerId")]),Xh(t,"PhoneAuthProvider",ko,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Zl)}}]),Xh(t,"RecaptchaVerifier",Dh,[$h(jh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Uh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Ja.app.App)}}]),Xh(t,"ActionCodeURL",fi,[]),Xh(t,"PhoneMultiFactorGenerator",bh,[]),Ja.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Zl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ja.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ja.registerVersion("@firebase/auth","0.15.2"),Ja.INTERNAL.extendNamespace({User:pl})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Za=(ts.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Zo(e))},ts.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:Jo(t)},ts.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},ts.prototype.prefixedName_=function(t){return this.prefix_+t},ts.prototype.toString=function(){return this.domStorage_.toString()},ts);function ts(t){this.domStorage_=t,this.prefix_="firebase:"}var es=(ns.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},ns.prototype.get=function(t){return ea(this.cache_,t)?this.cache_[t]:null},ns.prototype.remove=function(t){delete this.cache_[t]},ns);function ns(){this.cache_={},this.isInMemoryStorage=!0}function rs(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Ao(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new oa).update(e),t=t.digest(),Po.encodeByteArray(t)}function is(t,e){Ao(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(vs.logLevel=Na.VERBOSE,ms=vs.log.bind(vs),e&&ds.set("logging_enabled",!0)):"function"==typeof t?ms=t:(ms=null,ds.remove("logging_enabled"))}function os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+gs.apply(void 0,So(t));vs.error(n)}function as(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+gs.apply(void 0,So(t));throw vs.error(n),new Error(n)}function ss(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+gs.apply(void 0,So(t));vs.warn(n)}function us(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function cs(t,e){return t===e?0:t<e?-1:1}function ls(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zo(e))}function hs(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}var fs,ps=(Dr=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Za(e)}}catch(t){}return new es})("localStorage"),ds=Dr("sessionStorage"),vs=new Ma("@firebase/database"),ys=(fs=1,function(){return fs++}),gs=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?Zo(o):o,r+=" "}return r},ms=null,bs=!0,ws=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===bs&&(bs=!1,null===ms&&!0===ds.get("logging_enabled")&&is(!0)),ms&&(t=gs.apply(null,e),ms(t))},_s=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ws.apply(void 0,So([t],e))}},Es="[MIN_NAME]",Ts="[MAX_NAME]",Is=function(t,e){if(t===e)return 0;if(t===Es||e===Ts)return-1;if(e===Es||t===Ts)return 1;var n=xs(t),r=xs(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},Ss=function t(e){if("object"!=typeof e||null===e)return Zo(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Zo(r[o]),i+=":",i+=t(e[r[o]]);return i+"}"};function Cs(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function Os(t){var e,n,r,i;Ao(!us(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function ks(t){try{t()}catch(u){setTimeout((function(){throw ss("Exception was thrown by user callback.",u.stack||""),u}),Math.floor(0))}}function Ns(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var As=new RegExp("^-?(0*)\\d{1,10}$"),xs=function(t){return As.test(t)&&-2147483648<=(t=Number(t))&&t<=2147483647?t:null},Ps=(Object.defineProperty(Rs,"Empty",{get:function(){return new Rs("")},enumerable:!1,configurable:!0}),Rs.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Rs.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Rs.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new Rs(this.pieces_,t)},Rs.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Rs.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Rs.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},Rs.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},Rs.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new Rs(t,0)},Rs.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof Rs)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new Rs(e,0)},Rs.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Rs.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return Rs.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},Rs.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Is(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},Rs.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},Rs.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},Rs);function Rs(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Ds=(Object.defineProperty(Ms,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(Ms,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),Ms.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=va(t),this.checkValid_()},Ms.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=va(t),0<this.parts_.length&&--this.byteLength_},Ms.prototype.checkValid_=function(){if(this.byteLength_>Ms.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+Ms.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>Ms.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ms.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},Ms.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},Ms);function Ms(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=va(this.parts_[n]);this.checkValid_()}var Ls="firebaseio.com",js="websocket",Fs="long_polling",Us=(Vs.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},Vs.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Vs.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},Vs.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},Vs.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ps.set("host:"+this.host,this.internalHost))},Vs.prototype.connectionURL=function(t,e){var n;if(Ao("string"==typeof t,"typeof type must == string"),Ao("object"==typeof e,"typeof params must == object"),t===js)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Fs)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Cs(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},Vs.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},Vs.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},Vs);function Vs(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ps.get("host:"+t)||this.host}function Bs(t,e){var n=Zs(t),r=n.namespace;return"firebase.com"===n.domain&&as(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Us(n.host,n.secure,r,e,t,"",r!==n.subdomain),path:new Ps(n.pathString)}}function qs(t){return"string"==typeof t&&0!==t.length&&!tu.test(t)}function Ws(t){return"string"==typeof t&&0!==t.length&&!eu.test(t)}function zs(t){return null===t||"string"==typeof t||"number"==typeof t&&!us(t)||t&&"object"==typeof t&&ea(t,".sv")}function Hs(t,e,n,r,i){i&&void 0===n||ru(fa(t,e,i),n,r)}function Ks(t,e,n,r,i){if(!i||void 0!==n){var o=fa(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Cs(n,(function(t,e){if(t=new Ps(t),ru(o,e,r.child(t)),".priority"===t.getBack()&&!zs(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(t)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!qs(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ps.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}}function Gs(t,e,n,r){if(!r||void 0!==n){if(us(n))throw new Error(fa(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zs(n))throw new Error(fa(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function $s(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(fa(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ys(t,e,n,r){if(!(r&&void 0===n||qs(n)))throw new Error(fa(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Qs(t,e,n,r){if(!(r&&void 0===n||Ws(n)))throw new Error(fa(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Xs(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function Js(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!qs(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!Ws(r=(r=r)&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(fa(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var Zs=function(t){var e,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(l=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=To(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ss("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},tu=/[\[\].#$\/\u0000-\u001F\u007F]/,eu=/[\[\].#$\u0000-\u001F\u007F]/,nu=10485760,ru=function t(e,n,r){var i=r instanceof Ps?new Ds(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(us(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>nu/3&&va(n)>nu)throw new Error(e+"contains a string greater than "+nu+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(Cs(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!qs(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},iu=(ou.prototype.cancel=function(t){ha("OnDisconnect.cancel",0,1,arguments.length),pa("OnDisconnect.cancel",1,t,!0);var e=new Mo;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},ou.prototype.remove=function(t){ha("OnDisconnect.remove",0,1,arguments.length),Xs("OnDisconnect.remove",this.path_),pa("OnDisconnect.remove",1,t,!0);var e=new Mo;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},ou.prototype.set=function(t,e){ha("OnDisconnect.set",1,2,arguments.length),Xs("OnDisconnect.set",this.path_),Hs("OnDisconnect.set",1,t,this.path_,!1),pa("OnDisconnect.set",2,e,!0);var n=new Mo;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},ou.prototype.setWithPriority=function(t,e,n){ha("OnDisconnect.setWithPriority",2,3,arguments.length),Xs("OnDisconnect.setWithPriority",this.path_),Hs("OnDisconnect.setWithPriority",1,t,this.path_,!1),Gs("OnDisconnect.setWithPriority",2,e,!1),pa("OnDisconnect.setWithPriority",3,n,!0);var r=new Mo;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},ou.prototype.update=function(t,e){if(ha("OnDisconnect.update",1,2,arguments.length),Xs("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ss("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("OnDisconnect.update",1,t,this.path_,!1),pa("OnDisconnect.update",2,e,!0);var i=new Mo;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},ou);function ou(t,e){this.repo_=t,this.path_=e}var au=(su.prototype.toJSON=function(){return ha("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},su);function su(t,e){this.committed=t,this.snapshot=e}var uu,cu,lu,hu,fu=(uu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cu=0,lu=[],function(t){var e=t===cu;cu=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=uu.charAt(t%64),t=Math.floor(t/64);Ao(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===lu[r];r--)lu[r]=0;lu[r]++}else for(r=0;r<12;r++)lu[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=uu.charAt(lu[r]);return Ao(20===i.length,"nextPushId: Length should be 20."),i}),pu=(du.Wrap=function(t,e){return new du(t,e)},du);function du(t,e){this.name=t,this.node=e}function vu(){}vu.prototype.getCompare=function(){return this.compare.bind(this)},vu.prototype.indexedValueChanged=function(t,e){return t=new pu(Es,t),e=new pu(Es,e),0!==this.compare(t,e)},vu.prototype.minPost=function(){return pu.MIN};var yu,gu=(bo(mu,yu=K=vu),Object.defineProperty(mu,"__EMPTY_NODE",{get:function(){return hu},set:function(t){hu=t},enumerable:!1,configurable:!0}),mu.prototype.compare=function(t,e){return Is(t.name,e.name)},mu.prototype.isDefinedOn=function(t){throw xo("KeyIndex.isDefinedOn not expected to be called.")},mu.prototype.indexedValueChanged=function(t,e){return!1},mu.prototype.minPost=function(){return pu.MIN},mu.prototype.maxPost=function(){return new pu(Ts,hu)},mu.prototype.makePost=function(t,e){return Ao("string"==typeof t,"KeyIndex indexValue must always be a string."),new pu(t,hu)},mu.prototype.toString=function(){return".key"},mu);function mu(){return null!==yu&&yu.apply(this,arguments)||this}var bu,wu=new gu;function _u(t){return"number"==typeof t?"number:"+Os(t):"string:"+t}var Eu,Tu,Iu,Su,Cu=function(t){var e;t.isLeafNode()?(e=t.val(),Ao("string"==typeof e||"number"==typeof e||"object"==typeof e&&ea(e,".sv"),"Priority must be a string or number.")):Ao(t===bu||t.isEmpty(),"priority of unexpected type."),Ao(t===bu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ou=(Object.defineProperty(ku,"__childrenNodeConstructor",{get:function(){return Eu},set:function(t){Eu=t},enumerable:!1,configurable:!0}),ku.prototype.isLeafNode=function(){return!0},ku.prototype.getPriority=function(){return this.priorityNode_},ku.prototype.updatePriority=function(t){return new ku(this.value_,t)},ku.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:ku.__childrenNodeConstructor.EMPTY_NODE},ku.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:ku.__childrenNodeConstructor.EMPTY_NODE},ku.prototype.hasChild=function(){return!1},ku.prototype.getPredecessorChildName=function(t,e){return null},ku.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:ku.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},ku.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Ao(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,ku.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},ku.prototype.isEmpty=function(){return!1},ku.prototype.numChildren=function(){return 0},ku.prototype.forEachChild=function(t,e){return!1},ku.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},ku.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+_u(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?Os(this.value_):this.value_,this.lazyHash_=rs(t)),this.lazyHash_},ku.prototype.getValue=function(){return this.value_},ku.prototype.compareTo=function(t){return t===ku.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ku.__childrenNodeConstructor?-1:(Ao(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},ku.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=ku.VALUE_TYPE_ORDER.indexOf(e),i=ku.VALUE_TYPE_ORDER.indexOf(n);return Ao(0<=r,"Unknown leaf type: "+e),Ao(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},ku.prototype.withIndex=function(){return this},ku.prototype.isIndexed=function(){return!0},ku.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},ku.VALUE_TYPE_ORDER=["object","boolean","number","string"],ku);function ku(t,e){void 0===e&&(e=ku.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Ao(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Cu(this.priorityNode_)}function Nu(){return null!==Su&&Su.apply(this,arguments)||this}var Au=new(bo(Nu,Su=K),Nu.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority();return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},Nu.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Nu.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Nu.prototype.minPost=function(){return pu.MIN},Nu.prototype.maxPost=function(){return new pu(Ts,new Ou("[PRIORITY-POST]",Iu))},Nu.prototype.makePost=function(t,e){return t=Tu(t),new pu(e,new Ou("[PRIORITY-POST]",t))},Nu.prototype.toString=function(){return".priority"},Nu),xu=(Pu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Pu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Pu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Pu);function Pu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var Ru=(Du.prototype.copy=function(t,e,n,r,i){return new Du(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Du.prototype.count=function(){return this.left.count()+1+this.right.count()},Du.prototype.isEmpty=function(){return!1},Du.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Du.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Du.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Du.prototype.minKey=function(){return this.min_().key},Du.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Du.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Du.prototype.removeMin_=function(){if(this.left.isEmpty())return Lu.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Du.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return Lu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Du.prototype.isRed_=function(){return this.color},Du.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},Du.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},Du.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},Du.prototype.rotateLeft_=function(){var t=this.copy(null,null,Du.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Du.prototype.rotateRight_=function(){var t=this.copy(null,null,Du.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Du.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Du.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Du.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Du.RED=!0,Du.BLACK=!1,Du);function Du(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Du.RED,this.left=null!=r?r:Lu.EMPTY_NODE,this.right=null!=i?i:Lu.EMPTY_NODE}function Mu(){}Mu.prototype.copy=function(t,e,n,r,i){return this},Mu.prototype.insert=function(t,e,n){return new Ru(t,e,null)},Mu.prototype.remove=function(t,e){return this},Mu.prototype.count=function(){return 0},Mu.prototype.isEmpty=function(){return!0},Mu.prototype.inorderTraversal=function(t){return!1},Mu.prototype.reverseTraversal=function(t){return!1},Mu.prototype.minKey=function(){return null},Mu.prototype.maxKey=function(){return null},Mu.prototype.check_=function(){return 0},Mu.prototype.isRed_=function(){return!1},j=Mu;var Lu=(ju.prototype.insert=function(t,e){return new ju(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ru.BLACK,null,null))},ju.prototype.remove=function(t){return new ju(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ru.BLACK,null,null))},ju.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},ju.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},ju.prototype.isEmpty=function(){return this.root_.isEmpty()},ju.prototype.count=function(){return this.root_.count()},ju.prototype.minKey=function(){return this.root_.minKey()},ju.prototype.maxKey=function(){return this.root_.maxKey()},ju.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},ju.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},ju.prototype.getIterator=function(t){return new xu(this.root_,null,this.comparator_,!1,t)},ju.prototype.getIteratorFrom=function(t,e){return new xu(this.root_,t,this.comparator_,!1,e)},ju.prototype.getReverseIteratorFrom=function(t,e){return new xu(this.root_,t,this.comparator_,!0,e)},ju.prototype.getReverseIterator=function(t){return new xu(this.root_,null,this.comparator_,!0,t)},ju.EMPTY_NODE=new j,ju);function ju(t,e){void 0===e&&(e=ju.EMPTY_NODE),this.comparator_=t,this.root_=e}var Fu=Math.log(2),Uu=(Vu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Vu);function Vu(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Fu,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var Bu,qu,Wu=function(t,e,n,r){t.sort(e);var i=function e(r,i){if(0==(o=i-r))return null;if(1==o)return a=t[r],s=n?n(a):a,new Ru(s,a.node,Ru.BLACK,null,null);r=e(r,o=parseInt(o/2,10)+r),i=e(o+1,i);var o,a=t[o],s=n?n(a):a;return new Ru(s,a.node,Ru.BLACK,r,i)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e,e=i(1+o,s),s=t[o],o=n?n(s):s,u(new Ru(o,s.node,r,null,e))},u=function(t){r=r?r.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Ru.BLACK):(s(h,Ru.BLACK),s(h,Ru.RED))}return o}(new Uu(t.length));return new Lu(r||e,o)},zu={},Hu=(Object.defineProperty(Ku,"Default",{get:function(){return Ao(Au,"ChildrenNode.ts has not been loaded"),Bu=Bu||new Ku({".priority":zu},{".priority":Au})},enumerable:!1,configurable:!0}),Ku.prototype.get=function(t){var e=na(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lu?e:null},Ku.prototype.hasIndex=function(t){return ea(this.indexSet_,t.toString())},Ku.prototype.addIndex=function(t,e){Ao(t!==wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(pu.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?Wu(r,t.getCompare()):zu;var s=t.toString(),u=wo({},this.indexSet_);return u[s]=t,(e=wo({},this.indexes_))[s]=n,new Ku(e,u)},Ku.prototype.addToIndexes=function(t,e){var n=this;return new Ku(ia(this.indexes_,(function(r,i){var o=na(n.indexSet_,i);if(Ao(o,"Missing index implementation for "+i),r===zu){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(pu.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Wu(a,o.getCompare())}return zu}return(o=e.get(t.name))&&(r=r.remove(new pu(t.name,o))),r.insert(t,t.node)})),this.indexSet_)},Ku.prototype.removeFromIndexes=function(t,e){return new Ku(ia(this.indexes_,(function(n){if(n===zu)return n;var r=e.get(t.name);return r?n.remove(new pu(t.name,r)):n})),this.indexSet_)},Ku);function Ku(t,e){this.indexes_=t,this.indexSet_=e}function Gu(t,e){return Is(t.name,e.name)}function $u(t,e){return Is(t,e)}var Yu,Qu=(Object.defineProperty(Xu,"EMPTY_NODE",{get:function(){return qu=qu||new Xu(new Lu($u),null,Hu.Default)},enumerable:!1,configurable:!0}),Xu.prototype.isLeafNode=function(){return!1},Xu.prototype.getPriority=function(){return this.priorityNode_||qu},Xu.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new Xu(this.children_,t,this.indexMap_)},Xu.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?qu:t},Xu.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},Xu.prototype.hasChild=function(t){return null!==this.children_.get(t)},Xu.prototype.updateImmediateChild=function(t,e){if(Ao(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new pu(t,e),r=void 0,i=void 0;return i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?qu:this.priorityNode_,new Xu(r,n,i)},Xu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:(Ao(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(t.popFront(),e),this.updateImmediateChild(n,e))},Xu.prototype.isEmpty=function(){return this.children_.isEmpty()},Xu.prototype.numChildren=function(){return this.children_.count()},Xu.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Au,(function(o,a){e[o]=a.val(t),n++,i&&Xu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},Xu.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+_u(this.getPriority().val())+":"),this.forEachChild(Au,(function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)})),this.lazyHash_=""===t?"":rs(t)),this.lazyHash_},Xu.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new pu(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},Xu.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},Xu.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new pu(t,this.children_.get(t)):null},Xu.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},Xu.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new pu(t,this.children_.get(t)):null},Xu.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},Xu.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},Xu.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,pu.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},Xu.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},Xu.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,pu.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},Xu.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zu?-1:0},Xu.prototype.withIndex=function(t){return t===wu||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new Xu(this.children_,this.priorityNode_,t))},Xu.prototype.isIndexed=function(t){return t===wu||this.indexMap_.hasIndex(t)},Xu.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Au),n=t.getIterator(Au),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Xu.prototype.resolveIndex_=function(t){return t===wu?null:this.indexMap_.get(t.toString())},Xu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Xu);function Xu(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Cu(this.priorityNode_),this.children_.isEmpty()&&Ao(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function Ju(){return Yu.call(this,new Lu($u),Qu.EMPTY_NODE,Hu.Default)||this}var Zu=new(bo(Ju,Yu=Qu),Ju.prototype.compareTo=function(t){return t===this?0:1},Ju.prototype.equals=function(t){return t===this},Ju.prototype.getPriority=function(){return this},Ju.prototype.getImmediateChild=function(t){return Qu.EMPTY_NODE},Ju.prototype.isEmpty=function(){return!1},Ju);Object.defineProperties(pu,{MIN:{value:new pu(Es,Qu.EMPTY_NODE)},MAX:{value:new pu(Ts,Zu)}}),gu.__EMPTY_NODE=Qu.EMPTY_NODE,Ou.__childrenNodeConstructor=Qu,bu=Zu,Iu=Zu;var tc,ec=!0;function nc(t,e){if(void 0===e&&(e=null),null===t)return Qu.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Ao(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ou(t,nc(e));if(t instanceof Array||!ec){var n=Qu.EMPTY_NODE;return Cs(t,(function(e,r){ea(t,e)&&"."!==e.substring(0,1)&&(!(r=nc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))})),n.updatePriority(nc(e))}var r=[],i=!1;if(Cs(t,(function(t,e){"."!==t.substring(0,1)&&((e=nc(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new pu(t,e))))})),0===r.length)return Qu.EMPTY_NODE;var o=Wu(r,Gu,(function(t){return t.name}),$u);if(i){var a=Wu(r,Au.getCompare());return new Qu(o,nc(e),new Hu({".priority":a},{".priority":Au}))}return new Qu(o,nc(e),Hu.Default)}function rc(){return null!==tc&&tc.apply(this,arguments)||this}Tu=nc;var ic,oc=new(bo(rc,tc=K),rc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Is(t.name,e.name):n},rc.prototype.isDefinedOn=function(t){return!0},rc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},rc.prototype.minPost=function(){return pu.MIN},rc.prototype.maxPost=function(){return pu.MAX},rc.prototype.makePost=function(t,e){return t=nc(t),new pu(e,t)},rc.prototype.toString=function(){return".value"},rc),ac=(bo(sc,ic=K),sc.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},sc.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},sc.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node);return 0===(r=n.compareTo(r))?Is(t.name,e.name):r},sc.prototype.makePost=function(t,e){return t=nc(t),t=Qu.EMPTY_NODE.updateChild(this.indexPath_,t),new pu(e,t)},sc.prototype.maxPost=function(){var t=Qu.EMPTY_NODE.updateChild(this.indexPath_,Zu);return new pu(Ts,t)},sc.prototype.toString=function(){return this.indexPath_.slice().join("/")},sc);function sc(t){var e=ic.call(this)||this;return e.indexPath_=t,Ao(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var uc=(cc.prototype.val=function(){return ha("DataSnapshot.val",0,0,arguments.length),this.node_.val()},cc.prototype.exportVal=function(){return ha("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},cc.prototype.toJSON=function(){return ha("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},cc.prototype.exists=function(){return ha("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},cc.prototype.child=function(t){ha("DataSnapshot.child",0,1,arguments.length),Qs("DataSnapshot.child",1,t=String(t),!1);var e=new Ps(t);return t=this.ref_.child(e),new cc(this.node_.getChild(e),t,Au)},cc.prototype.hasChild=function(t){return ha("DataSnapshot.hasChild",1,1,arguments.length),Qs("DataSnapshot.hasChild",1,t,!1),t=new Ps(t),!this.node_.getChild(t).isEmpty()},cc.prototype.getPriority=function(){return ha("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},cc.prototype.forEach=function(t){var e=this;return ha("DataSnapshot.forEach",1,1,arguments.length),pa("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new cc(r,e.ref_.child(n),Au))}))},cc.prototype.hasChildren=function(){return ha("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(cc.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),cc.prototype.numChildren=function(){return ha("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},cc.prototype.getRef=function(){return ha("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(cc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),cc);function cc(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var lc=(hc.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},hc.prototype.getEventType=function(){return this.eventType},hc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},hc.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Zo(this.snapshot.exportVal())},hc);function hc(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var fc=(pc.prototype.getPath=function(){return this.path},pc.prototype.getEventType=function(){return"cancel"},pc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},pc.prototype.toString=function(){return this.path.toString()+":cancel"},pc);function pc(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var dc=(vc.prototype.respondsTo=function(t){return"value"===t},vc.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new lc("value",this,new uc(t.snapshotNode,e.getRef(),n))},vc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Ao(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},vc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fc(this,t,e):null},vc.prototype.matches=function(t){return t instanceof vc&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},vc.prototype.hasAnyCallback=function(){return null!==this.callback_},vc);function vc(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var yc,gc=(mc.prototype.respondsTo=function(t){return t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t,ea(this.callbacks_,t)},mc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fc(this,t,e):null},mc.prototype.createEvent=function(t,e){Ao(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName);return e=e.getQueryParams().getIndex(),new lc(t.type,this,new uc(t.snapshotNode,n,e),t.prevName)},mc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Ao(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},mc.prototype.matches=function(t){var e=this;if(t instanceof mc){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]})):(n=n[0],!((r=r[0])!==n||t.callbacks_[n]&&this.callbacks_[r]&&t.callbacks_[n]!==this.callbacks_[r]))}}return!1},mc.prototype.hasAnyCallback=function(){return null!==this.callbacks_},mc);function mc(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var bc=(Object.defineProperty(wc,"__referenceConstructor",{get:function(){return Ao(yc,"Reference.ts has not been loaded"),yc},set:function(t){yc=t},enumerable:!1,configurable:!0}),wc.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===wu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Es)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ts)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Au){if(null!=e&&!zs(e)||null!=n&&!zs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ao(t.getIndex()instanceof ac||t.getIndex()===oc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},wc.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},wc.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},wc.prototype.getQueryParams=function(){return this.queryParams_},wc.prototype.getRef=function(){return ha("Query.ref",0,0,arguments.length),new wc.__referenceConstructor(this.repo,this.path)},wc.prototype.on=function(t,e,n,r){return ha("Query.on",2,4,arguments.length),$s("Query.on",1,t,!1),pa("Query.on",2,e,!1),n=wc.getCancelAndContextArgs_("Query.on",n,r),"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},wc.prototype.onValueEvent=function(t,e,n){n=new dc(t,e||null,n||null),this.repo.addEventCallbackForQuery(this,n)},wc.prototype.onChildEvent=function(t,e,n){n=new gc(t,e,n),this.repo.addEventCallbackForQuery(this,n)},wc.prototype.off=function(t,e,n){ha("Query.off",0,3,arguments.length),$s("Query.off",1,t,!0),pa("Query.off",2,e,!0),da("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new dc(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new gc(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},wc.prototype.once=function(t,e,n,r){var i=this;ha("Query.once",1,4,arguments.length),$s("Query.once",1,t,!1),pa("Query.once",2,e,!0);var o=wc.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new Mo;s.promise.catch((function(){}));var u=function n(r){a&&(a=!1,i.off(t,n),e&&e.bind(o.context)(r),s.resolve(r))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)})),s.promise},wc.prototype.limitToFirst=function(t){if(ha("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new wc(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},wc.prototype.limitToLast=function(t){if(ha("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new wc(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},wc.prototype.orderByChild=function(t){if(ha("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');if(Qs("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild"),(t=new Ps(t)).isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ac(t),t=this.queryParams_.orderBy(t),wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByKey=function(){ha("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(wu);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByPriority=function(){ha("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Au);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.orderByValue=function(){ha("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(oc);return wc.validateQueryEndpoints_(t),new wc(this.repo,this.path,t,!0)},wc.prototype.startAt=function(t,e){void 0===t&&(t=null),ha("Query.startAt",0,2,arguments.length),Hs("Query.startAt",1,t,this.path,!0),Ys("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(wc.validateLimit_(n),wc.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new wc(this.repo,this.path,n,this.orderByCalled_)},wc.prototype.endAt=function(t,e){if(void 0===t&&(t=null),ha("Query.endAt",0,2,arguments.length),Hs("Query.endAt",1,t,this.path,!0),Ys("Query.endAt",2,e,!0),e=this.queryParams_.endAt(t,e),wc.validateLimit_(e),wc.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new wc(this.repo,this.path,e,this.orderByCalled_)},wc.prototype.equalTo=function(t,e){if(ha("Query.equalTo",1,2,arguments.length),Hs("Query.equalTo",1,t,this.path,!1),Ys("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},wc.prototype.toString=function(){return ha("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},wc.prototype.toJSON=function(){return ha("Query.toJSON",0,1,arguments.length),this.toString()},wc.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},wc.prototype.queryIdentifier=function(){var t=this.queryObject();return"{}"===(t=Ss(t))?"default":t},wc.prototype.isEqual=function(t){if(ha("Query.isEqual",1,1,arguments.length),!(t instanceof wc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path);return t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t},wc.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,pa(t,3,r.cancel,!0),r.context=n,da(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(fa(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(wc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),wc);function wc(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var _c=(Ec.prototype.getImmediateChild=function(t){return new Ec(this.node_.getImmediateChild(t))},Ec.prototype.node=function(){return this.node_},Ec);function Ec(t){this.node_=t}var Tc=(Ic.prototype.getImmediateChild=function(t){return t=this.path_.child(t),new Ic(this.syncTree_,t)},Ic.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},Ic);function Ic(t,e){this.syncTree_=t,this.path_=e}function Sc(t,e,n,r){return Ac(e,new Tc(n,t),r)}function Cc(t,e,n){return Ac(t,new _c(e),n)}var Oc=function(t,e,n){return t&&"object"==typeof t?(Ao(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?kc(t[".sv"],e,n):"object"==typeof t[".sv"]?Nc(t[".sv"],e):void Ao(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},kc=function(t,e,n){if("timestamp"===t)return n.timestamp;Ao(!1,"Unexpected server value: "+t)},Nc=function(t,e,n){return t.hasOwnProperty("increment")||Ao(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&Ao(!1,"Unexpected increment value: "+t),e=e.node(),Ao(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t};function Ac(t,e,n){var r=t.getPriority().val(),i=Oc(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t;return(r=Oc(o.getValue(),e,n))!==o.getValue()||i!==o.getPriority().val()?new Ou(r,nc(i)):t}var a=t=t;return i!==t.getPriority().val()&&(a=a.updatePriority(new Ou(i))),t.forEachChild(Au,(function(t,r){var i=Ac(r,e.getImmediateChild(t),n);i!==r&&(a=a.updateImmediateChild(t,i))})),a}var xc,Pc=(Rc.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},Rc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new Rc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},Rc.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Au,(function(t,e){n.remember(new Ps(t),e)})),this.forget(t)}return!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},Rc.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){n=new Ps(t.toString()+"/"+n),r.forEachTree(n,e)}))},Rc.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},Rc);function Rc(){this.value=null,this.children=new Map}(Dr=xc=xc||{})[Dr.OVERWRITE=0]="OVERWRITE",Dr[Dr.MERGE=1]="MERGE",Dr[Dr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Dr[Dr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Dc=(Mc.User=new Mc(!0,!1,null,!1),Mc.Server=new Mc(!1,!0,null,!1),Mc.forServerTaggedQuery=function(t){return new Mc(!1,!0,t,!0)},Mc);function Mc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Ao(!r||e,"Tagged queries must be from server.")}var Lc,jc=(Fc.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Ao(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Ps(t));return new Fc(Ps.Empty,e,this.revert)}return Ao(this.path.getFront()===t,"operationForChild called for unrelated child."),new Fc(this.path.popFront(),this.affectedTree,this.revert)},Fc);function Fc(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=xc.ACK_USER_WRITE,this.source=Dc.User}var Uc=(Vc.fromObject=function(t){var e=Vc.Empty;return Cs(t,(function(t,n){e=e.set(new Ps(t),n)})),e},Vc.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Vc.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Ps.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);return null===r||null==(e=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new Ps(n).child(e.path),value:e.value}},Vc.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},Vc.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront();return null!==(e=this.children.get(e))?e.subtree(t.popFront()):Vc.Empty},Vc.prototype.set=function(t,e){if(t.isEmpty())return new Vc(e,this.children);var n=t.getFront();return e=(this.children.get(n)||Vc.Empty).set(t.popFront(),e),e=this.children.insert(n,e),new Vc(this.value,e)},Vc.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?Vc.Empty:new Vc(null,this.children);var e=t.getFront(),n=this.children.get(e);return n?(n=n.remove(t.popFront()),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?Vc.Empty:new Vc(this.value,t)):this},Vc.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront();return(e=this.children.get(e))?e.get(t.popFront()):null},Vc.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront();return t=(this.children.get(n)||Vc.Empty).setTree(t.popFront(),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t),new Vc(this.value,e)},Vc.prototype.fold=function(t){return this.fold_(Ps.Empty,t)},Vc.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},Vc.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Ps.Empty,e)},Vc.prototype.findOnPath_=function(t,e,n){if(r=!!this.value&&n(e,this.value))return r;if(t.isEmpty())return null;var r,i=t.getFront();return(r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null},Vc.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Ps.Empty,e)},Vc.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):Vc.Empty},Vc.prototype.foreach=function(t){this.foreach_(Ps.Empty,t)},Vc.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},Vc.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},Vc.Empty=new Vc(null),Vc);function Vc(t,e){void 0===e&&(e=Lc=Lc||new Lu(cs)),this.value=t,this.children=e}var Bc=(qc.prototype.operationForChild=function(t){return this.path.isEmpty()?new qc(this.source,Ps.Empty):new qc(this.source,this.path.popFront())},qc);function qc(t,e){this.source=t,this.path=e,this.type=xc.LISTEN_COMPLETE}var Wc=(zc.prototype.operationForChild=function(t){return this.path.isEmpty()?new zc(this.source,Ps.Empty,this.snap.getImmediateChild(t)):new zc(this.source,this.path.popFront(),this.snap)},zc);function zc(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=xc.OVERWRITE}var Hc=(Kc.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new Ps(t));return e.isEmpty()?null:e.value?new Wc(this.source,Ps.Empty,e.value):new Kc(this.source,Ps.Empty,e)}return Ao(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new Kc(this.source,this.path.popFront(),this.children)},Kc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Kc);function Kc(t,e,n){this.source=t,this.path=e,this.children=n,this.type=xc.MERGE}var Gc=($c.prototype.isFullyInitialized=function(){return this.fullyInitialized_},$c.prototype.isFiltered=function(){return this.filtered_},$c.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},$c.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},$c.prototype.getNode=function(){return this.node_},$c);function $c(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Yc=(Qc.prototype.updateEventSnap=function(t,e,n){return new Qc(new Gc(t,e,n),this.serverCache_)},Qc.prototype.updateServerSnap=function(t,e,n){return new Qc(this.eventCache_,new Gc(t,e,n))},Qc.prototype.getEventCache=function(){return this.eventCache_},Qc.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},Qc.prototype.getServerCache=function(){return this.serverCache_},Qc.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},Qc.Empty=new Qc(new Gc(Qu.EMPTY_NODE,!1,!1),new Gc(Qu.EMPTY_NODE,!1,!1)),Qc);function Qc(t,e){this.eventCache_=t,this.serverCache_=e}var Xc=(Jc.valueChange=function(t){return new Jc(Jc.VALUE,t)},Jc.childAddedChange=function(t,e){return new Jc(Jc.CHILD_ADDED,e,t)},Jc.childRemovedChange=function(t,e){return new Jc(Jc.CHILD_REMOVED,e,t)},Jc.childChangedChange=function(t,e,n){return new Jc(Jc.CHILD_CHANGED,e,t,n)},Jc.childMovedChange=function(t,e){return new Jc(Jc.CHILD_MOVED,e,t)},Jc.CHILD_ADDED="child_added",Jc.CHILD_REMOVED="child_removed",Jc.CHILD_CHANGED="child_changed",Jc.CHILD_MOVED="child_moved",Jc.VALUE="value",Jc);function Jc(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var Zc=(tl.prototype.updateChild=function(t,e,n,r,i,o){Ao(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Xc.childRemovedChange(e,a)):Ao(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xc.childAddedChange(e,n)):o.trackChildChange(Xc.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},tl.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Au,(function(t,r){e.hasChild(t)||n.trackChildChange(Xc.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Au,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(Xc.childChangedChange(e,r,i)):n.trackChildChange(Xc.childAddedChange(e,r))}))),e.withIndex(this.index_)},tl.prototype.updatePriority=function(t,e){return t.isEmpty()?Qu.EMPTY_NODE:t.updatePriority(e)},tl.prototype.filtersNodes=function(){return!1},tl.prototype.getIndexedFilter=function(){return this},tl.prototype.getIndex=function(){return this.index_},tl);function tl(t){this.index_=t}var el=(nl.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Ao(e===Xc.CHILD_ADDED||e===Xc.CHILD_CHANGED||e===Xc.CHILD_REMOVED,"Only child changes supported for tracking"),Ao(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Xc.CHILD_ADDED&&i===Xc.CHILD_REMOVED)this.changeMap.set(n,Xc.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Xc.CHILD_REMOVED&&i===Xc.CHILD_ADDED)this.changeMap.delete(n);else if(e===Xc.CHILD_REMOVED&&i===Xc.CHILD_CHANGED)this.changeMap.set(n,Xc.childRemovedChange(n,r.oldSnap));else if(e===Xc.CHILD_CHANGED&&i===Xc.CHILD_ADDED)this.changeMap.set(n,Xc.childAddedChange(n,t.snapshotNode));else{if(e!==Xc.CHILD_CHANGED||i!==Xc.CHILD_CHANGED)throw xo("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Xc.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},nl.prototype.getChanges=function(){return Array.from(this.changeMap.values())},nl);function nl(){this.changeMap=new Map}function rl(){}var il=new(rl.prototype.getCompleteChild=function(t){return null},rl.prototype.getChildAfterChild=function(t,e,n){return null},rl),ol=(al.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new Gc(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},al.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();return 0===(t=this.writes_.calcIndexedSlice(r,e,1,n,t)).length?null:t[0]},al);function al(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var sl=function(t,e){this.viewCache=t,this.changes=e},ul=(cl.prototype.assertIndexed=function(t){Ao(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Ao(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},cl.prototype.applyOperation=function(t,e,n,r){var i=new el;if(e.type===xc.OVERWRITE)var o=e,a=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(Ao(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,s,i));else if(e.type===xc.MERGE)a=(o=e).source.fromUser?this.applyUserMerge_(t,o.path,o.children,n,r,i):(Ao(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,o.path,o.children,n,r,s,i));else if(e.type===xc.ACK_USER_WRITE){var s=e;a=s.revert?this.revertUserWrite_(t,s.path,n,r,i):this.ackUserWrite_(t,s.path,s.affectedTree,n,r,i)}else{if(e.type!==xc.LISTEN_COMPLETE)throw xo("Unknown operation type: "+e.type);a=this.listenComplete_(t,e.path,n,i)}return i=i.getChanges(),cl.maybeAddValueEvent_(t,a,i),new sl(a,i)},cl.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Xc.valueChange(e.getCompleteEventSnap())))},cl.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l=void 0,h=void 0;return l=e.isEmpty()?(Ao(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(a=(a=t.getCompleteServerSnap())instanceof Qu?a:Qu.EMPTY_NODE,a=n.calcCompleteEventChildren(a),this.filter_.updateFullNode(t.getEventCache().getNode(),a,i)):(s=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),s,i))):".priority"===(s=e.getFront())?(Ao(1===e.getLength(),"Can't have a priority with additional path components"),u=o.getNode(),h=t.getServerCache().getNode(),null!=(c=n.calcEventCacheAfterServerOverwrite(e,u,h))?this.filter_.updatePriority(u,c):o.getNode()):(u=e.popFront(),c=void 0,null!=(c=o.isCompleteForChild(s)?(h=t.getServerCache().getNode(),null!=(h=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h))?o.getNode().getImmediateChild(s).updateChild(u,h):o.getNode().getImmediateChild(s)):n.calcCompleteChild(s,t.getServerCache()))?this.filter_.updateChild(o.getNode(),s,c,u,r,i):o.getNode()),t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},cl.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered())var c=s.getNode().updateChild(e,n),l=u.updateFullNode(s.getNode(),c,null);else{if(o=e.getFront(),!s.isCompleteForPath(e)&&1<e.getLength())return t;c=e.popFront(),n=s.getNode().getImmediateChild(o).updateChild(c,n),l=".priority"===o?u.updatePriority(s.getNode(),n):u.updateChild(s.getNode(),o,n,c,il,null)}return u=t.updateServerSnap(l,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),i=new ol(r,u,i),this.generateEventCacheAfterServerEvent_(u,e,r,i,a)},cl.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new ol(r,t,i);return e.isEmpty()?(s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(s,!0,this.filter_.filtersNodes())):".priority"===(a=e.getFront())?(s=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered())):(r=e.popFront(),i=u.getNode().getImmediateChild(a),s=void 0,s=r.isEmpty()?n:null!=(e=c.getCompleteChild(a))?".priority"===r.getBack()&&e.getChild(r.parent()).isEmpty()?e:e.updateChild(r,n):Qu.EMPTY_NODE,i.equals(s)?t:(o=this.filter_.updateChild(u.getNode(),a,s,r,c,o),t.updateEventSnap(o,u.isFullyInitialized(),this.filter_.filtersNodes())))},cl.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},cl.prototype.applyUserMerge_=function(t,e,n,r,i,o){var a=this,s=t;return n.foreach((function(n,u){n=e.child(n),cl.cacheHasChild_(t,n.getFront())&&(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),n.foreach((function(n,u){n=e.child(n),cl.cacheHasChild_(t,n.getFront())||(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),s},cl.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},cl.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=(n=e.isEmpty()?n:Uc.Empty.setTree(e,n),t.getServerCache().getNode());return n.children.inorderTraversal((function(e,n){var l;c.hasChild(e)&&(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ps(e),n,r,i,o,a))})),n.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;c.hasChild(e)||l||(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ps(e),n,r,i,o,a))})),u},cl.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Uc.Empty;return s.getNode().forEachChild(wu,(function(t,e){u=u.set(new Ps(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Uc.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},cl.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache();return i=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered()),this.generateEventCacheAfterServerEvent_(i,e,n,il,r)},cl.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a,s,u=new ol(n,t,r),c=t.getEventCache().getNode();return r=void 0,e.isEmpty()||".priority"===e.getFront()?(s=void 0,s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(a=t.getServerCache().getNode(),Ao(a instanceof Qu,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(a)),r=this.filter_.updateFullNode(c,s,i)):(a=e.getFront(),null==(s=n.calcCompleteChild(a,t.getServerCache()))&&t.getServerCache().isCompleteForChild(a)&&(s=c.getImmediateChild(a)),(r=null!=s?this.filter_.updateChild(c,a,s,e.popFront(),u,i):t.getEventCache().getNode().hasChild(a)?this.filter_.updateChild(c,a,Qu.EMPTY_NODE,e.popFront(),u,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(r=this.filter_.updateFullNode(r,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Ps.Empty),t.updateEventSnap(r,o,this.filter_.filtersNodes())},cl);function cl(t){this.filter_=t}var ll=(hl.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Xc.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Xc.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Xc.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Xc.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Xc.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Xc.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Xc.VALUE,t,n,e),i},hl.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this;(n=n.filter((function(t){return t.type===e}))).sort(this.compareChanges_.bind(this)),n.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},hl.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},hl.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw xo("Should only compare child_ events.");return t=new pu(t.childName,t.snapshotNode),e=new pu(e.childName,e.snapshotNode),this.index_.compare(t,e)},hl);function hl(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var fl,pl=(dl.prototype.getQuery=function(){return this.query_},dl.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},dl.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},dl.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},dl.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},dl.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Ao(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){(t=t.createCancelEvent(e,n))&&r.push(t)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},dl.prototype.applyOperation=function(t,e,n){t.type===xc.MERGE&&null!==t.source.queryId&&(Ao(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Ao(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_;return n=this.processor_.applyOperation(r,t,e,n),this.processor_.assertIndexed(n.viewCache),Ao(n.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=n.viewCache,this.generateEventsForChanges_(n.changes,n.viewCache.getEventCache().getNode(),null)},dl.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Au,(function(t,e){n.push(Xc.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(Xc.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},dl.prototype.generateEventsForChanges_=function(t,e,n){return n=n?[n]:this.eventRegistrations_,this.eventGenerator_.generateEventsForChanges(t,e,n)},dl);function dl(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Zc(n.getIndex()),i=n.getNodeFilter();this.processor_=new ul(i);var o=e.getServerCache();t=e.getEventCache(),n=r.updateFullNode(Qu.EMPTY_NODE,o.getNode(),null),e=i.updateFullNode(Qu.EMPTY_NODE,t.getNode(),null),r=new Gc(n,o.isFullyInitialized(),r.filtersNodes()),i=new Gc(e,t.isFullyInitialized(),i.filtersNodes()),this.viewCache_=new Yc(i,r),this.eventGenerator_=new ll(this.query_)}var vl=(Object.defineProperty(yl,"__referenceConstructor",{get:function(){return Ao(fl,"Reference.ts has not been loaded"),fl},set:function(t){Ao(!fl,"__referenceConstructor has already been defined"),fl=t},enumerable:!1,configurable:!0}),yl.prototype.isEmpty=function(){return 0===this.views.size},yl.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Ao(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=To(this.views.values()),c=u.next();!c.done;c=u.next())a=c.value,s=s.concat(a.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},yl.prototype.addEventRegistration=function(t,e,n,r,i){var o,a,s=t.queryIdentifier(),u=this.views.get(s);return u||(a=!1,a=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof Qu?n.calcCompleteEventChildren(r):Qu.EMPTY_NODE,!1),i=new Yc(new Gc(o,a,!1),new Gc(r,i,!1)),u=new pl(t,i),this.views.set(s,u)),u.addEventRegistration(e),u.getInitialEvents(e)},yl.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o)try{for(var c=To(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=Io(l.value,2),f=h[0],p=h[1];s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return u&&!this.hasCompleteView()&&a.push(new yl.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},yl.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=To(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},yl.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=To(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},yl.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},yl.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},yl.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},yl.prototype.getCompleteView=function(){var t,e;try{for(var n=To(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},yl);function yl(){this.views=new Map}var gl=(ml.prototype.addWrite=function(t,e){if(t.isEmpty())return new ml(new Uc(e));if(null!=(i=this.writeTree_.findRootMostValueAndPath(t))){var n=i.path,r=i.value,i=Ps.relativePath(n,t);return r=r.updateChild(i,e),new ml(this.writeTree_.set(n,r))}return e=new Uc(e),new ml(this.writeTree_.setTree(t,e))},ml.prototype.addWrites=function(t,e){var n=this;return Cs(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},ml.prototype.removeWrite=function(t){return t.isEmpty()?ml.Empty:new ml(this.writeTree_.setTree(t,Uc.Empty))},ml.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},ml.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Ps.relativePath(e.path,t)):null},ml.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Au,(function(e,n){t.push(new pu(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new pu(e,n.value))})),t},ml.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new ml(null!=e?new Uc(e):this.writeTree_.subtree(t))},ml.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},ml.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Ao(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Ps.Empty,this.writeTree_,t)},ml.Empty=new ml(new Uc(null)),ml);function ml(t){this.writeTree_=t}var bl=(wl.prototype.childWrites=function(t){return new _l(t,this)},wl.prototype.addOverwrite=function(t,e,n,r){Ao(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},wl.prototype.addMerge=function(t,e,n){Ao(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},wl.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},wl.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Ao(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Cs(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},wl.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},wl.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(Ps.Empty)){var o=wl.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t),a=e||Qu.EMPTY_NODE;return o.apply(a)}return null}return null!=(o=this.visibleWrites_.getCompleteNode(t))?o:(o=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?e:null!=e||o.hasCompleteWrite(Ps.Empty)?(a=e||Qu.EMPTY_NODE,o.apply(a)):null},wl.prototype.calcCompleteEventChildren=function(t,e){var n=Qu.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Au,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Au,(function(t,e){e=i.childCompoundWrite(new Ps(t)).apply(e),n=n.updateImmediateChild(t,e)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},wl.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){return Ao(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.child(e),this.visibleWrites_.hasCompleteWrite(t)?null:(t=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},wl.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e);return null!=(t=this.visibleWrites_.getCompleteNode(r))?t:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},wl.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},wl.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t);if(null!=(t=s.getCompleteNode(Ps.Empty)))a=t;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=l.getNext();h&&u.length<r;)0!==c(h,n)&&u.push(h),h=l.getNext();return u},wl.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},wl.prototype.resetTree_=function(){this.visibleWrites_=wl.layerTree_(this.allWrites_,wl.DefaultFilter_,Ps.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},wl.DefaultFilter_=function(t){return t.visible},wl.layerTree_=function(t,e,n){for(var r=gl.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Ps.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Ps.relativePath(a,n),r=r.addWrite(Ps.Empty,o.snap.getChild(s)));else{if(!o.children)throw xo("WriteRecord should have .snap or .children");n.contains(a)?(s=Ps.relativePath(n,a),r=r.addWrites(s,o.children)):a.contains(n)&&((s=Ps.relativePath(a,n)).isEmpty()?r=r.addWrites(Ps.Empty,o.children):(o=na(o.children,s.getFront()))&&(s=o.getChild(s.popFront()),r=r.addWrite(Ps.Empty,s)))}}}return r},wl);function wl(){this.visibleWrites_=gl.Empty,this.allWrites_=[],this.lastWriteId_=-1}var _l=(El.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},El.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},El.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},El.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},El.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},El.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},El.prototype.child=function(t){return new El(this.treePath_.child(t),this.writeTree_)},El);function El(t,e){this.treePath_=t,this.writeTree_=e}var Tl=(Il.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Wc(Dc.User,t,e)):[]},Il.prototype.applyUserMerge=function(t,e,n){return this.pendingWriteTree_.addMerge(t,e,n),e=Uc.fromObject(e),this.applyOperationToSyncPoints_(new Hc(Dc.User,t,e))},Il.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Uc.Empty;return null!=n.snap?r=r.set(Ps.Empty,!0):Cs(n.children,(function(t,e){r=r.set(new Ps(t),e)})),this.applyOperationToSyncPoints_(new jc(n.path,r,e))}return[]},Il.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Wc(Dc.Server,t,e))},Il.prototype.applyServerMerge=function(t,e){return e=Uc.fromObject(e),this.applyOperationToSyncPoints_(new Hc(Dc.Server,t,e))},Il.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Bc(Dc.Server,t))},Il.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);return null==r?[]:(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=Ps.relativePath(r,t),e=new Wc(Dc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e))},Il.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);return r?(r=(n=Il.parseQueryKey_(r)).path,n=n.queryId,t=Ps.relativePath(r,t),e=Uc.fromObject(e),e=new Hc(Dc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e)):[]},Il.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);return n?(n=(e=Il.parseQueryKey_(n)).path,e=e.queryId,t=Ps.relativePath(n,t),t=new Bc(Dc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,t)):[]},Il.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){t=Ps.relativePath(t,n),r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()}));var o=this.syncPointTree_.get(n);o?(i=i||o.hasCompleteView(),r=r||o.getCompleteServerCache(Ps.Empty)):(o=new vl,this.syncPointTree_=this.syncPointTree_.set(n,o)),null!=r?c=!0:(c=!1,r=Qu.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){(e=e.getCompleteServerCache(Ps.Empty))&&(r=r.updateImmediateChild(t,e))})));var a,s=o.viewExistsForQuery(t);s||t.getQueryParams().loadsAllData()||(u=Il.makeQueryKey_(t),Ao(!this.queryToTagMap.has(u),"View does not exist, but we have a tag"),a=Il.getNextQueryTag_(),this.queryToTagMap.set(u,a),this.tagToQueryMap.set(a,u));var u=this.pendingWriteTree_.childWrites(n),c=o.addEventRegistration(t,e,u,r,c);return s||i||(o=o.viewForQuery(t),c=c.concat(this.setupListener_(t,o))),c},Il.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);if(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),e=s.removed,a=s.events,o=-1!==e.findIndex((function(t){return t.getQueryParams().loadsAllData()})),s=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()})),o&&!s&&!(i=this.syncPointTree_.subtree(i)).isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var l=(h=u[c]).getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(Il.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}!s&&0<e.length&&!n&&(o?this.listenProvider_.stopListening(Il.queryForListening_(t),null):e.forEach((function(t){var e=r.queryToTagMap.get(Il.makeQueryKey_(t));r.listenProvider_.stopListening(Il.queryForListening_(t),e)}))),this.removeTags_(e)}return a},Il.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){if(e=Ps.relativePath(e,t),e=n.getCompleteServerCache(e))return e}));return n.calcCompleteEventCache(t,r,e,!0)},Il.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),Cs(n,(function(t,e){r=r.concat(e)})),r}))},Il.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(n=Il.makeQueryKey_(r),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},Il.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},Il.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t);if(e=this.createListenerForView_(e),e=this.listenProvider_.startListening(Il.queryForListening_(t),r,e.hashFn,e.onComplete),n=this.syncPointTree_.subtree(n),r)Ao(!n.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=n.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),Cs(n,(function(t,e){r=r.concat(e)})),r})),o=0;o<i.length;++o){var a=i[o];this.listenProvider_.stopListening(Il.queryForListening_(a),this.tagForQuery_(a))}return e},Il.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Qu.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path):(t=function(t,e){var n="Unknown Error";return"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable"),(n=new Error(t+" at "+e.path.toString()+": "+n)).code=t.toUpperCase(),n}(t,n),e.removeEventRegistration(n,null,t))}}},Il.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},Il.parseQueryKey_=function(t){var e=t.indexOf("$");return Ao(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ps(t.substr(0,e))}},Il.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},Il.prototype.tagForQuery_=function(t){return t=Il.makeQueryKey_(t),this.queryToTagMap.get(t)},Il.getNextQueryTag_=function(){return Il.nextQueryTag_++},Il.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);return Ao(n,"Missing sync point for query tag that we're tracking"),t=this.pendingWriteTree_.childWrites(t),n.applyOperation(e,t,null)},Il.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Ps.Empty))},Il.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Ps.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Ps.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);return u&&s&&(e=n?n.getImmediateChild(a):null,a=r.child(a),o=o.concat(this.applyOperationHelper_(s,u,e,a))),i&&(o=o.concat(i.applyOperation(t,r,n))),o},Il.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Ps.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Ps.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e);(e=t.operationForChild(e))&&(a=a.concat(i.applyOperationDescendantsHelper_(e,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},Il.nextQueryTag_=1,Il);function Il(t){this.listenProvider_=t,this.syncPointTree_=Uc.Empty,this.pendingWriteTree_=new bl,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Sl=(Cl.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Cl.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Cl);function Cl(){this.rootNode_=Qu.EMPTY_NODE}var Ol=(kl.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),ea(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},kl.prototype.get=function(){return Ro(this.counters_)},kl);function kl(){this.counters_={}}var Nl=(Al.getCollection=function(t){return t=t.toString(),this.collections_[t]||(this.collections_[t]=new Ol),this.collections_[t]},Al.getOrCreateReporter=function(t,e){return t=t.toString(),this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},Al.collections_={},Al.reporters_={},Al);function Al(){}var xl=(Pl.prototype.get=function(){var t=this.collection_.get(),e=wo({},t);return this.last_&&Cs(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},Pl);function Pl(t){this.collection_=t,this.last_=null}var Rl=(Dl.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Dl.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Cs(e,(function(e,i){0<i&&ea(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Ns(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Dl);function Dl(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xl(t),t=1e4+2e4*Math.random(),Ns(this.reportStats_.bind(this),Math.floor(t))}var Ml=(Ll.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new jl(i)),e.add(r)}e&&this.eventLists_.push(e)},Ll.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},Ll.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},Ll.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},Ll);function Ll(){this.eventLists_=[],this.recursionDepth_=0}var jl=(Fl.prototype.add=function(t){this.events_.push(t)},Fl.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),ms&&ws("event: "+n.toString()),ks(e))}},Fl.prototype.getPath=function(){return this.path_},Fl);function Fl(t){this.path_=t,this.events_=[]}function Ul(t){this.allowedEvents_=t,this.listeners_={},Ao(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}Ul.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=So(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Ul.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Ul.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Ul.prototype.validateEventType_=function(t){Ao(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)};var Vl,Bl=(bo(ql,Vl=j=Ul),ql.getInstance=function(){return new ql},ql.prototype.getInitialEvent=function(t){return Ao("visible"===t,"Unknown event type: "+t),[this.visible_]},ql);function ql(){var t,e,n=Vl.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var Wl,zl=(bo(Hl,Wl=j),Hl.getInstance=function(){return new Hl},Hl.prototype.getInitialEvent=function(t){return Ao("online"===t,"Unknown event type: "+t),[this.online_]},Hl.prototype.currentlyOnline=function(){return this.online_},Hl);function Hl(){var t=Wl.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Fo()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var Kl=(Gl.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Gl.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&ks((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Gl);function Gl(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var $l="pLPCommand",Yl="pRTLPCB",Ql=(Xl.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new Jl((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Io(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(r=Io(t,2))[0],r=r[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ls)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},Xl.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Xl.forceAllow=function(){Xl.forceAllow_=!0},Xl.forceDisallow=function(){Xl.forceDisallow_=!0},Xl.isAvailable=function(){return!!Xl.forceAllow_||!(Xl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Xl.prototype.markConnectionHealthy=function(){},Xl.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Xl.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Xl.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Xl.prototype.send=function(t){t=Zo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=hs(t=function(t){return t=Oo(t),Po.encodeByteArray(t,!0)}(t),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},Xl.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Xl.prototype.incrementIncomingBytes_=function(t){t=Zo(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},Xl);function Xl(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_s(t),this.stats_=Nl.getCollection(e),this.urlFn=function(t){return e.connectionURL(Fs,t)}}var Jl=(Zl.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ws("No IE domain setting required")}catch(i){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Zl.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},Zl.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},Zl.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(t={}).id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift();e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return t+=e,this.addLongPollTag_(t,this.currentSerial),!0}return!1},Zl.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},Zl.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},Zl.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){ws("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},Zl);function Zl(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ys(),window[$l+this.uniqueCallbackIdentifier]=t,window[Yl+this.uniqueCallbackIdentifier]=e,this.myIFrame=Zl.createIFrame_(),e="",this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(e='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){ws("frame writing exception"),t.stack&&ws(t.stack),ws(t)}}var th="";function eh(t){th=t}var nh=null;"undefined"!=typeof MozWebSocket?nh=MozWebSocket:"undefined"!=typeof WebSocket&&(nh=WebSocket);var rh=(ih.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Ls)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(js,r)},ih.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ps.set("previous_websocket_failure",!0);try{Bo()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new nh(this.connURL,[],n))}catch(e){return this.log_("Error instantiating WebSocket."),(t=e.message||e.data)&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.log_(t),r.onClosed_()}},ih.prototype.start=function(){},ih.forceDisallow=function(){ih.forceDisallow_=!0},ih.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==nh&&!ih.forceDisallow_},ih.previouslyFailed=function(){return ps.isInMemoryStorage||!0===ps.get("previous_websocket_failure")},ih.prototype.markConnectionHealthy=function(){ps.remove("previous_websocket_failure")},ih.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=Jo(t),this.onMessage(t))},ih.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},ih.prototype.extractFrameCount_=function(t){if(Ao(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},ih.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),(null!==this.frames||null!==(t=this.extractFrameCount_(t)))&&this.appendFrame_(t))},ih.prototype.send=function(t){this.resetKeepAlive(),t=Zo(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=hs(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},ih.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},ih.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},ih.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},ih.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},ih.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4,ih);function ih(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_s(this.connId),this.stats_=Nl.getCollection(e),this.connURL=ih.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var oh=(Object.defineProperty(ah,"ALL_TRANSPORTS",{get:function(){return[Ql,rh]},enumerable:!1,configurable:!0}),ah.prototype.initTransports_=function(t){var e,n,r=rh&&rh.isAvailable(),i=r&&!rh.previouslyFailed();if(t.webSocketOnly&&(r||ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[rh];else{var o=this.transports_=[];try{for(var a=To(ah.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},ah.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},ah.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},ah);function ah(t){this.initTransports_(t)}var sh=(uh.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=Ns((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))},uh.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},uh.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},uh.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},uh.prototype.sendRequest=function(t){t={t:"d",d:t},this.sendData_(t)},uh.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},uh.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},uh.prototype.onSecondaryMessageReceived_=function(t){var e=ls("t",t);if(t=ls("d",t),"c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},uh.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},uh.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},uh.prototype.onPrimaryMessageReceived_=function(t){var e=ls("t",t);t=ls("d",t),"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},uh.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},uh.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},uh.prototype.onControl_=function(t){var e=ls("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?os("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):os("Unknown control packet command: "+e)},uh.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&ss("Protocol version mismatch detected"),this.tryStartUpgrade_())},uh.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},uh.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);t=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,t),Ns((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},uh.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},uh.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ns((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},uh.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},uh.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},uh.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ps.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},uh.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},uh.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},uh.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},uh.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},uh);function uh(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_s("c:"+this.id+":"),this.transportManager_=new oh(e),this.log_("Connection created"),this.start_()}function ch(){}ch.prototype.put=function(t,e,n,r){},ch.prototype.merge=function(t,e,n,r){},ch.prototype.refreshAuthToken=function(t){},ch.prototype.onDisconnectPut=function(t,e,n){},ch.prototype.onDisconnectMerge=function(t,e,n){},ch.prototype.onDisconnectCancel=function(t,e){},ch.prototype.reportStats=function(t){};var lh,hh=1e3,fh=3e5,ph=(bo(dh,lh=gu=ch),dh.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_;e={r:r,a:t,b:e},this.log_(Zo(e)),Ao(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},dh.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ao(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Ao(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},dh.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;dh.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))}))},dh.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&ea(t,"w")&&(t=na(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&ss("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+(t='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+(e=e.path.toString())+" to your security rules for better performance."))},dh.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},dh.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=ta(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},dh.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=ta(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s;e=e.d||"error",r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))})))},dh.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Ao(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},dh.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},dh.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},dh.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},dh.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},dh.prototype.sendOnDisconnect_=function(t,e,n,r){n={p:e,d:n},this.log_("onDisconnect "+t,n),this.sendRequest(t,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},dh.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},dh.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},dh.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},dh.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},dh.prototype.reportStats=function(t){var e=this;this.connected_&&(t={c:t},this.log_("reportStats",t),this.sendRequest("s",t,(function(t){"ok"!==t.s&&(t=t.d,e.log_("reportStats","Error sending stats: "+t))})))},dh.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Zo(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},dh.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):os("Unrecognized action received from server: "+Zo(t)+"\nAre you using the latest client?")},dh.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},dh.prototype.scheduleConnect_=function(t){var e=this;Ao(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},dh.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},dh.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},dh.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=hh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},dh.prototype.establishConnection_=function(){var t,e,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+dh.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(t){Ao(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?ws("getToken() completed but was canceled"):(ws("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new sh(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){ss(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),a||(l.repoInfo_.nodeAdmin&&ss(t),u())})))},dh.prototype.interrupt=function(t){ws("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},dh.prototype.resume=function(t){ws("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ra(this.interruptReasons_)&&(this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0))},dh.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},dh.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},dh.prototype.onListenRevoked_=function(t,e){e=e?e.map((function(t){return Ss(t)})).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},dh.prototype.removeListen_=function(t,e){var n,r=new Ps(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},dh.prototype.onAuthRevoked_=function(t,e){ws("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},dh.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},dh.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=To(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,To(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},dh.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+th.replace(/\./g,"-")]=1,Fo()?t["framework.cordova"]=1:Vo()&&(t["framework.reactnative"]=1),this.reportStats(t)},dh.prototype.shouldReconnect_=function(){var t=zl.getInstance().currentlyOnline();return ra(this.interruptReasons_)&&t},dh.nextPersistentConnectionId_=0,dh.nextConnectionId_=0,dh);function dh(t,e,n,r,i,o,a){var s=lh.call(this)||this;if(s.repoInfo_=t,s.applicationId_=e,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=dh.nextPersistentConnectionId_++,s.log_=_s("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=hh,s.maxReconnectDelay_=fh,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!Bo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),Bl.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&zl.getInstance().on("online",s.onOnline_,s),s}var vh,yh=(bo(gh,vh=gu),gh.prototype.reportStats=function(t){throw new Error("Method not implemented.")},gh.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Ao(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},gh.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=gh.getListenId_(t,n),s={};this.listens_[a]=s,t=t.getQueryParams().toRestQueryStringParameters(),this.restRequest_(o+".json",t,(function(t,e){404===t&&(t=e=null),null===t&&i.onDataUpdate_(o,e,!1,n),na(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},gh.prototype.unlisten=function(t,e){e=gh.getListenId_(t,e),delete this.listens_[e]},gh.prototype.refreshAuthToken=function(t){},gh.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(e.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&a.status<300){try{t=Jo(a.responseText)}catch(t){ss("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&ss("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},gh);function gh(t,e,n){var r=vh.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=_s("p:rest:"),r.listens_={},r}var mh="repo_interrupt",bh=(wh.prototype.start=function(){var t=this;if(this.stats_=Nl.getCollection(this.repoInfo_),this.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new yh(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zo(e)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new ph(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Nl.getOrCreateReporter(this.repoInfo_,(function(){return new Rl(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Sl,this.infoSyncTree_=new Tl({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Tl({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){r=i(n,r),t.eventQueue_.raiseEventsForChangedPath(e.path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},wh.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},wh.prototype.name=function(){return this.repoInfo_.namespace},wh.prototype.serverTime=function(){var t=this.infoData_.getNode(new Ps(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},wh.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},wh.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Ps(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,a=[];t=i,0<(a=r?n?(o=ia(e,(function(t){return nc(t)})),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(o=nc(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,o,r)):n?(n=ia(e,(function(t){return nc(t)})),this.serverSyncTree_.applyServerMerge(i,n)):(e=nc(e),this.serverSyncTree_.applyServerOverwrite(i,e))).length&&(t=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(t,a)},wh.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},wh.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},wh.prototype.onServerInfoUpdate_=function(t){var e=this;Cs(t,(function(t,n){e.updateInfo_(t,n)}))},wh.prototype.updateInfo_=function(t,e){t=new Ps("/.info/"+t),e=nc(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e),this.eventQueue_.raiseEventsForChangedPath(t,e)},wh.prototype.getNextWriteId_=function(){return this.nextWriteId_++},wh.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=(o=Cc(e=nc(e,n),n=this.serverSyncTree_.calcCompleteEventCache(t),o),this.getNextWriteId_());o=this.serverSyncTree_.applyUserOverwrite(t,o,a,!0),this.eventQueue_.queueEvents(o),this.server_.put(t.toString(),e.val(!0),(function(e,n){var o="ok"===e;o||ss("set at "+t+" failed: "+e),o=i.serverSyncTree_.ackUserWrite(a,!o),i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)})),e=this.abortTransactions_(t),this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},wh.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,a=!0,s=this.generateServerValues(),u={};Cs(e,(function(e,n){a=!1,u[e]=Sc(t.child(e),nc(n),r.serverSyncTree_,s)})),a?(ws("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){(s="ok"===e)||ss("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(i,!s),s=0<a.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,o)})),Cs(e,(function(e){e=r.abortTransactions_(t.child(e)),r.rerunTransactions_(e)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},wh.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Pc;this.onDisconnect_.forEachTree(Ps.Empty,(function(r,i){i=Sc(r,i,t.serverSyncTree_,e),n.remember(r,i)}));var r=[];n.forEachTree(Ps.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n)),e=t.abortTransactions_(e),t.rerunTransactions_(e)})),this.onDisconnect_=new Pc,this.eventQueue_.raiseEventsForChangedPath(Ps.Empty,r)},wh.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},wh.prototype.onDisconnectSet=function(t,e,n){var r=this,i=nc(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},wh.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=nc(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},wh.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(ra(e))return ws("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&Cs(e,(function(e,n){n=nc(n),r.onDisconnect_.remember(t.child(e),n)})),r.callOnCompleteCallback(n,i,o)}))},wh.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},wh.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},wh.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(mh)},wh.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(mh)},wh.prototype.stats=function(t){var e;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=t?(this.statsListener_||(this.statsListener_=new xl(this.stats_)),this.statsListener_.get()):this.stats_.get(),e=Object.keys(t).reduce((function(t,e){return Math.max(e.length,t)}),0),Cs(t,(function(t,n){for(var r=t,i=t.length;i<e+2;i++)r+=" ";console.log(r+n)})))},wh.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},wh.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),ws.apply(void 0,So([n],t))},wh.prototype.callOnCompleteCallback=function(t,e,n){t&&ks((function(){var r,i;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(i=new Error(i)).code=r,t(i))}))},Object.defineProperty(wh.prototype,"database",{get:function(){return this.__database||(this.__database=new Bh(this))},enumerable:!1,configurable:!0}),wh);function wh(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ml,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Pc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}var _h=(Eh.prototype.getStartPost=function(){return this.startPost_},Eh.prototype.getEndPost=function(){return this.endPost_},Eh.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},Eh.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new pu(e,n))||(n=Qu.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},Eh.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Qu.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(Qu.EMPTY_NODE),i=this;return e.forEachChild(Au,(function(t,e){i.matches(new pu(t,e))||(r=r.updateImmediateChild(t,Qu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},Eh.prototype.updatePriority=function(t,e){return t},Eh.prototype.filtersNodes=function(){return!0},Eh.prototype.getIndexedFilter=function(){return this.indexedFilter_},Eh.prototype.getIndex=function(){return this.index_},Eh.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},Eh.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},Eh);function Eh(t){this.indexedFilter_=new Zc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Eh.getStartPost_(t),this.endPost_=Eh.getEndPost_(t)}var Th=(Ih.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new pu(e,n))||(n=Qu.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Ih.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Qu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Qu.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Qu.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(u,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Qu.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Ih.prototype.updatePriority=function(t,e){return t},Ih.prototype.filtersNodes=function(){return!0},Ih.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Ih.prototype.getIndex=function(){return this.index_},Ih.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;Ao(s.numChildren()===this.limit_,"");var u=new pu(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=p?(null!=i&&i.trackChildChange(Xc.childChangedChange(e,n,h)),s.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(Xc.childRemovedChange(e,h)),h=s.updateImmediateChild(e,Qu.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Xc.childAddedChange(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Xc.childRemovedChange(c.name,c.node)),i.trackChildChange(Xc.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Qu.EMPTY_NODE)):t},Ih);function Ih(t){this.rangedFilter_=new _h(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Sh=(Ch.prototype.hasStart=function(){return this.startSet_},Ch.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},Ch.prototype.getIndexStartValue=function(){return Ao(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Ch.prototype.getIndexStartName=function(){return Ao(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es},Ch.prototype.hasEnd=function(){return this.endSet_},Ch.prototype.getIndexEndValue=function(){return Ao(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Ch.prototype.getIndexEndName=function(){return Ao(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ts},Ch.prototype.hasLimit=function(){return this.limitSet_},Ch.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Ch.prototype.getLimit=function(){return Ao(this.limitSet_,"Only valid if limit has been set"),this.limit_},Ch.prototype.getIndex=function(){return this.index_},Ch.prototype.copy_=function(){var t=new Ch;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},Ch.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},Ch.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},Ch.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ch.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},Ch.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},Ch.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},Ch.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},Ch.prototype.getQueryObject=function(){var t,e=Ch.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Au&&(n[e.INDEX]=this.index_.toString()),n},Ch.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Ch.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Au},Ch.prototype.getNodeFilter=function(){return this.loadsAllData()?new Zc(this.getIndex()):new(this.hasLimit()?Th:_h)(this)},Ch.prototype.toRestQueryStringParameters=function(){var t,e=Ch.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Au?e.PRIORITY_INDEX:this.index_===oc?e.VALUE_INDEX:this.index_===wu?e.KEY_INDEX:(Ao(this.index_ instanceof ac,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=Zo(t),this.startSet_&&(n[e.START_AT]=Zo(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Zo(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Zo(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Zo(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},Ch.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},Ch.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},Ch.DEFAULT=new Ch,Ch);function Ch(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Au}var Oh,kh=(bo(Nh,Oh=bc),Nh.prototype.getKey=function(){return ha("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Nh.prototype.child=function(t){var e,n,r;return ha("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Ps||(null===this.path.getFront()?(r=!(e=1),Qs("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):Qs("Reference.child",1,t,!1)),new Nh(this.repo,this.path.child(t))},Nh.prototype.getParent=function(){ha("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Nh(this.repo,t)},Nh.prototype.getRoot=function(){ha("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Nh.prototype.databaseProp=function(){return this.repo.database},Nh.prototype.set=function(t,e){ha("Reference.set",1,2,arguments.length),Xs("Reference.set",this.path),Hs("Reference.set",1,t,this.path,!1),pa("Reference.set",2,e,!0);var n=new Mo;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Nh.prototype.update=function(t,e){if(ha("Reference.update",1,2,arguments.length),Xs("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,ss("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ks("Reference.update",1,t,this.path,!1),pa("Reference.update",2,e,!0);var i=new Mo;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Nh.prototype.setWithPriority=function(t,e,n){if(ha("Reference.setWithPriority",2,3,arguments.length),Xs("Reference.setWithPriority",this.path),Hs("Reference.setWithPriority",1,t,this.path,!1),Gs("Reference.setWithPriority",2,e,!1),pa("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Mo;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Nh.prototype.remove=function(t){return ha("Reference.remove",0,1,arguments.length),Xs("Reference.remove",this.path),pa("Reference.remove",1,t,!0),this.set(null,t)},Nh.prototype.transaction=function(t,e,n){if(ha("Reference.transaction",1,3,arguments.length),Xs("Reference.transaction",this.path),pa("Reference.transaction",1,t,!1),pa("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(fa("Reference.transaction",3,r)+"must be a boolean.")}(0,0,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Mo;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new au(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},Nh.prototype.setPriority=function(t,e){ha("Reference.setPriority",1,2,arguments.length),Xs("Reference.setPriority",this.path),Gs("Reference.setPriority",1,t,!1),pa("Reference.setPriority",2,e,!0);var n=new Mo;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Nh.prototype.push=function(t,e){ha("Reference.push",0,2,arguments.length),Xs("Reference.push",this.path),Hs("Reference.push",1,t,this.path,!0),pa("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=fu(n),i=(n=this.child(r),this.child(r));return t=null!=t?n.set(t,e).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),"function"==typeof e&&t.catch((function(){})),n},Nh.prototype.onDisconnect=function(){return Xs("Reference.onDisconnect",this.path),new iu(this.repo,this.path)},Object.defineProperty(Nh.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Nh.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Nh);function Nh(t,e){if(!(t instanceof bh))throw new Error("new Reference() no longer supported - use app.database().");return Oh.call(this,t,e,Sh.DEFAULT,!1)||this}bc.__referenceConstructor=kh,vl.__referenceConstructor=kh;var Ah,xh=function(){this.children={},this.childCount=0,this.value=null},Ph=(Rh.prototype.subTree=function(t){for(var e=t instanceof Ps?t:new Ps(t),n=this,r=e.getFront();null!==r;)n=new Rh(r,n,na(n.node_.children,r)||new xh),r=(e=e.popFront()).getFront();return n},Rh.prototype.getValue=function(){return this.node_.value},Rh.prototype.setValue=function(t){Ao(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},Rh.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Rh.prototype.hasChildren=function(){return 0<this.node_.childCount},Rh.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Rh.prototype.forEachChild=function(t){var e=this;Cs(this.node_.children,(function(n,r){t(new Rh(n,e,r))}))},Rh.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},Rh.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},Rh.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},Rh.prototype.path=function(){return new Ps(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Rh.prototype.name=function(){return this.name_},Rh.prototype.parent=function(){return this.parent_},Rh.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Rh.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=ea(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},Rh);function Rh(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new xh),this.name_=t,this.parent_=e,this.node_=n}(K=Ah=Ah||{})[K.RUN=0]="RUN",K[K.SENT=1]="SENT",K[K.COMPLETED=2]="COMPLETED",K[K.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",K[K.NEEDS_ABORT=4]="NEEDS_ABORT",bh.MAX_TRANSACTION_RETRIES_=25,bh.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Ph},bh.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new kh(this,t);o.on("value",i);var a,s={path:t,update:e,onComplete:n,status:null,order:ys(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};e=this.getLatestState_(t),s.currentInputSnapshot=e,void 0===(n=s.update(e.val()))?(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&(a=new uc(s.currentInputSnapshot,new kh(this,s.path),Au),s.onComplete(null,!1,a))):(ru("transaction failed: Data returned ",n,s.path),s.status=Ah.RUN,(a=(r=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(s),r.setValue(a),r=void 0,"object"==typeof n&&null!==n&&ea(n,".priority")?(r=na(n,".priority"),Ao(zs(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(this.serverSyncTree_.calcCompleteEventCache(t)||Qu.EMPTY_NODE).getPriority().val(),a=this.generateServerValues(),a=Cc(r=nc(n,r),e,a),s.currentOutputSnapshotRaw=r,s.currentOutputSnapshotResolved=a,s.currentWriteId=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserOverwrite(t,a,s.currentWriteId,s.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,s),this.sendReadyTransactions_())},bh.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Qu.EMPTY_NODE},bh.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Ao(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===Ah.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},bh.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=u=this.getLatestState_(t,r),o=(r=u.hash(),0);o<e.length;o++){var a=e[o];Ao(a.status===Ah.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=Ah.SENT,a.retryCount++;var s=Ps.relativePath(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;this.server_.put(c.toString(),u,(function(r){n.log_("transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o,a,s=[],u=0;u<e.length;u++)e[u].status=Ah.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete&&(o=e[u].currentOutputSnapshotResolved,a=new kh(n,e[u].path),a=new uc(o,a,Au),s.push(e[u].onComplete.bind(null,null,!0,a))),e[u].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),u=0;u<s.length;u++)ks(s[u])}else{if("datastale"===r)for(u=0;u<e.length;u++)e[u].status===Ah.SENT_NEEDS_ABORT?e[u].status=Ah.NEEDS_ABORT:e[u].status=Ah.RUN;else for(ss("transaction at "+c.toString()+" failed: "+r),u=0;u<e.length;u++)e[u].status=Ah.NEEDS_ABORT,e[u].abortReason=r;n.rerunTransactions_(t)}}),r)},bh.prototype.rerunTransactions_=function(t){t=(e=this.getAncestorTransactionNode_(t)).path();var e=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(e,t),t},bh.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===Ah.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a,s,u,c=t[o],l=Ps.relativePath(e,c.path),h=!1,f=void 0;Ao(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Ah.NEEDS_ABORT?(h=!0,f=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):c.status===Ah.RUN&&(r=c.retryCount>=bh.MAX_TRANSACTION_RETRIES_?(h=!0,f="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):(a=this.getLatestState_(c.path,i),c.currentInputSnapshot=a,void 0!==(u=t[o].update(a.val()))?(ru("transaction failed: Data returned ",u,c.path),s=nc(u),"object"==typeof u&&null!=u&&ea(u,".priority")||(s=s.updatePriority(a.getPriority())),l=c.currentWriteId,u=Cc(s,a,u=this.generateServerValues()),c.currentOutputSnapshotRaw=s,c.currentOutputSnapshotResolved=u,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(l),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,u,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(h=!0,f="nodata",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=Ah.COMPLETED,c=t[o].unwatcher,setTimeout(c,Math.floor(0)),t[o].onComplete&&("nodata"===f?(h=new kh(this,t[o].path),c=t[o].currentInputSnapshot,h=new uc(c,h,Au),n.push(t[o].onComplete.bind(null,null,!1,h))):n.push(t[o].onComplete.bind(null,new Error(f),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)ks(n[o]);this.sendReadyTransactions_()}},bh.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},bh.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},bh.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},bh.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Ah.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},bh.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path();return(t=this.transactionQueueTree_.subTree(t)).forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(t),t.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},bh.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===Ah.SENT_NEEDS_ABORT||(e[o].status===Ah.SENT?(Ao(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=Ah.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Ao(e[o].status===Ah.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)ks(n[o])}};var Dh=(Mh.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(ws("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},Mh.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},Mh.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},Mh.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ss(t)},Mh);function Mh(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var Lh=(jh.prototype.getToken=function(t){return Promise.resolve({accessToken:jh.EMULATOR_AUTH_TOKEN})},jh.prototype.addTokenChangeListener=function(t){t(jh.EMULATOR_AUTH_TOKEN)},jh.prototype.removeTokenChangeListener=function(t){},jh.prototype.notifyForInvalidToken=function(){},jh.EMULATOR_AUTH_TOKEN="owner",jh);function jh(){}var Fh,Uh=(Vh.getInstance=function(){return Fh=Fh||new Vh},Vh.prototype.interrupt=function(){var t,e,n,r;try{for(var i=To(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,To(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Vh.prototype.resume=function(){var t,e,n,r;try{for(var i=To(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,To(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Vh.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new Us(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Lh)},Vh.prototype.databaseFromApp=function(t,e,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ws("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Bs(o,i),u=s.repoInfo;return r=void 0,"undefined"!=typeof n&&(r=Object({NODE_ENV:"production",PUBLIC_URL:"/journalReact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),r?(a=!0,u=(s=Bs(o="http://"+r+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure,e=i&&a?new Lh:new Dh(t,e),Js("Invalid Firebase Database URL",1,s),s.path.isEmpty()||as("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,t,e).database},Vh.prototype.deleteRepo=function(t){var e=na(this.repos_,t.app.name);e&&na(e,t.key)===t||as("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},Vh.prototype.createRepo=function(t,e,n){var r=na(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=na(r,t.toURLString());return i&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new bh(t,this.useRestClient_,e,n),r[t.toURLString()]=i},Vh.prototype.forceRestClient=function(t){this.useRestClient_=t},Vh);function Vh(){this.repos_={},this.useRestClient_=!1}var Bh=(Object.defineProperty(qh.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(qh.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new kh(this.repo_,Ps.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(qh.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),qh.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?as("Cannot call useEmulator() after instance has already been initialized."):Uh.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},qh.prototype.ref=function(t){return this.checkDeleted_("ref"),ha("database.ref",0,1,arguments.length),t instanceof kh?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},qh.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),ha(e,1,1,arguments.length);var n=Bs(t,this.repo_.repoInfo_.nodeAdmin);return Js(e,1,n),(t=n.repoInfo).isCustomHost()||t.host===this.repo_.repoInfo_.host||as(e+": Host name does not match the current database: (found "+t.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},qh.prototype.checkDeleted_=function(t){null===this.repoInternal_&&as("Cannot call "+t+" on a deleted database.")},qh.prototype.goOffline=function(){ha("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},qh.prototype.goOnline=function(){ha("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},qh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},qh);function qh(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){return this.checkDeleted_("delete"),Uh.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof bh||as("Don't call new Database() directly - please use firebase.database().")}var Wh=Object.freeze({__proto__:null,forceLongPolling:function(){rh.forceDisallow(),Ql.forceAllow()},forceWebSockets:function(){Ql.forceDisallow()},isWebSocketsAvailable:function(){return rh.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace;return t=void 0!==(t=t.nodeAdmin)&&t,eh(r),(r=new Ia("auth-internal",new Ca("database-standalone"))).setComponent(new _a("auth-internal",(function(){return i}),"PRIVATE")),{instance:Uh.getInstance().databaseFromApp(e,r,n,t),namespace:o}}});Dr=ph,ph.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ph.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var zh,Hh=Object.freeze({__proto__:null,DataConnection:Dr,RealTimeConnection:sh,hijackHash:function(t){var e=ph.prototype.put;return ph.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){ph.prototype.put=e}},ConnectionTarget:Us,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Uh.getInstance().forceRestClient(t)}}),Kh=Bh.ServerValue;eh((zh=Ja).SDK_VERSION),zh.INTERNAL.registerComponent(new _a("database",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),Uh.getInstance().databaseFromApp(n,t,e)}),"PUBLIC").setServiceProps({Reference:kh,Query:bc,Database:Bh,DataSnapshot:uc,enableLogging:is,INTERNAL:Wh,ServerValue:Kh,TEST_ACCESS:Hh}).setMultipleInstances(!0)),zh.registerVersion("@firebase/database","0.7.1");var Gh=function(t,e){return(Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function $h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};var Yh={},Qh=j||self;function Xh(){}function Jh(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Zh(t){var e=Jh(t);return"array"==e||"object"==e&&"number"==typeof t.length}function tf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ef="closure_uid_"+(1e9*Math.random()>>>0),nf=0;function rf(t,e,n){return t.call.apply(t.bind,arguments)}function of(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function af(t,e,n){return(af=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rf:of).apply(null,arguments)}function sf(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var uf=Date.now;function cf(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t}function lf(){this.j=this.j,this.i=this.i}lf.prototype.j=!1,lf.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,ef)&&t[ef]||(t[ef]=++nf))},lf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var hf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ff=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function pf(){return Array.prototype.concat.apply([],arguments)}function df(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vf(t){return/^[\s\xa0]*$/.test(t)}var yf,gf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mf(t,e){return-1!=t.indexOf(e)}function bf(t,e){return t<e?-1:e<t?1:0}var wf=Qh.navigator;function _f(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ef(t){var e,n={};for(e in t)n[e]=t[e];return n}yf=wf&&(wf=wf.userAgent)?wf:"";var Tf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Tf.length;i++)e=Tf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Sf(t){return Sf[" "](t),t}Sf[" "]=Xh;var Cf,Of=mf(yf,"Opera"),kf=mf(yf,"Trident")||mf(yf,"MSIE"),Nf=mf(yf,"Edge"),Af=Nf||kf,xf=mf(yf,"Gecko")&&!(mf(yf.toLowerCase(),"webkit")&&!mf(yf,"Edge"))&&!(mf(yf,"Trident")||mf(yf,"MSIE"))&&!mf(yf,"Edge"),Pf=mf(yf.toLowerCase(),"webkit")&&!mf(yf,"Edge");function Rf(){var t=Qh.document;return t?t.documentMode:void 0}var Df="",Mf=(Mf=yf,xf?/rv:([^\);]+)(\)|;)/.exec(Mf):Nf?/Edge\/([\d\.]+)/.exec(Mf):kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mf):Pf?/WebKit\/(\S+)/.exec(Mf):Of?/(?:Version)[ \/]?(\S+)/.exec(Mf):void 0);Mf&&(Df=Mf?Mf[1]:""),Cf=kf&&null!=(Mf=Rf())&&Mf>parseFloat(Df)?String(Mf):Df;var Lf={};function jf(t){return e=t,n=function(){for(var e=0,n=gf(String(Cf)).split("."),r=gf(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=bf(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||bf(0==a[2].length,0==s[2].length)||bf(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Lf,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var Ff=Qh.document&&kf&&(Rf()||parseInt(Cf,10))||void 0,Uf=!kf||9<=Number(Ff),Vf=kf&&!jf("9"),Bf=function(){if(!Qh.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qh.addEventListener("test",Xh,e),Qh.removeEventListener("test",Xh,e)}catch(t){}return t}();function qf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Wf(t,e){if(qf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xf){t:{try{Sf(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}qf.prototype.b=function(){this.defaultPrevented=!0},cf(Wf,qf);var zf={2:"touch",3:"pen",4:"mouse"};Wf.prototype.b=function(){Wf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Hf="closure_listenable_"+(1e6*Math.random()|0),Kf=0;function Gf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Kf,this.Y=this.Z=!1}function $f(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Yf(t){this.src=t,this.a={},this.b=0}function Qf(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=hf(n,e)))&&Array.prototype.splice.call(n,r,1),i&&($f(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Xf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Yf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xf(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Gf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Jf="closure_lm_"+(1e6*Math.random()|0),Zf={};function tp(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=up(r),e&&e[Hf]?e.wa(n,r,tf(i)?!!i.capture:!!i,o):ep(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)tp(t,e[o],n,r,i);return null}return n=up(n),t&&t[Hf]?t.va(e,n,tf(r)?!!r.capture:!!r,i):ep(t,e,n,!1,r,i)}function ep(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=tf(i)?!!i.capture:!!i;if(a&&!Uf)return null;var s,u,c=ap(t);if(c||(t[Jf]=c=new Yf(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=op,r=u=Uf?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)Bf||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rp(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function np(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Hf]?Qf(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rp(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ap(e))?(Qf(n,t),0==n.b&&(n.src=null,e[Jf]=null)):$f(t)))}function rp(t){return t in Zf?Zf[t]:Zf[t]="on"+t}function ip(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&np(t),n.call(r,e)}function op(t,e){if(t.Y)return!0;if(Uf)return ip(t,new Wf(e,this));if(!e)t:{e=["window","event"];for(var n=Qh,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ip(t,e=new Wf(e,this))}function ap(t){return(t=t[Jf])instanceof Yf?t:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(t){return"function"==Jh(t)?t:(t[sp]||(t[sp]=function(e){return t.handleEvent(e)}),t[sp])}function cp(){lf.call(this),this.c=new Yf(this),(this.J=this).C=null}function lp(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new qf(e,t):e instanceof qf?e.target=e.target||t:(a=e,If(e=new qf(r,t),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],a=hp(o,r,!0,e)&&a;if(a=hp(o=e.a=t,r,!0,e)&&a,a=hp(o,r,!1,e)&&a,n)for(i=0;i<n.length;i++)a=hp(o=e.a=n[i],r,!1,e)&&a}function hp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&Qf(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}cf(cp,lf),cp.prototype[Hf]=!0,(gu=cp.prototype).addEventListener=function(t,e,n,r){tp(this,t,e,n,r)},gu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=tf(i)?!!i.capture:!!i,r=up(r),e&&e[Hf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Xf(a=e.a[n],r,i,o))&&($f(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&ap(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Xf(n,r,i,o)),(r=-1<e?n[e]:null)&&np(r))}(this,t,e,n,r)},gu.G=function(){if(cp.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$f(n[r]);delete e.a[t],e.b--}}this.C=null},gu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},gu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var fp=Qh.JSON.stringify;function pp(){this.b=this.a=null}var dp,vp=(yp.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new yp((function(){return new gp}),(function(t){t.reset()}),100));function yp(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function gp(){this.next=this.b=this.a=null}function mp(t,e){var n;dp||(n=Qh.Promise.resolve(void 0),dp=function(){n.then(_p)}),bp||(dp(),bp=!0),wp.add(t,e)}pp.prototype.add=function(t,e){var n=vp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},gp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var bp=!(gp.prototype.reset=function(){this.next=this.b=this.a=null}),wp=new pp;function _p(){for(var t,e;n=e=void 0,n=null,(e=wp).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){Qh.setTimeout((function(){throw t}),0)}(t)}var n=vp;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}bp=!1}function Ep(t,e){cp.call(this),this.b=t||1,this.a=e||Qh,this.f=af(this.Xa,this),this.g=uf()}function Tp(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ip(t,e,n){if("function"==Jh(t))n&&(t=af(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=af(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qh.setTimeout(t,e||0)}cf(Ep,cp),(gu=Ep.prototype).aa=!1,gu.M=null,gu.Xa=function(){var t;this.aa&&(0<(t=uf()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),lp(this,"tick"),this.aa&&(Tp(this),this.start())))},gu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=uf())},gu.G=function(){Ep.X.G.call(this),Tp(this),delete this.a};var Sp,Cp,Op,kp=(Gh(Cp=Ap,Op=Sp=lf),Cp.prototype=null===Op?Object.create(Op):(Np.prototype=Op.prototype,new Np),Ap.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Ip((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Ap.prototype.G=function(){Sp.prototype.G.call(this),this.a&&(Qh.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},Ap);function Np(){this.constructor=Cp}function Ap(t,e,n){var r=Sp.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function xp(t){lf.call(this),this.b=t,this.a={}}cf(xp,lf);var Pp=[];function Rp(t,e,n,r){Array.isArray(n)||(n&&(Pp[0]=n.toString()),n=Pp);for(var i=0;i<n.length;i++){var o=tp(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Dp(t){_f(t.a,(function(t,e){this.a.hasOwnProperty(e)&&np(t)}),t),t.a={}}function Mp(){this.a=!0}function Lp(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return fp(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}xp.prototype.G=function(){xp.X.G.call(this),Dp(this)},xp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mp.prototype.info=function(){};var jp,Fp=null;function Up(){return Fp=Fp||new cp}function Vp(t){qf.call(this,"serverreachability",t)}function Bp(t){var e=Up();lp(e,new Vp(e))}function qp(t){qf.call(this,"statevent",t)}function Wp(t){var e=Up();lp(e,new qp(e))}function zp(t){qf.call(this,"timingevent",t)}function Hp(t,e){if("function"!=Jh(t))throw Error("Fn must not be null and must be a function");return Qh.setTimeout((function(){t()}),e)}function Kp(){}function Gp(t){var e;return(e=t.a)||(e=t.a={}),e}function $p(){}function Yp(){qf.call(this,"d")}function Qp(){qf.call(this,"c")}function Xp(){}function Jp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xp(this),this.P=Zp,t=Af?125:void 0,this.R=new Ep(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}cf(Vp,qf),cf(qp,qf),cf(zp,qf),K={NO_ERROR:0,Ya:1,fb:2,eb:3,ab:4,cb:5,gb:6,Da:7,TIMEOUT:8,jb:9},Dr={$a:"complete",nb:"success",Ea:"error",Da:"abort",lb:"ready",mb:"readystatechange",TIMEOUT:"timeout",hb:"incrementaldata",kb:"progress",bb:"downloadprogress",ob:"uploadprogress"},Kp.prototype.a=null,j={OPEN:"a",Za:"b",Ea:"c",ib:"d"},cf(Yp,qf),cf(Qp,qf),cf(Xp,Kp),jp=new Xp;var Zp=45e3,td={},ed={};function nd(t,e,n){t.H=1,t.i=Td(gd(e)),t.j=n,t.I=!0,rd(t,null)}function rd(t,e){t.u=uf(),od(t),t.l=gd(t.i);var n,r,i,o,a,s,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),Ld(u.b,"t",c),t.D=0,t.a=Nv(t.g,t.g.C?e:null),0<t.O&&(t.F=new kp(af(t.Ca,t,t.a),t.O)),Rp(t.J,t.a,"readystatechange",t.Va),e=t.B?Ef(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Bp(1),n=t.c,r=t.m,i=t.l,o=t.f,a=t.S,s=t.j,n.info((function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t}))}function id(t,e,n){for(var r,i,o,a=!0;!t.A&&t.D<n.length;){var s=(s=n,o=i=void 0,i=(r=t).D,-1==(o=s.indexOf("\n",i))?ed:(i=Number(s.substring(i,o)),isNaN(i)?td:(o+=1)+i>s.length?ed:(s=s.substr(o,i),r.D=o+i,s)));if(s==ed){4==e&&(t.h=4,Wp(14),a=!1),Lp(t.c,t.f,null,"[Incomplete Response]");break}if(s==td){t.h=4,Wp(15),Lp(t.c,t.f,n,"[Invalid Chunk]"),a=!1;break}Lp(t.c,t.f,s,null),ld(t,s)}4==e&&0==n.length&&(t.h=1,Wp(16),a=!1),t.b=t.b&&a,a?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_v(e),e.F=!0,Wp(11))):(Lp(t.c,t.f,n,"[Invalid Chunked Response]"),cd(t),ud(t))}function od(t){t.T=uf()+t.P,ad(t,t.P)}function ad(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hp(af(t.Ta,t),e)}function sd(t){t.o&&(Qh.clearTimeout(t.o),t.o=null)}function ud(t){0==t.g.v||t.A||Iv(t.g,t)}function cd(t){sd(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Tp(t.R),Dp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ld(t,e){try{var n,r,i,o,a,s=t.g;if(0!=s.v&&(s.a==t||Wd(s.b,t)))if(s.I=t.N,!t.C&&Wd(s.b,t)&&3==s.v){try{var u=s.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!s.j){if(s.a){if(!(s.a.u+3e3<t.u))break t;Tv(s),fv(s)}wv(s),Wp(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=Hp(af(s.Qa,s),6e3));if(qd(s.b)<=1&&s.ea){try{s.ea()}catch(t){}s.ea=void 0}}else Cv(s,11)}else if(!t.C&&s.a!=t||Tv(s),!vf(e))for(e=u=s.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(mf(r,"spdy")||mf(r,"quic")||mf(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(zd(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,Ed(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=uf()-t.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=t,(n=s).la=kv(n,n.C?n.ga:null,n.fa),i.C?(Hd(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(sd(o),od(o)),n.a=i):bv(n),0<s.g.length&&vv(s)):"stop"!=c[0]&&"close"!=c[0]||Cv(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Cv(s,7):hv(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);Bp(4)}catch(t){}}function hd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zh(t)||"string"==typeof t)ff(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fd(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fd)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];dd(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)dd(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function dd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(gu=Jp.prototype).setTimeout=function(t){this.P=t},gu.Va=function(t){t=t.target;var e=this.F;e&&3==sv(t)?e.f():this.Ca(t)},gu.Ca=function(t){try{if(t==this.a)t:{var e=sv(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!Af&&!this.a.$())){this.A||4!=e||7==n||Bp(8==n||r<=0?3:2),sd(this);var i=this.a.W();if(this.N=i,n=this.a.$(),this.b=200==i,r=this.c,s=this.m,u=this.l,c=this.f,l=this.S,h=e,f=i,r.info((function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+s+"\n"+u+"\n"+h+" "+f})),this.b){if(this.U&&!this.C){e:{if(this.a){var o=this.a;if((o=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vf(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Wp(12),cd(this),ud(this);break t}Lp(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ld(this,a)}this.I?(id(this,e,n),Af&&this.b&&3==e&&(Rp(this.J,this.R,"tick",this.Ua),this.R.start())):(Lp(this.c,this.f,n,null),ld(this,n)),4==e&&cd(this),this.b&&!this.A&&(4==e?Iv(this.g,this):(this.b=!1,od(this)))}else 400==i&&0<n.indexOf("Unknown SID")?(this.h=3,Wp(12)):(this.h=0,Wp(13)),cd(this),ud(this)}}}catch(t){}var s,u,c,l,h,f},gu.Ua=function(){var t,e;this.a&&(t=sv(this.a),e=this.a.$(),this.D<e.length&&(sd(this),id(this,t,e),this.b&&4!=t&&od(this)))},gu.cancel=function(){this.A=!0,cd(this)},gu.Ta=function(){this.o=null;var t,e,n=uf();0<=n-this.T?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(Bp(3),Wp(17)),cd(this),this.h=2,ud(this)):ad(this,this.T-n)},(gu=fd.prototype).K=function(){pd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},gu.L=function(){return pd(this),this.a.concat()},gu.get=function(t,e){return dd(this.b,t)?this.b[t]:e},gu.set=function(t,e){dd(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},gu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yd(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof yd?(this.a=void 0!==e?e:t.a,md(this,t.f),this.j=t.j,bd(this,t.c),wd(this,t.h),this.g=t.g,e=t.b,(n=new Pd).c=e.c,e.a&&(n.a=new fd(e.a),n.b=e.b),_d(this,n),this.i=t.i):t&&(n=String(t).match(vd))?(this.a=!!e,md(this,n[1]||"",!0),this.j=Id(n[2]||""),bd(this,n[3]||"",!0),wd(this,n[4]),this.g=Id(n[5]||"",!0),_d(this,n[6]||"",!0),this.i=Id(n[7]||"")):(this.a=!!e,this.b=new Pd(null,this.a))}function gd(t){return new yd(t)}function md(t,e,n){t.f=n?Id(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bd(t,e,n){t.c=n?Id(e,!0):e}function wd(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _d(t,e,n){var r,i;e instanceof Pd?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(Rd(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Dd(this,e),Ld(this,n,t))}),r)),r.f=i):(n||(e=Sd(e,Ad)),t.b=new Pd(e,t.a))}function Ed(t,e,n){t.b.set(e,n)}function Td(t){return Ed(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^uf()).toString(36)),t}function Id(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Sd(e,Od,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(Sd(e,Od,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Sd(n,"/"==n.charAt(0)?Nd:kd,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Sd(n,xd)),t.join("")};var Od=/[#\/\?@]/g,kd=/[#\?:]/g,Nd=/[#\?]/g,Ad=/[#\?@]/g,xd=/#/g;function Pd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rd(t){t.a||(t.a=new fd,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dd(t,e){Rd(t),e=jd(t,e),dd(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,dd((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&pd(t)))}function Md(t,e){return Rd(t),e=jd(t,e),dd(t.a.b,e)}function Ld(t,e,n){Dd(t,e),0<n.length&&(t.c=null,t.a.set(jd(t,e),df(n)),t.b+=n.length)}function jd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Fd(t,e){this.b=t,this.a=e}function Ud(t){this.g=t||Vd,t=Qh.PerformanceNavigationTiming?0<(t=Qh.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qh.ia&&Qh.ia.ya&&Qh.ia.ya()&&Qh.ia.ya().pb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(gu=Pd.prototype).add=function(t,e){Rd(this),this.c=null,t=jd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},gu.forEach=function(t,e){Rd(this),this.a.forEach((function(n,r){ff(n,(function(n){t.call(e,n,r,this)}),this)}),this)},gu.L=function(){Rd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},gu.K=function(t){Rd(this);var e=[];if("string"==typeof t)Md(this,t)&&(e=pf(e,this.a.get(jd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=pf(e,t[n])}return e},gu.set=function(t,e){return Rd(this),this.c=null,Md(this,t=jd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},gu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},gu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Vd=10;function Bd(t){return t.b||t.a&&t.a.size>=t.f}function qd(t){return t.b?1:t.a?t.a.size:0}function Wd(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function zd(t,e){t.a?t.a.add(e):t.b=e}function Hd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Kd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return df(t.c);var r=t.c;try{for(var i=$h(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Gd(){}function $d(){this.a=new Gd}function Yd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ud.prototype.cancel=function(){var t,e;if(this.c=Kd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=$h(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Gd.prototype.stringify=function(t){return Qh.JSON.stringify(t,void 0)},Gd.prototype.parse=function(t){return Qh.JSON.parse(t,void 0)};var Qd=Qh.JSON.parse;function Xd(t){cp.call(this),this.headers=new fd,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Jd,this.D=this.F=!1}cf(Xd,cp);var Jd="",Zd=/^https?$/i,tv=["POST","PUT"];function ev(t){return"content-type"==t.toLowerCase()}function nv(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,rv(t),ov(t)}function rv(t){t.u||(t.u=!0,lp(t,"complete"),lp(t,"error"))}function iv(t){if(t.b&&void 0!==Yh&&(!t.s[1]||4!=sv(t)||2!=t.W()))if(t.l&&4==sv(t))Ip(t.za,0,t);else if(lp(t,"readystatechange"),4==sv(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(vd)[1]||null)&&Qh.self&&Qh.self.location&&(i=(r=Qh.self.location.protocol).substr(0,r.length-1)),n=!Zd.test(i?i.toLowerCase():"")),e=n),e)lp(t,"complete"),lp(t,"success");else{t.h=6;try{var s=2<sv(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.W()+"]",rv(t)}}finally{ov(t)}}}function ov(t,e){if(t.a){av(t);var n=t.a,r=t.s[0]?Xh:null;t.a=null,t.s=null,e||lp(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function av(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Qh.clearTimeout(t.m),t.m=null)}function sv(t){return t.a?t.a.readyState:0}function uv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",_f(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ed(t,e,n))}function cv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lv(t){this.pa=0,this.g=[],this.c=new Mp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Ma=this.R=0,this.Ja=cv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Fa=cv("baseRetryDelayMs",5e3,t),this.Pa=cv("retryDelaySeedMs",1e4,t),this.Ka=cv("forwardChannelMaxRetries",2,t),this.ma=cv("forwardChannelRequestTimeoutMs",2e4,t),this.La=t&&t.h||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ud(t&&t.concurrentRequestLimit),this.ka=new $d,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.g&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ia=t&&t.f||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function hv(t){var e,n;pv(t),3==t.v&&(e=t.R++,Ed(n=gd(t.B),"SID",t.J),Ed(n,"RID",e),Ed(n,"TYPE","terminate"),gv(t,n),(e=new Jp(t,t.c,e,void 0)).H=2,e.i=Td(gd(n)),n=!1,Qh.navigator&&Qh.navigator.sendBeacon&&(n=Qh.navigator.sendBeacon(e.i.toString(),"")),!n&&Qh.Image&&((new Image).src=e.i,n=!0),n||(e.a=Nv(e.g,null),e.a.ba(e.i)),e.u=uf(),od(e)),Ov(t)}function fv(t){t.a&&(_v(t),t.a.cancel(),t.a=null)}function pv(t){fv(t),t.j&&(Qh.clearTimeout(t.j),t.j=null),Tv(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Qh.clearTimeout(t.h),t.h=null)}function dv(t,e){t.g.push(new Fd(t.Ma++,e)),3==t.v&&vv(t)}function vv(t){Bd(t.b)||t.h||(t.h=!0,mp(t.Ba,t),t.u=0)}function yv(t,e){var n=e?e.f:t.R++,r=gd(t.B);Ed(r,"SID",t.J),Ed(r,"RID",n),Ed(r,"AID",t.P),gv(t,r),t.i&&t.l&&uv(r,t.i,t.l),n=new Jp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=mv(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zd(t.b,n),nd(n,r,e)}function gv(t,e){t.f&&hd({},(function(t,n){Ed(e,n,t)}))}function mv(t,e,n){n=Math.min(t.g.length,n);var r=t.f?af(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r=n||"";try{hd(t,(function(t,n){var i=t;tf(t)&&(i=fp(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function bv(t){t.a||t.j||(t.T=1,mp(t.Aa,t),t.o=0)}function wv(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Hp(af(t.Aa,t),Sv(t,t.o)),t.o++,1)}function _v(t){null!=t.s&&(Qh.clearTimeout(t.s),t.s=null)}function Ev(t){t.a=new Jp(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gd(t.la);Ed(e,"RID","rpc"),Ed(e,"SID",t.J),Ed(e,"CI",t.H?"0":"1"),Ed(e,"AID",t.P),gv(t,e),Ed(e,"TYPE","xmlhttp"),t.i&&t.l&&uv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Td(gd(e)),n.j=null,n.I=!0,rd(n,t)}function Tv(t){null!=t.m&&(Qh.clearTimeout(t.m),t.m=null)}function Iv(t,e){var n,r=null;if(t.a==e){Tv(t),_v(t),t.a=null;var i=2}else{if(!Wd(t.b,e))return;r=e.s,Hd(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=uf()-e.u,n=t.u,lp(i=Up(),new zp(i)),vv(t)):bv(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(qd(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.Ja?0:t.Ka)))return t.h=Hp(af(t.Ba,t,e),Sv(t,t.u)),t.u++,1}}(t,e)||2==i&&wv(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:Cv(t,5);break;case 4:Cv(t,10);break;case 3:Cv(t,6);break;default:Cv(t,2)}}function Sv(t,e){var n=t.Fa+Math.floor(Math.random()*t.Pa);return t.f||(n*=2),n*e}function Cv(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=af(t.Wa,t),r||(r=new yd("//www.google.com/images/cleardot.gif"),Qh.location&&"http"==Qh.location.protocol||md(r,"https"),Td(r)),n=r.toString(),r=o,o=new Mp,Qh.Image?((i=new Image).onload=sf(Yd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=sf(Yd,o,i,"TestLoadImage: error",!1,r),i.onabort=sf(Yd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=sf(Yd,o,i,"TestLoadImage: timeout",!1,r),Qh.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Wp(2),t.v=0,t.f&&t.f.ra(e),Ov(t),pv(t)}function Ov(t){t.v=0,t.I=-1,t.f&&(0==Kd(t.b).length&&0==t.g.length||(t.b.c.length=0,df(t.g),t.g.length=0),t.f.qa())}function kv(t,e,n){var r,i,o,a,s,u=(a=n)instanceof yd?gd(a):new yd(a,void 0);return""!=u.c?(e&&bd(u,e+"."+u.c),wd(u,u.h)):(r=(s=Qh.location).protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new yd(null,void 0),r&&md(s,r),i&&bd(s,i),o&&wd(s,o),a&&(s.g=a),u=s),t.V&&_f(t.V,(function(t,e){Ed(u,e,t)})),e=t.A,n=t.na,e&&n&&Ed(u,e,n),Ed(u,"VER",t.ha),gv(t,u),u}function Nv(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xd(t.La)).F=t.C,e}function Av(){}function xv(){if(kf&&!(10<=Number(Ff)))throw Error("Environmental error: no available transport.")}function Pv(t,e){cp.call(this),this.a=new lv(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vf(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vf(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Mv(this)}function Rv(t){Yp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Dv(){Qp.call(this),this.status=1}function Mv(t){this.a=t}(gu=Xd.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Gp(this.H):Gp(jp),this.a.onreadystatechange=af(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void nv(this,t)}t=n||"";var i,o=new fd(this.headers);r&&hd(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ev,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=Qh.FormData&&t instanceof Qh.FormData,0<=hf(tv,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{av(this),0<this.o&&((this.D=(i=this.a,kf&&jf(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=af(this.xa,this)):this.m=Ip(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){nv(this,t)}},gu.xa=function(){void 0!==Yh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,lp(this,"timeout"),this.abort(8))},gu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,lp(this,"complete"),lp(this,"abort"),ov(this))},gu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ov(this,!0)),Xd.X.G.call(this)},gu.za=function(){this.j||(this.A||this.l||this.g?iv(this):this.Sa())},gu.Sa=function(){iv(this)},gu.W=function(){try{return 2<sv(this)?this.a.status:-1}catch(i){return-1}},gu.$=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},gu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qd(e)}},gu.ua=function(){return this.h},gu.Oa=function(){return"string"==typeof this.f?this.f:String(this.f)},(gu=lv.prototype).ha=8,gu.v=1,gu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Jp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?If(r=Ef(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=mv(this,n,e),Ed(i=gd(this.B),"RID",t),Ed(i,"CVER",22),this.A&&Ed(i,"X-HTTP-Session-Id",this.A),gv(this,i),this.i&&r&&uv(i,this.i,r),zd(this.b,n),this.Ga&&Ed(i,"TYPE","init"),this.da?(Ed(i,"$req",e),Ed(i,"SID","null"),n.U=!0,nd(n,i,null)):nd(n,i,e),this.v=2}}else 3==this.v&&(t?yv(this,t):0==this.g.length||Bd(this.b)||yv(this))},gu.Aa=function(){var t;this.j=null,Ev(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Hp(af(this.Ra,this),t))},gu.Ra=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Wp(10),fv(this),Ev(this))},gu.Qa=function(){null!=this.m&&(this.m=null,fv(this),wv(this),Wp(19))},gu.Wa=function(t){t?(this.c.info("Successfully pinged google.com"),Wp(2)):(this.c.info("Failed to ping google.com"),Wp(1))},(gu=Av.prototype).ta=function(){},gu.sa=function(){},gu.ra=function(){},gu.qa=function(){},gu.Ha=function(){},xv.prototype.a=function(t,e){return new Pv(t,e)},cf(Pv,cp),Pv.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Wp(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=kv(t,null,t.fa),vv(t)},Pv.prototype.close=function(){hv(this.a)},Pv.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,dv(this.a,e)):this.l?((e={}).__data__=fp(t),dv(this.a,e)):dv(this.a,t)},Pv.prototype.G=function(){this.a.f=null,delete this.f,hv(this.a),delete this.a,Pv.X.G.call(this)},cf(Rv,Yp),cf(Dv,Qp),cf(Mv,Av),Mv.prototype.ta=function(){lp(this.a,"a")},Mv.prototype.sa=function(t){lp(this.a,new Rv(t))},Mv.prototype.ra=function(t){lp(this.a,new Dv)},Mv.prototype.qa=function(){lp(this.a,"b")},xv.prototype.createWebChannel=xv.prototype.a,Pv.prototype.send=Pv.prototype.h,Pv.prototype.open=Pv.prototype.g,K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Dr.COMPLETE="complete",($p.EventType=j).OPEN="a",j.CLOSE="b",j.ERROR="c",j.MESSAGE="d",cp.prototype.listen=cp.prototype.va,Xd.prototype.listenOnce=Xd.prototype.wa,Xd.prototype.getLastError=Xd.prototype.Oa,Xd.prototype.getLastErrorCode=Xd.prototype.ua,Xd.prototype.getStatus=Xd.prototype.W,Xd.prototype.getResponseJson=Xd.prototype.Na,Xd.prototype.getResponseText=Xd.prototype.$,Xd.prototype.send=Xd.prototype.ba;var Lv=K,jv=Dr,Fv=$p,Uv=Xd,Vv=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Bv=(Object.defineProperty(Wv.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Wv.prototype.isEqual=function(t){return t instanceof Wv&&t.projectId===this.projectId&&t.database===this.database},Wv),qv=new Ma("@firebase/firestore");function Wv(t,e){this.projectId=t,this.database=e||"(default)"}function zv(){return qv.logLevel}function Hv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qv.logLevel<=Na.DEBUG&&(e=n.map($v),qv.debug.apply(qv,Co(["Firestore (8.0.2): "+t],e)))}function Kv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qv.logLevel<=Na.ERROR&&(e=n.map($v),qv.error.apply(qv,Co(["Firestore (8.0.2): "+t],e)))}function Gv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qv.logLevel<=Na.WARN&&(e=n.map($v),qv.warn.apply(qv,Co(["Firestore (8.0.2): "+t],e)))}function $v(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Yv(t){throw void 0===t&&(t="Unexpected state"),Kv(t="FIRESTORE (8.0.2) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function Qv(t){t||Yv()}var Xv=(Jv.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Jv);function Jv(){}function Zv(t,e){return t<e?-1:e<t?1:0}function ty(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ey(t){return t+"\0"}function ny(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function ry(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iy(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var oy,ay,sy,uy=(Iy.prototype.get=function(t){var e=this.h(t);if(void 0!==(e=this._[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.l(i,t))return o}},Iy.prototype.has=function(t){return void 0!==this.get(t)},Iy.prototype.set=function(t,e){var n=this.h(t),r=this._[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.l(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this._[n]=[[t,e]]},Iy.prototype.delete=function(t){var e=this.h(t),n=this._[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.l(n[r][0],t))return 1===n.length?delete this._[e]:n.splice(r,1),!0;return!1},Iy.prototype.forEach=function(t){ry(this._,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];t(o,a)}}))},Iy.prototype.T=function(){return iy(this._)},Iy),cy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ly=(bo(Ty,sy=Error),Ty),hy=(Ey.now=function(){return Ey.fromMillis(Date.now())},Ey.fromDate=function(t){return Ey.fromMillis(t.getTime())},Ey.fromMillis=function(t){var e=Math.floor(t/1e3);return new Ey(e,1e6*(t-1e3*e))},Ey.prototype.toDate=function(){return new Date(this.toMillis())},Ey.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Ey.prototype.I=function(t){return this.seconds===t.seconds?Zv(this.nanoseconds,t.nanoseconds):Zv(this.seconds,t.seconds)},Ey.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Ey.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Ey.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Ey.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Ey),fy=(_y.m=function(t){return new _y(t)},_y.min=function(){return new _y(new hy(0,0))},_y.prototype.A=function(t){return this.timestamp.I(t.timestamp)},_y.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},_y.prototype.R=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},_y.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},_y.prototype.P=function(){return this.timestamp},_y),py=(Object.defineProperty(wy.prototype,"length",{get:function(){return this.g},enumerable:!1,configurable:!0}),wy.prototype.isEqual=function(t){return 0===wy.V(this,t)},wy.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof wy?t.forEach((function(t){e.push(t)})):e.push(t),this.p(e)},wy.prototype.limit=function(){return this.offset+this.length},wy.prototype.v=function(t){return t=void 0===t?1:t,this.p(this.segments,this.offset+t,this.length-t)},wy.prototype.S=function(){return this.p(this.segments,this.offset,this.length-1)},wy.prototype.D=function(){return this.segments[this.offset]},wy.prototype.C=function(){return this.get(this.length-1)},wy.prototype.get=function(t){return this.segments[this.offset+t]},wy.prototype.T=function(){return 0===this.length},wy.prototype.N=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},wy.prototype.F=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},wy.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},wy.prototype.O=function(){return this.segments.slice(this.offset,this.limit())},wy.V=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},bo(by,ay=j=wy),by.prototype.p=function(t,e,n){return new by(t,e,n)},by.prototype.M=function(){return this.O().join("/")},by.prototype.toString=function(){return this.M()},by.k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new ly(cy.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new by(n)},by.$=function(){return new by([])},by),dy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vy=(bo(my,oy=j),my.prototype.p=function(t,e,n){return new my(t,e,n)},my.L=function(t){return dy.test(t)},my.prototype.M=function(){return this.O().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),my.L(t)||(t="`"+t+"`"),t})).join(".")},my.prototype.toString=function(){return this.M()},my.prototype.B=function(){return 1===this.length&&"__name__"===this.get(0)},my.q=function(){return new my(["__name__"])},my.U=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new ly(cy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new ly(cy.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ly(cy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new ly(cy.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new my(e)},my.$=function(){return new my([])},my),yy=(gy.K=function(t){return new gy(py.k(t))},gy.W=function(t){return new gy(py.k(t).v(5))},gy.prototype.j=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},gy.prototype.isEqual=function(t){return null!==t&&0===py.V(this.path,t.path)},gy.prototype.toString=function(){return this.path.toString()},gy.V=function(t,e){return py.V(t.path,e.path)},gy.G=function(t){return t.length%2==0},gy.H=function(t){return new gy(new py(t.slice()))},gy);function gy(t){this.path=t}function my(){return null!==oy&&oy.apply(this,arguments)||this}function by(){return null!==ay&&ay.apply(this,arguments)||this}function wy(t,e,n){void 0===e?e=0:e>t.length&&Yv(),void 0===n?n=t.length-e:n>t.length-e&&Yv(),this.segments=t,this.offset=e,this.g=n}function _y(t){this.timestamp=t}function Ey(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new ly(cy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new ly(cy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ly(cy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new ly(cy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Ty(t,e){var n=this;return(n=sy.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Iy(t,e){this.h=t,this.l=e,this._={}}function Sy(t){return null==t}function Cy(t){return 0===t&&1/t==-1/0}function Oy(t){return"number"==typeof t&&Number.isInteger(t)&&!Cy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ky=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.J=null};function Ny(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ky(t,e,n,r,i,o,a)}function Ay(t){var e=t;return null===e.J&&(t=e.path.M(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return(t=t).field.M()+t.op.toString()+xg(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return(t=t).field.M()+t.dir})).join(","),Sy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=lw(e.startAt)),e.endAt&&(t+="|ub:",t+=lw(e.endAt)),e.J=t),e.J}function xy(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Og(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Py(t){return yy.G(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ry=(Dy.fromBase64String=function(t){return new Dy(atob(t))},Dy.fromUint8Array=function(t){return new Dy(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},Dy.prototype.toBase64=function(){return t=this.Y,btoa(t);var t},Dy.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Y)},Dy.prototype.X=function(){return 2*this.Y.length},Dy.prototype.A=function(t){return Zv(this.Y,t.Y)},Dy.prototype.isEqual=function(t){return this.Y===t.Y},Dy);function Dy(t){this.Y=t}function My(t){this.count=t}Ry.Z=new Ry("");var Ly,jy=(Fy.prototype.nt=function(t){return new Fy(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Fy.prototype.st=function(t,e){return new Fy(this.target,this.targetId,this.tt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Fy.prototype.it=function(t){return new Fy(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)},Fy);function Fy(t,e,n,r,i,o,a){void 0===i&&(i=fy.min()),void 0===o&&(o=fy.min()),void 0===a&&(a=Ry.Z),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function Uy(t){switch(t){case cy.OK:return Yv(),0;case cy.CANCELLED:case cy.UNKNOWN:case cy.DEADLINE_EXCEEDED:case cy.RESOURCE_EXHAUSTED:case cy.INTERNAL:case cy.UNAVAILABLE:case cy.UNAUTHENTICATED:return;case cy.INVALID_ARGUMENT:case cy.NOT_FOUND:case cy.ALREADY_EXISTS:case cy.PERMISSION_DENIED:case cy.FAILED_PRECONDITION:case cy.ABORTED:case cy.OUT_OF_RANGE:case cy.UNIMPLEMENTED:case cy.DATA_LOSS:return 1;default:return Yv(),0}}function Vy(t){if(void 0===t)return Kv("GRPC error has no .code"),cy.UNKNOWN;switch(t){case Ly.OK:return cy.OK;case Ly.CANCELLED:return cy.CANCELLED;case Ly.UNKNOWN:return cy.UNKNOWN;case Ly.DEADLINE_EXCEEDED:return cy.DEADLINE_EXCEEDED;case Ly.RESOURCE_EXHAUSTED:return cy.RESOURCE_EXHAUSTED;case Ly.INTERNAL:return cy.INTERNAL;case Ly.UNAVAILABLE:return cy.UNAVAILABLE;case Ly.UNAUTHENTICATED:return cy.UNAUTHENTICATED;case Ly.INVALID_ARGUMENT:return cy.INVALID_ARGUMENT;case Ly.NOT_FOUND:return cy.NOT_FOUND;case Ly.ALREADY_EXISTS:return cy.ALREADY_EXISTS;case Ly.PERMISSION_DENIED:return cy.PERMISSION_DENIED;case Ly.FAILED_PRECONDITION:return cy.FAILED_PRECONDITION;case Ly.ABORTED:return cy.ABORTED;case Ly.OUT_OF_RANGE:return cy.OUT_OF_RANGE;case Ly.UNIMPLEMENTED:return cy.UNIMPLEMENTED;case Ly.DATA_LOSS:return cy.DATA_LOSS;default:return Yv()}}(K=Ly=Ly||{})[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var By=(Ky.prototype.rt=function(t,e){return new Ky(this.V,this.root.rt(t,e,this.V).copy(null,null,Wy.ot,null,null))},Ky.prototype.remove=function(t){return new Ky(this.V,this.root.remove(t,this.V).copy(null,null,Wy.ot,null,null))},Ky.prototype.get=function(t){for(var e=this.root;!e.T();){var n=this.V(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Ky.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.T();){var r=this.V(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Ky.prototype.T=function(){return this.root.T()},Object.defineProperty(Ky.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Ky.prototype.at=function(){return this.root.at()},Ky.prototype.ct=function(){return this.root.ct()},Ky.prototype.ut=function(t){return this.root.ut(t)},Ky.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},Ky.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Ky.prototype.ht=function(t){return this.root.ht(t)},Ky.prototype.lt=function(){return new qy(this.root,null,this.V,!1)},Ky.prototype._t=function(t){return new qy(this.root,t,this.V,!1)},Ky.prototype.ft=function(){return new qy(this.root,null,this.V,!0)},Ky.prototype.dt=function(t){return new qy(this.root,t,this.V,!0)},Ky),qy=(Hy.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.T();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.T();)this.Tt.push(t),t=t.left;return e},Hy.prototype.It=function(){return 0<this.Tt.length},Hy.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},Hy),Wy=(zy.prototype.copy=function(t,e,n,r,i){return new zy(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},zy.prototype.T=function(){return!1},zy.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},zy.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},zy.prototype.min=function(){return this.left.T()?this:this.left.min()},zy.prototype.at=function(){return this.min().key},zy.prototype.ct=function(){return this.right.T()?this.key:this.right.ct()},zy.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},zy.prototype.Pt=function(){if(this.left.T())return zy.EMPTY;var t=this;return t.left.gt()||t.left.left.gt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).Rt()},zy.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.T()||r.left.gt()||r.left.left.gt()||(r=r.Vt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.gt()&&(r=r.yt()),r.right.T()||r.right.gt()||r.right.left.gt()||(r=r.vt()),0===e(t,r.key)){if(r.right.T())return zy.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Rt()},zy.prototype.gt=function(){return this.color},zy.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.bt()),t.left.gt()&&t.left.left.gt()&&(t=t.yt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},zy.prototype.Vt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.yt())).bt()).St()),t},zy.prototype.vt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.yt()).St()),t},zy.prototype.bt=function(){var t=this.copy(null,null,zy.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},zy.prototype.yt=function(){var t=this.copy(null,null,zy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},zy.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},zy.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},zy.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw Yv();if(this.right.gt())throw Yv();var t=this.left.Ct();if(t!==this.right.Ct())throw Yv();return t+(this.gt()?0:1)},zy);function zy(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:zy.RED,this.left=null!=r?r:zy.EMPTY,this.right=null!=i?i:zy.EMPTY,this.size=this.left.size+1+this.right.size}function Hy(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.T();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}function Ky(t,e){this.V=t,this.root=e||Wy.EMPTY}function Gy(){this.size=0}Wy.EMPTY=null,Wy.RED=!0,Wy.ot=!1,Wy.EMPTY=(Object.defineProperty(Gy.prototype,"key",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Gy.prototype,"value",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Gy.prototype,"color",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Gy.prototype,"left",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Object.defineProperty(Gy.prototype,"right",{get:function(){throw Yv()},enumerable:!1,configurable:!0}),Gy.prototype.copy=function(t,e,n,r,i){return this},Gy.prototype.rt=function(t,e,n){return new Wy(t,e)},Gy.prototype.remove=function(t,e){return this},Gy.prototype.T=function(){return!0},Gy.prototype.ut=function(t){return!1},Gy.prototype.ht=function(t){return!1},Gy.prototype.at=function(){return null},Gy.prototype.ct=function(){return null},Gy.prototype.gt=function(){return!1},Gy.prototype.Dt=function(){return!0},Gy.prototype.Ct=function(){return 0},new Gy);var $y=(Jy.prototype.has=function(t){return null!==this.data.get(t)},Jy.prototype.first=function(){return this.data.at()},Jy.prototype.last=function(){return this.data.ct()},Object.defineProperty(Jy.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Jy.prototype.indexOf=function(t){return this.data.indexOf(t)},Jy.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},Jy.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(0<=this.V(r.key,t[1]))return;e(r.key)}},Jy.prototype.xt=function(t,e){for(var n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},Jy.prototype.Ft=function(t){return(t=this.data._t(t)).It()?t.Et().key:null},Jy.prototype.lt=function(){return new Yy(this.data.lt())},Jy.prototype._t=function(t){return new Yy(this.data._t(t))},Jy.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},Jy.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Jy.prototype.T=function(){return this.data.T()},Jy.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},Jy.prototype.isEqual=function(t){if(!(t instanceof Jy))return!1;if(this.size!==t.size)return!1;for(var e=this.data.lt(),n=t.data.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(0!==this.V(r,i))return!1}return!0},Jy.prototype.O=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},Jy.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},Jy.prototype.copy=function(t){var e=new Jy(this.V);return e.data=t,e},Jy),Yy=(Xy.prototype.Et=function(){return this.Mt.Et().key},Xy.prototype.It=function(){return this.Mt.It()},Xy),Qy=new By(yy.V);function Xy(t){this.Mt=t}function Jy(t){this.V=t,this.data=new By(this.V)}var Zy=new By(yy.V),tg=new By(yy.V),eg=new $y(yy.V);function ng(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=eg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var rg=new $y(Zv),ig=(wg.Lt=function(t){return new wg(t.V)},wg.prototype.has=function(t){return null!=this.kt.get(t)},wg.prototype.get=function(t){return this.kt.get(t)},wg.prototype.first=function(){return this.$t.at()},wg.prototype.last=function(){return this.$t.ct()},wg.prototype.T=function(){return this.$t.T()},wg.prototype.indexOf=function(t){return(t=this.kt.get(t))?this.$t.indexOf(t):-1},Object.defineProperty(wg.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),wg.prototype.forEach=function(t){this.$t.ut((function(e,n){return t(e),!1}))},wg.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.rt(t.key,t),e.$t.rt(t,null))},wg.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},wg.prototype.isEqual=function(t){if(!(t instanceof wg))return!1;if(this.size!==t.size)return!1;for(var e=this.$t.lt(),n=t.$t.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(!r.isEqual(i))return!1}return!0},wg.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},wg.prototype.copy=function(t,e){var n=new wg;return n.V=this.V,n.kt=t,n.$t=e,n},wg),og=(bg.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);!n||0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):Yv()},bg.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},bg),ag=(mg.jt=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new mg(t,e,ig.Lt(e),i,n,r,!0,!1)},Object.defineProperty(mg.prototype,"hasPendingWrites",{get:function(){return!this.Qt.T()},enumerable:!1,configurable:!0}),mg.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Kt===t.Kt&&this.Qt.isEqual(t.Qt)&&Rb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},mg),sg=(gg.Yt=function(t,e){var n=new Map;return n.set(t,ug.Xt(t,e)),new gg(fy.min(),n,rg,Qy,ng())},gg),ug=(yg.Xt=function(t,e){return new yg(Ry.Z,e,ng(),ng(),ng())},yg),cg=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},lg=function(t,e){this.targetId=t,this.re=e},hg=function(t,e,n,r){void 0===n&&(n=Ry.Z),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},fg=(Object.defineProperty(vg.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(vg.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(vg.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(vg.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),vg.prototype.fe=function(t){0<t.X()&&(this.he=!0,this.ce=t)},vg.prototype.de=function(){var t=ng(),e=ng(),n=ng();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yv()}})),new ug(this.ce,this.ue,t,e,n)},vg.prototype.we=function(){this.he=!1,this.ae=Eg()},vg.prototype.Te=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},vg.prototype.Ee=function(t){this.he=!0,this.ae=this.ae.remove(t)},vg.prototype.Ie=function(){this.oe+=1},vg.prototype.me=function(){--this.oe},vg.prototype.Ae=function(){this.he=!0,this.ue=!0},vg),pg=(dg.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof db?this.ve(r,t.ie):t.ie instanceof vb&&this.be(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.be(a,t.key,t.ie)}},dg.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.me(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.me(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.xe(n),r.fe(t.resumeToken));break;default:Yv()}}))},dg.prototype.De=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},dg.prototype.Fe=function(t){var e=t.targetId,n=t.re.count;(t=this.Oe(e))&&(Py(t=t.target)?0===n?(t=new yy(t.path),this.be(e,t,new vb(t,fy.min()))):Qv(1===n):this.Me(e)!==n&&(this.xe(e),this.ye=this.ye.add(e)))},dg.prototype.ke=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.Oe(i);o&&(r.Zt&&Py(o.target)&&(o=new yy(o.target.path),null!==e.ge.get(o)||e.$e(i,o)||e.be(i,o,new vb(o,t))),r._e&&(n.set(i,r.de()),r.we()))}));var r=ng();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){return!(t=e.Oe(t))||2===t.tt||(i=!1)})),i&&(r=r.add(t))}));var i=new sg(t,n,this.ye,this.ge,r);return this.ge=Qy,this.Ve=_g(),this.ye=new $y(Zv),i},dg.prototype.ve=function(t,e){var n;this.Ne(t)&&(n=this.$e(t,e.key)?2:0,this.Ce(t).Te(e.key,n),this.ge=this.ge.rt(e.key,e),this.Ve=this.Ve.rt(e.key,this.Le(e.key).add(t)))},dg.prototype.be=function(t,e,n){var r;this.Ne(t)&&(r=this.Ce(t),this.$e(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n)))},dg.prototype.removeTarget=function(t){this.Pe.delete(t)},dg.prototype.Me=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},dg.prototype.Ie=function(t){this.Ce(t).Ie()},dg.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new fg,this.Pe.set(t,e)),e},dg.prototype.Le=function(t){var e=this.Ve.get(t);return e||(e=new $y(Zv),this.Ve=this.Ve.rt(t,e)),e},dg.prototype.Ne=function(t){var e=null!==this.Oe(t);return e||Hv("WatchChangeAggregator","Detected inactive target",t),e},dg.prototype.Oe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},dg.prototype.xe=function(t){var e=this;this.Pe.set(t,new fg),this.Re.Be(t).forEach((function(n){e.be(t,n,null)}))},dg.prototype.$e=function(t,e){return this.Re.Be(t).has(e)},dg);function dg(t){this.Re=t,this.Pe=new Map,this.ge=Qy,this.Ve=_g(),this.ye=new $y(Zv)}function vg(){this.oe=0,this.ae=Eg(),this.ce=Ry.Z,this.ue=!1,this.he=!0}function yg(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}function gg(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Jt=i}function mg(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Kt=a,this.Wt=s}function bg(){this.Bt=new By(yy.V)}function wg(t){this.V=t?function(e,n){return t(e,n)||yy.V(e.key,n.key)}:function(t,e){return yy.V(t.key,e.key)},this.kt=Zy,this.$t=new By(this.V)}function _g(){return new By(yy.V)}function Eg(){return new By(yy.V)}function Tg(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ig(t){return t=Pg(t.mapValue.fields.__local_write_time__.timestampValue),new hy(t.seconds,t.nanos)}var Sg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:10:Yv()}function Og(t,e){var n,r=Cg(t);if(r!==Cg(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ig(t).isEqual(Ig(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Pg(t.timestampValue);return e=Pg(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Dg(t.bytesValue).isEqual(Dg(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,Rg((n=t).geoPointValue.latitude)===Rg(r.geoPointValue.latitude)&&Rg(n.geoPointValue.longitude)===Rg(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?Rg(t.integerValue)===Rg(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=Rg(t.doubleValue))===(e=Rg(e.doubleValue))?Cy(t)===Cy(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return ty(t.arrayValue.values||[],e.arrayValue.values||[],Og);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(ny(r)!==ny(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Og(r[n],i[n])))return!1;return!0}();default:return Yv()}}function kg(t,e){return void 0!==(t.values||[]).find((function(t){return Og(t,e)}))}function Ng(t,e){var n,r,i=Cg(t),o=Cg(e);if(i!==o)return Zv(i,o);switch(i){case 0:return 0;case 1:return Zv(t.booleanValue,e.booleanValue);case 2:return n=e,(r=Rg(t.integerValue||t.doubleValue))<(n=Rg(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return Ag(t.timestampValue,e.timestampValue);case 4:return Ag(Ig(t),Ig(e));case 5:return Zv(t.stringValue,e.stringValue);case 6:return function(t,e){return t=Dg(t),e=Dg(e),t.A(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zv(n[i],r[i]);if(0!==o)return o}return Zv(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return i=t.geoPointValue,r=e.geoPointValue,0!==(n=Zv(Rg(i.latitude),Rg(r.latitude)))?n:Zv(Rg(i.longitude),Rg(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ng(n[i],r[i]);if(o)return o}return Zv(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Zv(r[a],o[a]);if(0!==s)return s;if(0!==(s=Ng(n[r[a]],i[o[a]])))return s}return Zv(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Yv()}}function Ag(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zv(t,e);var n=Pg(t);return t=Pg(e),0!==(e=Zv(n.seconds,t.seconds))?e:Zv(n.nanos,t.nanos)}function xg(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=Pg(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,yy.W(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Yv();var n}(t)}function Pg(t){if(Qv(!!t),"string"!=typeof t)return{seconds:Rg(t.seconds),nanos:Rg(t.nanos)};var e=0,n=Sg.exec(t);return Qv(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function Rg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Dg(t){return"string"==typeof t?Ry.fromBase64String(t):Ry.fromUint8Array(t)}function Mg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.M()}}function Lg(t){return t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function Fg(t){return t&&"nullValue"in t}function Ug(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vg(t){return t&&"mapValue"in t}var Bg={asc:"ASCENDING",desc:"DESCENDING"},qg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wg=function(t,e){this.t=t,this.Ue=e};function zg(t){return{integerValue:""+t}}function Hg(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cy(e)?"-0":e}}function Kg(t,e){return Oy(e)?zg(e):Hg(t,e)}function Gg(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $g(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Yg(t){return Qv(!!t),fy.m((t=Pg(t),new hy(t.seconds,t.nanos)))}function Qg(t,e){return new py(["projects",t.projectId,"databases",t.database]).child("documents").child(e).M()}function Xg(t){return Qv(vm(t=py.k(t))),t}function Jg(t,e){return Qg(t.t,e.path)}function Zg(t,e){if((e=Xg(e)).get(1)!==t.t.projectId)throw new ly(cy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.t.projectId);if(e.get(3)!==t.t.database)throw new ly(cy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.t.database);return new yy(rm(e))}function tm(t,e){return Qg(t.t,e)}function em(t){return 4===(t=Xg(t)).length?py.$():rm(t)}function nm(t){return new py(["projects",t.t.projectId,"databases",t.t.database]).M()}function rm(t){return Qv(4<t.length&&"documents"===t.get(4)),t.v(5)}function im(t,e,n){return{name:Jg(t,e),fields:n.proto.mapValue.fields}}function om(t,e){var n,r,i;if(e instanceof Km)n={update:im(t,e.key,e.value)};else if(e instanceof rb)n={delete:Jg(t,e.key)};else if(e instanceof Gm)n={update:im(t,e.key,e.data),updateMask:(i=e.Qe,r=[],i.fields.forEach((function(t){return r.push(t.M())})),{fieldPaths:r})};else if(e instanceof Jm)n={transform:{document:Jg(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof bm)return{fieldPath:t.field.M(),setToServerValue:"REQUEST_TIME"};if(e instanceof wm)return{fieldPath:t.field.M(),appendMissingElements:{values:e.elements}};if(e instanceof Sm)return{fieldPath:t.field.M(),removeAllFromArray:{values:e.elements}};if(e instanceof Nm)return{fieldPath:t.field.M(),increment:e.Ke};throw Yv()}))}};else{if(!(e instanceof ib))return Yv();n={verify:Jg(t,e.key)}}return e.je.We||(n.currentDocument=void 0!==(i=e.je).updateTime?{updateTime:(e=t,t=i.updateTime,Gg(e,t.P()))}:void 0!==i.exists?{exists:i.exists}:Yv()),n}function am(t,e){var n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?jm.updateTime(Yg(o.updateTime)):void 0!==o.exists?jm.exists(o.exists):jm.Ge():jm.Ge();if(e.update){e.update.name;var r=Zg(t,e.update.name),i=new ob({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=(o=e.updateMask.fieldPaths||[],new Rm(o.map((function(t){return vy.U(t)}))));return new Gm(r,i,o,n)}return new Km(r,i,n)}if(e.delete){var a=Zg(t,e.delete);return new rb(a,n)}return e.transform?(i=Zg(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(Qv("REQUEST_TIME"===e.setToServerValue),r=new bm):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new wm(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Sm(n)):"increment"in e?r=new Nm(t,e.increment):Yv(),e=vy.U(e.fieldPath),new Dm(e,r)}(t,e)})),Qv(!0===n.exists),new Jm(i,a)):e.verify?(e=Zg(t,e.verify),new ib(e,n)):Yv()}function sm(t,e){return{documents:[tm(t,e.path)]}}function um(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=tm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tm(t,r.S()),n.structuredQuery.from=[{collectionId:r.C()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map((function(t){if("=="===t.op){if(Ug(t.value))return{unaryFilter:{field:fm(t.field),op:"IS_NAN"}};if(Fg(t.value))return{unaryFilter:{field:fm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ug(t.value))return{unaryFilter:{field:fm(t.field),op:"IS_NOT_NAN"}};if(Fg(t.value))return{unaryFilter:{field:fm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fm(t.field),op:(e=t.op,qg[e]),value:t.value}};var e}))).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map((function(t){return{field:fm((t=t).field),direction:(t=t.dir,Bg[t])}}))}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.Ue||Sy(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=lm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lm(e.endAt)),n}function cm(t){var e=em(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Qv(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[dm(e)]:void 0!==e.fieldFilter?[(n=e,Ub.create(pm(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Yv()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Yv():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new dw(pm((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=Sy(s="object"==typeof(s=n.limit)?s.value:s)?null:s);var a=null;n.startAt&&(a=hm(n.startAt));var s=null;return n.endAt&&(s=hm(n.endAt)),_b(e,i,t,o,r,"F",a,s)}function lm(t){return{before:t.before,values:t.position}}function hm(t){var e=!!t.before;return t=t.values||[],new ow(t,e)}function fm(t){return{fieldPath:t.M()}}function pm(t){return vy.U(t.fieldPath)}function dm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pm(t.unaryFilter.field);return Ub.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pm(t.unaryFilter.field);return Ub.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=pm(t.unaryFilter.field),Ub.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=pm(t.unaryFilter.field),Ub.create(t,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Yv()}}function vm(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function ym(t,e){return t instanceof Nm?Lg(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var gm,mm,bm=(bo(Em,mm=Dr=function(){this.ze=void 0}),Em),wm=(bo(_m,gm=Dr),_m);function _m(t){var e=this;return(e=gm.call(this)||this).elements=t,e}function Em(){return null!==mm&&mm.apply(this,arguments)||this}function Tm(t,e){for(var n=Pm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return Og(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Im,Sm=(bo(Cm,Im=Dr),Cm);function Cm(t){var e=this;return(e=Im.call(this)||this).elements=t,e}function Om(t,e){for(var n=Pm(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!Og(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var km,Nm=(bo(Am,km=Dr),Am);function Am(t,e){var n=this;return(n=km.call(this)||this).serializer=t,n.Ke=e,n}function xm(t){return Rg(t.integerValue||t.doubleValue)}function Pm(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Rm=(Mm.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].N(t))return!0;return!1},Mm.prototype.isEqual=function(t){return ty(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},Mm),Dm=function(t,e){this.field=t,this.transform=e};function Mm(t){(this.fields=t).sort(vy.V)}function Lm(t,e){this.version=t,this.transformResults=e}var jm=(Fm.Ge=function(){return new Fm},Fm.exists=function(t){return new Fm(void 0,t)},Fm.updateTime=function(t){return new Fm(t)},Object.defineProperty(Fm.prototype,"We",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Fm.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Fm);function Fm(t,e){this.updateTime=t,this.exists=e}function Um(t,e){return void 0!==t.updateTime?e instanceof db&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof db}function Vm(t,e,n){return t instanceof Km?new db(t.key,n.version,t.value,{hasCommittedMutations:!0}):t instanceof Gm?function(t,e,n){return Um(t.je,e)?(e=Qm(t,e),new db(t.key,n.version,e,{hasCommittedMutations:!0})):new yb(t.key,n.version)}(t,e,n):t instanceof Jm?function(t,e,n){if(Qv(null!=n.transformResults),!Um(t.je,e))return new yb(t.key,n.version);var r=e;return e=function(t,e,n){var r=[];Qv(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof db&&(s=e.field(o.field)),r.push((o=a,a=s,s=n[i],o instanceof wm?Tm(o,a):o instanceof Sm?Om(o,a):s))}return r}(t.fieldTransforms,e,n.transformResults),n=n.version,e=tb(t,r.data(),e),new db(t.key,n,e,{hasCommittedMutations:!0})}(t,e,n):new vb(t.key,n.version,{hasCommittedMutations:!0})}function Bm(t,e,n,r){return t instanceof Km?function(t,e){return Um(t.je,e)?(e=Wm(e),new db(t.key,e,t.value,{Je:!0})):e}(t,e):t instanceof Gm?function(t,e){if(!Um(t.je,e))return e;var n=Wm(e);return e=Qm(t,e),new db(t.key,n,e,{Je:!0})}(t,e):t instanceof Jm?function(t,e,n,r){if(!Um(t.je,e))return e;var i=e;return r=function(t,e,n,r){for(var i,o=[],a=0,s=t;a<s.length;a++){var u=s[a],c=u.transform,l=null;n instanceof db&&(l=n.field(u.field)),null===l&&r instanceof db&&(l=r.field(u.field)),o.push((i=l,u=e,l=void 0,(c=c)instanceof bm?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(l.fields.__previous_value__=i),{mapValue:l}):c instanceof wm?Tm(c,i):c instanceof Sm?Om(c,i):(i=xm(c=ym(l=c,i))+xm(l.Ke),Lg(c)&&Lg(l.Ke)?zg(i):Hg(l.serializer,i))))}return o}(t.fieldTransforms,n,e,r),r=tb(t,i.data(),r),new db(t.key,i.version,r,{Je:!0})}(t,e,r,n):(e=e,Um((t=t).je,e)?new vb(t.key,fy.min()):e)}function qm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.je.isEqual(e.je)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||ty(t.fieldTransforms,t.fieldTransforms,(function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof wm&&e instanceof wm||t instanceof Sm&&e instanceof Sm?ty(t.elements,e.elements,Og):t instanceof Nm&&e instanceof Nm?Og(t.Ke,e.Ke):t instanceof bm&&e instanceof bm)})))}function Wm(t){return t instanceof db?t.version:fy.min()}var zm,Hm,Km=(bo(Ym,Hm=j=function(){}),Ym),Gm=(bo($m,zm=j),$m);function $m(t,e,n,r){var i=this;return(i=zm.call(this)||this).key=t,i.data=e,i.Qe=n,i.je=r,i.type=1,i}function Ym(t,e,n){var r=this;return(r=Hm.call(this)||this).key=t,r.value=e,r.je=n,r.type=0,r}function Qm(t,e){return n=t,e=e instanceof db?e.data():ob.empty(),r=new ab(e),n.Qe.fields.forEach((function(t){var e;t.T()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))})),r.Ye();var n,r}var Xm,Jm=(bo(Zm,Xm=j),Zm);function Zm(t,e){var n=this;return(n=Xm.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.je=jm.exists(!0),n}function tb(t,e,n){for(var r=new ab(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Ye()}var eb,nb,rb=(bo(lb,nb=j),lb),ib=(bo(cb,eb=j),cb),ob=(ub.empty=function(){return new ub({mapValue:{}})},ub.prototype.field=function(t){if(t.T())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Vg(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.C()])||null},ub.prototype.isEqual=function(t){return Og(this.proto,t.proto)},ub),ab=(sb.prototype.set=function(t,e){return this.tn(t,e),this},sb.prototype.delete=function(t){return this.tn(t,null),this},sb.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===Cg(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.C(),e)},sb.prototype.Ye=function(){var t=this.en(vy.$(),this.Ze);return null!=t?new ob(t):this.Xe},sb.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=Vg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var a;e instanceof Map?null!=(a=n.en(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},sb);function sb(t){void 0===t&&(t=ob.empty()),this.Xe=t,this.Ze=new Map}function ub(t){this.proto=t}function cb(t,e){var n=this;return(n=eb.call(this)||this).key=t,n.je=e,n.type=4,n}function lb(t,e){var n=this;return(n=nb.call(this)||this).key=t,n.je=e,n.type=3,n}var hb,fb,pb,db=(bo(wb,pb=K=function(t,e){this.key=t,this.version=e}),wb.prototype.field=function(t){return this.nn.field(t)},wb.prototype.data=function(){return this.nn},wb.prototype.sn=function(){return this.nn.proto},wb.prototype.isEqual=function(t){return t instanceof wb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},wb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(wb.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),wb),vb=(bo(bb,fb=K),bb.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(bb.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),bb.prototype.isEqual=function(t){return t instanceof bb&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},bb),yb=(bo(mb,hb=K),mb.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(mb.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),mb.prototype.isEqual=function(t){return t instanceof mb&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},mb),gb=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.on=null,this.an=null,this.startAt,this.endAt};function mb(){return null!==hb&&hb.apply(this,arguments)||this}function bb(t,e,n){var r=this;return(r=fb.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function wb(t,e,n,r){var i=this;return(i=pb.call(this,t,e)||this).nn=n,i.Je=!!r.Je,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function _b(t,e,n,r,i,o,a,s){return new gb(t,e,n,r,i,o,a,s)}function Eb(t){return new gb(t)}function Tb(t){return!Sy(t.limit)&&"F"===t.limitType}function Ib(t){return!Sy(t.limit)&&"L"===t.limitType}function Sb(t){return 0<t.rn.length?t.rn[0].field:null}function Cb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.cn())return r.field}return null}function Ob(t){return null!==t.collectionGroup}function kb(t){var e=t;if(null===e.on){e.on=[];var n=Cb(e);if(t=Sb(e),null!==n&&null===t)n.B()||e.on.push(new dw(n)),e.on.push(new dw(vy.q(),"asc"));else{for(var r=!1,i=0,o=e.rn;i<o.length;i++){var a=o[i];e.on.push(a),a.field.B()&&(r=!0)}r||(n=0<e.rn.length?e.rn[e.rn.length-1].dir:"asc",e.on.push(new dw(vy.q(),n)))}}return e.on}function Nb(t){var e=t;if(!e.an)if("F"===e.limitType)e.an=Ny(e.path,e.collectionGroup,kb(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=kb(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new dw(o.field,a))}var s=e.endAt?new ow(e.endAt.position,!e.endAt.before):null;t=e.startAt?new ow(e.startAt.position,!e.startAt.before):null,e.an=Ny(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.an}function Ab(t,e,n){return new gb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xb(t,e){return new gb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function Pb(t,e){return new gb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function Rb(t,e){return xy(Nb(t),Nb(e))&&t.limitType===e.limitType}function Db(t){return Ay(Nb(t))+"|lt:"+t.limitType}function Mb(t){return"Query(target="+(n=(e=Nb(t)).path.M(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(t=t).field.M()+" "+t.op+" "+xg(t.value)})).join(", ")+"]"),Sy(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(t=t).field.M()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+lw(e.startAt)),e.endAt&&(n+=", endAt: "+lw(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Lb(t,e){return n=t,r=e.key.path,(null!==n.collectionGroup?e.key.j(n.collectionGroup)&&n.path.N(r):yy.G(n.path)?n.path.isEqual(r):n.path.F(r))&&function(e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.B()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||hw(e.startAt,kb(e),r))&&(!e.endAt||!hw(e.endAt,kb(e),r)));var n,r}function jb(t){return function(e,n){for(var r=!1,i=0,o=kb(t);i<o.length;i++){var a=o[i],s=function(t,e,n){switch(n=t.field.B()?yy.V(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?Ng(r,t):Yv()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return Yv()}}(a,e,n);if(0!==s)return s;r=r||a.field.B()}return 0}}var Fb,Ub=(bo(Vb,Fb=function(){}),Vb.create=function(t,e,n){return t.B()?"in"===e||"not-in"===e?this.un(t,e,n):new zb(t,e,n):"array-contains"===e?new ew(t,n):"in"===e?new nw(t,n):"not-in"===e?new rw(t,n):"array-contains-any"===e?new iw(t,n):new Vb(t,e,n)},Vb.un=function(t,e,n){return new("in"===e?Hb:Kb)(t,n)},Vb.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this.hn(Ng(t,this.value)):null!==t&&Cg(this.value)===Cg(t)&&this.hn(Ng(t,this.value))},Vb.prototype.hn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Yv()}},Vb.prototype.cn=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Vb);function Vb(t,e,n){var r=this;return(r=Fb.call(this)||this).field=t,r.op=e,r.value=n,r}var Bb,qb,Wb,zb=(bo(Yb,Wb=Ub),Yb.prototype.matches=function(t){return t=yy.V(t.key,this.key),this.hn(t)},Yb),Hb=(bo($b,qb=Ub),$b.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},$b),Kb=(bo(Gb,Bb=Ub),Gb.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},Gb);function Gb(t,e){var n=this;return(n=Bb.call(this,t,"not-in",e)||this).keys=Qb(0,e),n}function $b(t,e){var n=this;return(n=qb.call(this,t,"in",e)||this).keys=Qb(0,e),n}function Yb(t,e,n){var r=this;return(r=Wb.call(this,t,e,n)||this).key=yy.W(n.referenceValue),r}function Qb(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return yy.W(t.referenceValue)}))}var Xb,Jb,Zb,tw,ew=(bo(cw,tw=Ub),cw.prototype.matches=function(t){return jg(t=t.field(this.field))&&kg(t.arrayValue,this.value)},cw),nw=(bo(uw,Zb=Ub),uw.prototype.matches=function(t){return null!==(t=t.field(this.field))&&kg(this.value.arrayValue,t)},uw),rw=(bo(sw,Jb=Ub),sw.prototype.matches=function(t){return!kg(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!kg(this.value.arrayValue,t)},sw),iw=(bo(aw,Xb=Ub),aw.prototype.matches=function(t){var e=this;return!(!jg(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return kg(e.value.arrayValue,t)}))},aw),ow=function(t,e){this.position=t,this.before=e};function aw(t,e){return Xb.call(this,t,"array-contains-any",e)||this}function sw(t,e){return Jb.call(this,t,"not-in",e)||this}function uw(t,e){return Zb.call(this,t,"in",e)||this}function cw(t,e){return tw.call(this,t,"array-contains",e)||this}function lw(t){return(t.before?"b":"a")+":"+t.position.map(xg).join(",")}function hw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.B()?yy.V(yy.W(a.referenceValue),n.key):Ng(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Og(t.position[n],e.position[n]))return!1;return!0}var pw,dw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e},vw=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},yw=(Sw.prototype.reset=function(){this.Tn=0},Sw.prototype.mn=function(){this.Tn=this.wn},Sw.prototype.An=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Rn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);0<i&&Hv("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this.ln.Pn(this._n,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.dn,this.Tn<this.fn&&(this.Tn=this.fn),this.Tn>this.wn&&(this.Tn=this.wn)},Sw.prototype.gn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},Sw.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},Sw.prototype.Rn=function(){return(Math.random()-.5)*this.Tn},Sw),gw=(Iw.prototype.catch=function(t){return this.next(void 0,t)},Iw.prototype.next=function(t,e){var n=this;return this.bn&&Yv(),this.bn=!0,this.vn?this.error?this.Sn(e,this.error):this.Dn(t,this.result):new Iw((function(r,i){n.yn=function(e){n.Dn(t,e).next(r,i)},n.pn=function(t){n.Sn(e,t).next(r,i)}}))},Iw.prototype.Cn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Iw.prototype.Nn=function(t){try{var e=t();return e instanceof Iw?e:Iw.resolve(e)}catch(t){return Iw.reject(t)}},Iw.prototype.Dn=function(t,e){return t?this.Nn((function(){return t(e)})):Iw.resolve(e)},Iw.prototype.Sn=function(t,e){return t?this.Nn((function(){return t(e)})):Iw.reject(e)},Iw.resolve=function(t){return new Iw((function(e,n){e(t)}))},Iw.reject=function(t){return new Iw((function(e,n){n(t)}))},Iw.xn=function(t){return new Iw((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Iw.Fn=function(t){for(var e=Iw.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?Iw.resolve(e):t()}))}(r[n]);return e},Iw.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.xn(r)},Iw),mw=(Tw.delete=function(t){return Hv("SimpleDb","Removing database:",t),xw(window.indexedDB.deleteDatabase(t)).Cn()},Tw.kn=function(){if("undefined"==typeof indexedDB)return!1;if(Tw.$n())return!0;var t=jo(),e=0<(n=Tw.Mn(t))&&n<10,n=0<(n=Tw.Ln(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},Tw.$n=function(){var t;return"undefined"!=typeof n&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/journalReact",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Bn)},Tw.qn=function(t,e){return t.store(e)},Tw.Mn=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},Tw.Ln=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},Tw.prototype.Un=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Hv("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new ww(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new ly(cy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ww(t,e))},i.onupgradeneeded=function(t){Hv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.On.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){Hv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Qn&&(this.db.onversionchange=function(t){return n.Qn(t)}),this.db)]}}))}))},Tw.prototype.Kn=function(t){this.Qn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},Tw.prototype.runTransaction=function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u;return Eo(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Un(t)];case 2:return a.db=c.sent(),e=Ow.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),gw.reject(t)})).Cn(),u={},s.catch((function(){})),[4,e.Wn];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Hv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Tw.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Tw),bw=(Object.defineProperty(Ew.prototype,"vn",{get:function(){return this.Gn},enumerable:!1,configurable:!0}),Object.defineProperty(Ew.prototype,"Hn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(Ew.prototype,"cursor",{set:function(t){this.jn=t},enumerable:!1,configurable:!0}),Ew.prototype.done=function(){this.Gn=!0},Ew.prototype.Jn=function(t){this.zn=t},Ew.prototype.delete=function(){return xw(this.jn.delete())},Ew),ww=(bo(_w,pw=ly),_w);function _w(t,e){var n=this;return(n=pw.call(this,cy.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function Ew(t){this.jn=t,this.Gn=!1,this.zn=null}function Tw(t,e,n){this.name=t,this.version=e,this.On=n,12.2===Tw.Mn(jo())&&Kv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Iw(t){var e=this;this.yn=null,this.pn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.bn=!1,t((function(t){e.vn=!0,e.result=t,e.yn&&e.yn(t)}),(function(t){e.vn=!0,e.error=t,e.pn&&e.pn(t)}))}function Sw(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.ln=t,this._n=e,this.fn=n,this.dn=r,this.wn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}function Cw(t){return"IndexedDbTransactionError"===t.name}var Ow=(Aw.open=function(t,e,n,r){try{return new Aw(e,t.transaction(r,n))}catch(t){throw new ww(e,t)}},Object.defineProperty(Aw.prototype,"Wn",{get:function(){return this.Yn.promise},enumerable:!1,configurable:!0}),Aw.prototype.abort=function(t){t&&this.Yn.reject(t),this.aborted||(Hv("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Aw.prototype.store=function(t){return t=this.transaction.objectStore(t),new kw(t)},Aw),kw=(Nw.prototype.put=function(t,e){return xw(t=void 0!==e?(Hv("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Hv("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Nw.prototype.add=function(t){return Hv("SimpleDb","ADD",this.store.name,t,t),xw(this.store.add(t))},Nw.prototype.get=function(t){var e=this;return xw(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Hv("SimpleDb","GET",e.store.name,t,n),n}))},Nw.prototype.delete=function(t){return Hv("SimpleDb","DELETE",this.store.name,t),xw(this.store.delete(t))},Nw.prototype.count=function(){return Hv("SimpleDb","COUNT",this.store.name),xw(this.store.count())},Nw.prototype.Xn=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.Zn(e,(function(t,e){n.push(e)})).next((function(){return n}))},Nw.prototype.ts=function(t,e){return Hv("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).es=!1,e=this.cursor(e),this.Zn(e,(function(t,e,n){return n.delete()}))},Nw.prototype.ns=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.Zn(n,e)},Nw.prototype.ss=function(t){var e=this.cursor({});return new gw((function(n,r){e.onerror=function(t){t=Rw(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Nw.prototype.Zn=function(t,e){var n=[];return new gw((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new bw(o),(t=e(o.primaryKey,o.value,i))instanceof gw&&(t=t.catch((function(t){return i.done(),gw.reject(t)})),n.push(t)),i.vn?r():null===i.Hn?o.continue():o.continue(i.Hn)):r()}})).next((function(){return gw.xn(n)}))},Nw.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Nw.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.es?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Nw);function Nw(t){this.store=t}function Aw(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Yn=new vw,this.transaction.oncomplete=function(){n.Yn.resolve()},this.transaction.onabort=function(){e.error?n.Yn.reject(new ww(t,e.error)):n.Yn.resolve()},this.transaction.onerror=function(e){e=Rw(e.target.error),n.Yn.reject(new ww(t,e))}}function xw(t){return new gw((function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=Rw(t.target.error),n(t)}}))}var Pw=!1;function Rw(t){var e=mw.Mn(jo());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new ly("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Pw||(Pw=!0,setTimeout((function(){throw n}),0)),n}return t}function Dw(){return"undefined"!=typeof window?window:null}function Mw(){return"undefined"!=typeof document?document:null}var Lw=(Uw.hs=function(t,e,n,r,i){return(i=new Uw(t,e,Date.now()+n,r,i)).start(n),i},Uw.prototype.start=function(t){var e=this;this.ls=setTimeout((function(){return e._s()}),t)},Uw.prototype.Vn=function(){return this._s()},Uw.prototype.cancel=function(t){null!==this.ls&&(this.clearTimeout(),this.us.reject(new ly(cy.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Uw.prototype._s=function(){var t=this;this.rs.fs((function(){return null!==t.ls?(t.clearTimeout(),t.op().then((function(e){return t.us.resolve(e)}))):Promise.resolve()}))},Uw.prototype.clearTimeout=function(){null!==this.ls&&(this.cs(this),clearTimeout(this.ls),this.ls=null)},Uw),jw=(Object.defineProperty(Fw.prototype,"Vs",{get:function(){return this.Ts},enumerable:!1,configurable:!0}),Fw.prototype.fs=function(t){this.enqueue(t)},Fw.prototype.ys=function(t){this.ps(),this.vs(t)},Fw.prototype.bs=function(){var t;this.Ts||(this.Ts=!0,(t=Mw())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gs))},Fw.prototype.enqueue=function(t){return this.ps(),this.Ts?new Promise((function(t){})):this.vs(t)},Fw.prototype.Ss=function(t){var e=this;this.fs((function(){return e.ws.push(t),e.Ds()}))},Fw.prototype.Ds=function(){return _o(this,void 0,void 0,(function(){var t,e=this;return Eo(this,(function(n){switch(n.label){case 0:if(0===this.ws.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ws[0]()];case 2:return n.sent(),this.ws.shift(),this.Ps.reset(),[3,4];case 3:if(!Cw(t=n.sent()))throw t;return Hv("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.ws.length&&this.Ps.An((function(){return e.Ds()})),n.label=5;case 5:return[2]}}))}))},Fw.prototype.vs=function(t){var e=this,n=this.ds.then((function(){return e.As=!0,t().catch((function(t){throw e.Is=t,e.As=!1,Kv("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.As=!1,t}))}));return this.ds=n},Fw.prototype.Pn=function(t,e,n){var r=this;return this.ps(),-1<this.Rs.indexOf(t)&&(e=0),n=Lw.hs(this,t,e,n,(function(t){return r.Cs(t)})),this.Es.push(n),n},Fw.prototype.ps=function(){this.Is&&Yv()},Fw.prototype.Ns=function(){},Fw.prototype.xs=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return[4,t=this.ds];case 1:e.sent(),e.label=2;case 2:if(t!==this.ds)return[3,0];e.label=3;case 3:return[2]}}))}))},Fw.prototype.Fs=function(t){for(var e=0,n=this.Es;e<n.length;e++)if(n[e]._n===t)return!0;return!1},Fw.prototype.Os=function(t){var e=this;return this.xs().then((function(){e.Es.sort((function(t,e){return t.os-e.os}));for(var n=0,r=e.Es;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i._n===t)break}return e.xs()}))},Fw.prototype.Ms=function(t){this.Rs.push(t)},Fw.prototype.Cs=function(t){t=this.Es.indexOf(t),this.Es.splice(t,1)},Fw);function Fw(){var t=this;this.ds=Promise.resolve(),this.ws=[],this.Ts=!1,this.Es=[],this.Is=null,this.As=!1,this.Rs=[],this.Ps=new yw(this,"async_queue_retry"),this.gs=function(){var e=Mw();e&&Hv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ps.gn()};var e=Mw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gs)}function Uw(t,e,n,r,i){this.rs=t,this._n=e,this.os=n,this.op=r,this.cs=i,this.us=new vw,this.then=this.us.promise.then.bind(this.us.promise),this.us.promise.catch((function(t){}))}function Vw(t,e){if(Kv("AsyncQueue",e+": "+t),Cw(t))return new ly(cy.UNAVAILABLE,e+": "+t);throw t}function Bw(){this.queries=new uy(Db,Rb),this.onlineState="Unknown",this.$s=new Set}var qw=function(){this.ks=void 0,this.listeners=[]};function Ww(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new qw),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.Ls(r)];case 2:return a.ks=s.sent(),[3,4];case 3:return a=Vw(a=s.sent(),"Initialization of query '"+Mb(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Bs(n.onlineState),o.ks&&e.qs(o.ks)&&Hw(n),[2]}}))}))}function zw(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Us(r))]:[2]}))}))}function Hw(t){t.$s.forEach((function(t){t.next()}))}var Kw=(Yw.prototype.qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ag(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Kt,!0)}var o=!1;return this.Ks?this.js(t)&&(this.Qs.next(t),o=!0):this.Gs(t,this.onlineState)&&(this.zs(t),o=!0),this.Ws=t,o},Yw.prototype.onError=function(t){this.Qs.error(t)},Yw.prototype.Bs=function(t){this.onlineState=t;var e=!1;return this.Ws&&!this.Ks&&this.Gs(this.Ws,t)&&(this.zs(this.Ws),e=!0),e},Yw.prototype.Gs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Hs&&n||t.docs.T()&&"Offline"!==e)},Yw.prototype.js=function(t){if(0<t.docChanges.length)return!0;var e=this.Ws&&this.Ws.hasPendingWrites!==t.hasPendingWrites;return!(!t.Kt&&!e)&&!0===this.options.includeMetadataChanges},Yw.prototype.zs=function(t){t=ag.jt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.Qs.next(t)},Yw),Gw=($w.prototype.Js=function(){return null!=this.uid},$w.prototype.Ys=function(){return this.Js()?"uid:"+this.uid:"anonymous-user"},$w.prototype.isEqual=function(t){return t.uid===this.uid},$w);function $w(t){this.uid=t}function Yw(t,e,n){this.query=t,this.Qs=e,this.Ks=!1,this.Ws=null,this.onlineState="Unknown",this.options=n||{}}function Qw(t,e){this.user=e,this.type="OAuth",this.ti={},this.ti.Authorization="Bearer "+t}Gw.UNAUTHENTICATED=new Gw(null),Gw.Xs=new Gw("google-credentials-uid"),Gw.Zs=new Gw("first-party-uid");var Xw=(c_.prototype.getToken=function(){return Promise.resolve(null)},c_.prototype.ni=function(){},c_.prototype.si=function(t){(this.ei=t)(Gw.UNAUTHENTICATED)},c_.prototype.ii=function(){this.ei=null},c_),Jw=(u_.prototype.getToken=function(){var t=this,e=this.ai,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.ai!==e?(Hv("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Qv("string"==typeof n.accessToken),new Qw(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},u_.prototype.ni=function(){this.forceRefresh=!0},u_.prototype.si=function(t){this.ei=t,this.oi&&t(this.currentUser)},u_.prototype.ii=function(){this.auth&&this.auth.removeAuthTokenListener(this.ri),this.ri=null,this.ei=null},u_.prototype.ci=function(){var t=this.auth&&this.auth.getUid();return Qv(null===t||"string"==typeof t),new Gw(t)},u_),Zw=(Object.defineProperty(s_.prototype,"ti",{get:function(){var t={"X-Goog-AuthUser":this.hi},e=this.ui.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),s_),t_=(a_.prototype.getToken=function(){return Promise.resolve(new Zw(this.ui,this.hi))},a_.prototype.si=function(t){t(Gw.Zs)},a_.prototype.ii=function(){},a_.prototype.ni=function(){},a_),e_=(o_.prototype._i=function(t,e,n){for(var r=n.fi,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Vm(o,e,r[i]))}return e},o_.prototype.di=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Bm(i,e,e,this.li))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Bm(u,e,o,this.li))}return e},o_.prototype.wi=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.di(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},o_.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ng())},o_.prototype.isEqual=function(t){return this.batchId===t.batchId&&ty(this.mutations,t.mutations,qm)&&ty(this.baseMutations,t.baseMutations,qm)},o_),n_=(i_.from=function(t,e,n){Qv(t.mutations.length===n.length);for(var r=tg,i=t.mutations,o=0;o<i.length;o++)r=r.rt(i[o].key,n[o].version);return new i_(t,e,n,r)},i_);function r_(){this.Ii=new uy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mi=!1}function i_(t,e,n,r){this.batch=t,this.Ti=e,this.fi=n,this.Ei=r}function o_(t,e,n,r){this.batchId=t,this.li=e,this.baseMutations=n,this.mutations=r}function a_(t,e){this.ui=t,this.hi=e}function s_(t,e){this.ui=t,this.hi=e,this.type="FirstParty",this.user=Gw.Zs}function u_(t){var e=this;this.ri=null,this.currentUser=Gw.UNAUTHENTICATED,this.oi=!1,this.ai=0,this.ei=null,this.forceRefresh=!1,this.ri=function(){e.ai++,e.currentUser=e.ci(),e.oi=!0,e.ei&&e.ei(e.currentUser)},this.ai=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ri):(this.ri(null),t.get().then((function(t){e.auth=t,e.ri&&e.auth.addAuthTokenListener(e.ri)}),(function(){})))}function c_(){this.ei=null}function l_(t){return new Wg(t,!0)}function h_(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}r_.prototype.Ai=function(t){return(t=this.Ii.get(t))?t.readTime:fy.min()},r_.prototype.Ri=function(t,e){this.Pi(),this.Ii.set(t.key,{gi:t,readTime:e})},r_.prototype.Vi=function(t,e){void 0===e&&(e=null),this.Pi(),this.Ii.set(t,{gi:null,readTime:e})},r_.prototype.yi=function(t,e){this.Pi();var n=this.Ii.get(e);return void 0!==n?gw.resolve(n.gi):this.pi(t,e)},r_.prototype.getEntries=function(t,e){return this.vi(t,e)},r_.prototype.apply=function(t){return this.Pi(),this.mi=!0,this.bi(t)},r_.prototype.Pi=function(){},Dr=r_;var f_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",p_=(b_.prototype.Di=function(t){this.Si.push(t)},b_.prototype.Ci=function(){this.Si.forEach((function(t){return t()}))},j=b_,m_.prototype.Oi=function(t,e){var n=this;return this.xi.Mi(t,e).next((function(r){return n.ki(t,e,r)}))},m_.prototype.ki=function(t,e,n){return this.Ni.yi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].di(e,t);return t}))},m_.prototype.$i=function(t,e,n){var r=Qy;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].di(t,e);r=r.rt(t,e)})),r},m_.prototype.Li=function(t,e){var n=this;return this.Ni.getEntries(t,e).next((function(e){return n.Bi(t,e)}))},m_.prototype.Bi=function(t,e){var n=this;return this.xi.qi(t,e).next((function(r){r=n.$i(t,e,r);var i=Qy;return r.forEach((function(t,e){e=e||new vb(t,fy.min()),i=i.rt(t,e)})),i}))},m_.prototype.Ui=function(t,e,n){return r=e,yy.G(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Qi(t,e.path):Ob(e)?this.Ki(t,e,n):this.Wi(t,e,n);var r},m_.prototype.Qi=function(t,e){return this.Oi(t,new yy(e)).next((function(t){var e=Zy;return t instanceof db&&(e=e.rt(t.key,t)),e}))},m_.prototype.Ki=function(t,e,n){var r=this,i=e.collectionGroup,o=Zy;return this.Fi.ji(t,i).next((function(a){return gw.forEach(a,(function(a){var s=(s=e,a=a.child(i),new gb(a,null,s.rn.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Wi(t,s,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},m_.prototype.Wi=function(t,e,n){var r,i,o=this;return this.Ni.Ui(t,e,n).next((function(n){return r=n,o.xi.Gi(t,e)})).next((function(e){return i=e,o.zi(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Bm(u,l=r.get(c),l,o.li);r=l instanceof db?r.rt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Lb(e,n)||(r=r.remove(t))})),r}))},m_.prototype.zi=function(t,e,n){for(var r=ng(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Gm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ni.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof db&&(c=c.rt(t,e))})),c}))},m_),d_=(g_.Yi=function(t,e){for(var n=ng(),r=ng(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new g_(t,e.fromCache,n,r)},g_),v_=(y_.prototype.Zi=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},y_.prototype.next=function(){var t=++this.previousValue;return this.tr&&this.tr(t),t},y_);function y_(t,e){var n=this;this.previousValue=t,e&&(e.Xi=function(t){return n.Zi(t)},this.tr=function(t){return e.er(t)})}function g_(t,e,n,r){this.targetId=t,this.fromCache=e,this.Hi=n,this.Ji=r}function m_(t,e,n){this.Ni=t,this.xi=e,this.Fi=n}function b_(){this.Si=[]}function w_(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=Zv(n,t))?Zv(r,e):t}v_.nr=-1;var __=(S_.prototype.rr=function(){return++this.ir},S_.prototype.ar=function(t){var e=[t,this.rr()];this.buffer.size<this.sr?this.buffer=this.buffer.add(e):w_(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(S_.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),S_),E_={cr:!1,ur:0,hr:0,lr:0},T_=(I_.Tr=function(t){return new I_(t,I_.Er,I_.Ir)},I_);function I_(t,e,n){this._r=t,this.dr=e,this.wr=n}function S_(t){this.sr=t,this.buffer=new $y(w_),this.ir=0}T_.Er=10,T_.Ir=1e3,T_.mr=new T_(41943040,T_.Er,T_.Ir),T_.Ar=new T_(-1,0,0);var C_=(N_.prototype.start=function(t){-1!==this.Rr.params._r&&this.Vr(t)},N_.prototype.stop=function(){this.gr&&(this.gr.cancel(),this.gr=null)},Object.defineProperty(N_.prototype,"yr",{get:function(){return null!==this.gr},enumerable:!1,configurable:!0}),N_.prototype.Vr=function(t){var e=this,n=this.Pr?3e5:6e4;Hv("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.gr=this.rs.Pn("lru_garbage_collection",n,(function(){return _o(e,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:this.gr=null,this.Pr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.pr(this.Rr)];case 2:return n.sent(),[3,7];case 3:return Cw(e=n.sent())?(Hv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,yT(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Vr(t)];case 8:return n.sent(),[2]}}))}))}))},N_),O_=(k_.prototype.br=function(t,e){return this.vr.Sr(t).next((function(t){return Math.floor(e/100*t)}))},k_.prototype.Dr=function(t,e){var n=this;if(0===e)return gw.resolve(v_.nr);var r=new __(e);return this.vr.De(t,(function(t){return r.ar(t.sequenceNumber)})).next((function(){return n.vr.Cr(t,(function(t){return r.ar(t)}))})).next((function(){return r.maxValue}))},k_.prototype.Nr=function(t,e,n){return this.vr.Nr(t,e,n)},k_.prototype.Fr=function(t,e){return this.vr.Fr(t,e)},k_.prototype.Or=function(t,e){var n=this;return-1===this.params._r?(Hv("LruGarbageCollector","Garbage collection skipped; disabled"),gw.resolve(E_)):this.Mr(t).next((function(r){return r<n.params._r?(Hv("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params._r),E_):n.kr(t,e)}))},k_.prototype.Mr=function(t){return this.vr.Mr(t)},k_.prototype.kr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.br(t,this.params.dr).next((function(e){return r=e>c.params.wr?(Hv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.wr+" from "+e),c.params.wr):e,o=Date.now(),c.Dr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Nr(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Fr(t,n)})).next((function(t){return u=Date.now(),zv()<=Na.DEBUG&&Hv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),gw.resolve({cr:!0,ur:r,hr:i,lr:t})}))},k_);function k_(t,e){this.vr=t,this.params=e}function N_(t,e){this.Rr=t,this.rs=e,this.Pr=!1,this.gr=null}function A_(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=x_(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return x_(e)}function x_(t){return t+"\x01\x01"}function P_(t){var e=t.length;if(Qv(2<=e),2===e)return Qv("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),py.$();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Yv(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Yv()}o=a+2}return new py(r)}var R_=function(t){this.$r=t};function D_(t,e){if(e.document)return n=t.$r,r=e.document,i=!!e.hasCommittedMutations,t=Zg(n,r.name),n=Yg(r.updateTime),r=new ob({mapValue:{fields:r.fields}}),new db(t,n,r,{hasCommittedMutations:!!i});var n,r;if(e.noDocument){var i=yy.H(e.noDocument.path),o=U_(e.noDocument.readTime);return new vb(i,o,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(o=yy.H(e.unknownDocument.path),e=U_(e.unknownDocument.version),new yb(o,e)):Yv()}function M_(t,e,n){var r=L_(n);if(n=e.key.path.S().O(),e instanceof db){var i={name:Jg(i=t.$r,(o=e).key),fields:o.sn().mapValue.fields,updateTime:Gg(i,o.version.P())},o=e.hasCommittedMutations;return new wE(null,null,i,o,r,n)}if(e instanceof vb){i=e.key.path.O(),o=F_(e.version);var a=e.hasCommittedMutations;return new wE(null,new mE(i,o),null,a,r,n)}return e instanceof yb?(a=e.key.path.O(),e=F_(e.version),new wE(new bE(a,e),null,null,!0,r,n)):Yv()}function L_(t){return[(t=t.P()).seconds,t.nanoseconds]}function j_(t){return t=new hy(t[0],t[1]),fy.m(t)}function F_(t){return t=t.P(),new cE(t.seconds,t.nanoseconds)}function U_(t){return t=new hy(t.seconds,t.nanoseconds),fy.m(t)}function V_(t,e){var n=(e.baseMutations||[]).map((function(e){return am(t.$r,e)})),r=e.mutations.map((function(e){return am(t.$r,e)})),i=hy.fromMillis(e.localWriteTimeMs);return new e_(e.batchId,i,n,r)}function B_(t){var e=U_(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?U_(t.lastLimboFreeSnapshotVersion):fy.min(),r=void 0!==t.query.documents?(Qv(1===(r=t.query).documents.length),Nb(Eb(em(r.documents[0])))):Nb(cm(t.query));return new jy(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Ry.fromBase64String(t.resumeToken))}function q_(t,e){var n=F_(e.et),r=F_(e.lastLimboFreeSnapshotVersion),i=(Py(e.target)?sm:um)(t.$r,e.target);return t=e.resumeToken.toBase64(),new EE(e.targetId,Ay(e.target),n,t,e.sequenceNumber,r,i)}function W_(t){var e=cm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ab(e,e.limit,"L"):e}var z_=(H_.qr=function(t,e,n,r){return Qv(""!==t.uid),new H_(t.Js()?t.uid:"",e,n,r)},H_.prototype.Ur=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $_(t).ns({index:vE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},H_.prototype.Qr=function(t,e,n,r){var i=this,o=Y_(t),a=$_(t);return a.add({}).next((function(s){Qv("number"==typeof s);for(var u,c,l,h,f,p=new e_(s,e,n,r),d=(u=i.serializer,c=i.userId,h=(l=p).baseMutations.map((function(t){return om(u.$r,t)})),f=l.mutations.map((function(t){return om(u.$r,t)})),new vE(c,l.batchId,l.li.toMillis(),h,f)),v=[],y=new $y((function(t,e){return Zv(t.M(),e.M())})),g=0,m=r;g<m.length;g++){var b=m[g],w=yE.key(i.userId,b.key.path,s);y=y.add(b.key.path.S()),v.push(a.put(d)),v.push(o.put(w,yE.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Fi.Kr(t,e))})),t.Di((function(){i.Br[s]=p.keys()})),gw.xn(v).next((function(){return p}))}))},H_.prototype.Wr=function(t,e){var n=this;return $_(t).get(e).next((function(t){return t?(Qv(t.userId===n.userId),V_(n.serializer,t)):null}))},H_.prototype.jr=function(t,e){var n=this;return this.Br[e]?gw.resolve(this.Br[e]):this.Wr(t,e).next((function(t){return t?(t=t.keys(),n.Br[e]=t):null}))},H_.prototype.Gr=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return $_(t).ns({index:vE.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&(Qv(e.batchId>=r),i=V_(n.serializer,e)),o.done()})).next((function(){return i}))},H_.prototype.zr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $_(t).ns({index:vE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},H_.prototype.Hr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $_(t).Xn(vE.userMutationsIndex,n).next((function(t){return t.map((function(t){return V_(e.serializer,t)}))}))},H_.prototype.Mi=function(t,e){var n=this,r=yE.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return Y_(t).ns({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=P_(u),s===n.userId&&e.path.isEqual(u))return $_(t).get(r).next((function(t){if(!t)throw Yv();Qv(t.userId===n.userId),i.push(V_(n.serializer,t))}));a.done()})).next((function(){return i}))},H_.prototype.qi=function(t,e){var n=this,r=new $y(Zv),i=[];return e.forEach((function(e){var o=yE.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=Y_(t).ns({range:o},(function(t,i,o){var a=t[0],s=t[1];t=t[2],s=P_(s),a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()})),i.push(o)})),gw.xn(i).next((function(){return n.Jr(t,r)}))},H_.prototype.Gi=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=yE.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new $y(Zv));return Y_(t).ns({range:e},(function(t,e,a){var s=t[0],u=t[1];t=t[2],u=P_(u),s===n.userId&&r.N(u)?u.length===i&&(o=o.add(t)):a.done()})).next((function(){return n.Jr(t,o)}))},H_.prototype.Jr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push($_(t).get(e).next((function(t){if(null===t)throw Yv();Qv(t.userId===n.userId),r.push(V_(n.serializer,t))})))})),gw.xn(i).next((function(){return r}))},H_.prototype.Yr=function(t,e){var n=this;return G_(t.Xr,this.userId,e).next((function(r){return t.Di((function(){n.Zr(e.batchId)})),gw.forEach(r,(function(e){return n.Lr.eo(t,e)}))}))},H_.prototype.Zr=function(t){delete this.Br[t]},H_.prototype.no=function(t){var e=this;return this.Ur(t).next((function(n){if(!n)return gw.resolve();n=IDBKeyRange.lowerBound(yE.prefixForUser(e.userId));var r=[];return Y_(t).ns({range:n},(function(t,n,i){t[0]===e.userId?(t=P_(t[1]),r.push(t)):i.done()})).next((function(){Qv(0===r.length)}))}))},H_.prototype.so=function(t,e){return K_(t,this.userId,e)},H_.prototype.io=function(t){var e=this;return Q_(t).get(this.userId).next((function(t){return t||new dE(e.userId,-1,"")}))},H_);function H_(t,e,n,r){this.userId=t,this.serializer=e,this.Fi=n,this.Lr=r,this.Br={}}function K_(t,e,n){var r=(n=yE.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return Y_(t).ns({range:n,es:!0},(function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function G_(t,e,n){var r=t.store(vE.store),i=t.store(yE.store),o=[],a=(t=IDBKeyRange.only(n.batchId),0);t=r.ns({range:t},(function(t,e,n){return a++,n.delete()})),o.push(t.next((function(){Qv(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=yE.key(e,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return gw.xn(o).next((function(){return s}))}function $_(t){return $E.qn(t,vE.store)}function Y_(t){return $E.qn(t,yE.store)}function Q_(t){return $E.qn(t,dE.store)}var X_,J_=(eE.prototype.Ri=function(t,e,n){return rE(t).put(iE(e),n)},eE.prototype.Vi=function(t,e){return t=rE(t),e=iE(e),t.delete(e)},eE.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ro(t,r)}))},eE.prototype.yi=function(t,e){var n=this;return rE(t).get(iE(e)).next((function(t){return n.oo(t)}))},eE.prototype.ao=function(t,e){var n=this;return rE(t).get(iE(e)).next((function(t){var e=n.oo(t);return e?{gi:e,size:oE(t)}:null}))},eE.prototype.getEntries=function(t,e){var n=this,r=Qy;return this.co(t,e,(function(t,e){e=n.oo(e),r=r.rt(t,e)})).next((function(){return r}))},eE.prototype.uo=function(t,e){var n=this,r=Qy,i=new By(yy.V);return this.co(t,e,(function(t,e){var o=n.oo(e);i=o?(r=r.rt(t,o),i.rt(t,oE(e))):(r=r.rt(t,null),i.rt(t,0))})).next((function(){return{ho:r,lo:i}}))},eE.prototype.co=function(t,e,n){if(e.T())return gw.resolve();var r=IDBKeyRange.bound(e.first().path.O(),e.last().path.O()),i=e.lt(),o=i.Et();return rE(t).ns({range:r},(function(t,e,r){for(var a=yy.H(t);o&&yy.V(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.O()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},eE.prototype.Ui=function(t,e,n){var r,i=this,o=Zy,a=e.path.length+1,s={};return n.isEqual(fy.min())?(r=e.path.O(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.O(),n=L_(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=wE.collectionReadTimeIndex),rE(t).ns(s,(function(t,n,r){t.length===a&&(n=D_(i.serializer,n),e.path.N(n.key.path)?n instanceof db&&Lb(e,n)&&(o=o.rt(n.key,n)):r.done())})).next((function(){return o}))},eE.prototype._o=function(t){return new Z_(this,!!t&&t.fo)},eE.prototype.wo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},eE.prototype.getMetadata=function(t){return nE(t).get(_E.key).next((function(t){return Qv(!!t),t}))},eE.prototype.ro=function(t,e){return nE(t).put(_E.key,e)},eE.prototype.oo=function(t){return t?(t=D_(this.serializer,t))instanceof vb&&t.version.isEqual(fy.min())?null:t:null},eE),Z_=(bo(tE,X_=Dr),tE.prototype.bi=function(t){var e=this,n=[],r=0,i=new $y((function(t,e){return Zv(t.M(),e.M())}));return this.Ii.forEach((function(o,a){var s,u=e.Eo.get(o);a.gi?(s=M_(e.To.serializer,a.gi,e.Ai(o)),i=i.add(o.path.S()),a=oE(s),r+=a-u,n.push(e.To.Ri(t,o,s))):(r-=u,e.fo?(u=M_(e.To.serializer,new vb(o,fy.min()),e.Ai(o)),n.push(e.To.Ri(t,o,u))):n.push(e.To.Vi(t,o)))})),i.forEach((function(r){n.push(e.To.Fi.Kr(t,r))})),n.push(this.To.updateMetadata(t,r)),gw.xn(n)},tE.prototype.pi=function(t,e){var n=this;return this.To.ao(t,e).next((function(t){return null===t?(n.Eo.set(e,0),null):(n.Eo.set(e,t.size),t.gi)}))},tE.prototype.vi=function(t,e){var n=this;return this.To.uo(t,e).next((function(t){var e=t.ho;return t.lo.forEach((function(t,e){n.Eo.set(t,e)})),e}))},tE);function tE(t,e){var n=this;return(n=X_.call(this)||this).To=t,n.fo=e,n.Eo=new uy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function eE(t,e){this.serializer=t,this.Fi=e}function nE(t){return $E.qn(t,_E.store)}function rE(t){return $E.qn(t,wE.store)}function iE(t){return t.path.O()}function oE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yv();e=t.noDocument}return JSON.stringify(e).length}var aE=(pE.prototype.Kr=function(t,e){return this.Io.add(e),gw.resolve()},pE.prototype.ji=function(t,e){return gw.resolve(this.Io.getEntries(e))},pE),sE=(fE.prototype.add=function(t){var e=t.C(),n=t.S(),r=this.index[e]||new $y(py.V);return t=!r.has(n),this.index[e]=r.add(n),t},fE.prototype.has=function(t){var e=t.C();return t=t.S(),(e=this.index[e])&&e.has(t)},fE.prototype.getEntries=function(t){return(this.index[t]||new $y(py.V)).O()},fE),uE=(hE.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Qv(n<r&&0<=n&&r<=11);var o=new Ow("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(lE.store),(a=t).createObjectStore(dE.store,{keyPath:dE.keyPath}),a.createObjectStore(vE.store,{keyPath:vE.keyPath,autoIncrement:!0}).createIndex(vE.userMutationsIndex,vE.userMutationsKeyPath,{unique:!0}),a.createObjectStore(yE.store),CE(t),t.createObjectStore(wE.store));var a,s=gw.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(TE.store),a.deleteObjectStore(EE.store),a.deleteObjectStore(IE.store),CE(t)),s=s.next((function(){return t=o.store(IE.store),e=new IE(0,0,fy.min().P(),0),t.put(IE.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(s=s.next((function(){return e=t,(n=o).store(vE.store).Xn().next((function(t){e.deleteObjectStore(vE.store),e.createObjectStore(vE.store,{keyPath:vE.keyPath,autoIncrement:!0}).createIndex(vE.userMutationsIndex,vE.userMutationsKeyPath,{unique:!0});var r=n.store(vE.store);return t=t.map((function(t){return r.put(t)})),gw.xn(t)}));var e,n}))),s=s.next((function(){t.createObjectStore(OE.store,{keyPath:OE.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(s=s.next((function(){return t.createObjectStore(_E.store),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(wE.store)).createIndex(wE.readTimeIndex,wE.readTimeIndexPath,{unique:!1}),n.createIndex(wE.collectionReadTimeIndex,wE.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&11<=r&&(s=s.next((function(){t.createObjectStore(kE.store,{keyPath:kE.keyPath}),t.createObjectStore(NE.store,{keyPath:NE.keyPath})}))),s},hE.prototype.addDocumentGlobal=function(t){var e=0;return t.store(wE.store).ns((function(t,n){e+=oE(n)})).next((function(){var n=new _E(e);return t.store(_E.store).put(_E.key,n)}))},hE.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(dE.store),r=t.store(vE.store);return n.Xn().next((function(n){return gw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Xn(vE.userMutationsIndex,i).next((function(r){return gw.forEach(r,(function(r){return Qv(r.userId===n.userId),r=V_(e.serializer,r),G_(t,n.userId,r).next((function(){}))}))}))}))}))},hE.prototype.ensureSequenceNumbers=function(t){var e=t.store(TE.store),n=t.store(wE.store);return t.store(IE.store).get(IE.key).next((function(t){var r=[];return n.ns((function(n,i){var o=new py(n);n=[0,A_(o)],r.push(e.get(n).next((function(n){return n?gw.resolve():e.put(new TE(0,A_(o),t.highestListenSequenceNumber))})))})).next((function(){return gw.xn(r)}))}))},hE.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t.C();return t=t.S(),r.put({collectionId:e,parent:A_(t)})}}t.createObjectStore(SE.store,{keyPath:SE.keyPath});var r=e.store(SE.store),i=new sE;return e.store(wE.store).ns({es:!0},(function(t,e){return n((t=new py(t)).S())})).next((function(){return e.store(yE.store).ns({es:!0},(function(t,e){t[0];var r=t[1];return n((t[2],r=P_(r)).S())}))}))},hE.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(EE.store);return n.ns((function(t,r){return r=B_(r),r=q_(e.serializer,r),n.put(r)}))},hE),cE=function(t,e){this.seconds=t,this.nanoseconds=e},lE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function hE(t){this.serializer=t}function fE(){this.index={}}function pE(){this.Io=new sE}lE.store="owner",lE.key="owner";var dE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};dE.store="mutationQueues",dE.keyPath="userId";var vE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vE.store="mutations",vE.keyPath="batchId",vE.userMutationsIndex="userMutationsIndex",vE.userMutationsKeyPath=["userId","batchId"];var yE=(gE.prefixForUser=function(t){return[t]},gE.prefixForPath=function(t,e){return[t,A_(e)]},gE.key=function(t,e,n){return[t,A_(e),n]},gE);function gE(){}yE.store="documentMutations",yE.PLACEHOLDER=new yE;var mE=function(t,e){this.path=t,this.readTime=e},bE=function(t,e){this.path=t,this.version=e},wE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};wE.store="remoteDocuments",wE.readTimeIndex="readTimeIndex",wE.readTimeIndexPath="readTime",wE.collectionReadTimeIndex="collectionReadTimeIndex",wE.collectionReadTimeIndexPath=["parentPath","readTime"];var _E=function(t){this.byteSize=t};_E.store="remoteDocumentGlobal",_E.key="remoteDocumentGlobalKey";var EE=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};EE.store="targets",EE.keyPath="targetId",EE.queryTargetsIndexName="queryTargetsIndex",EE.queryTargetsKeyPath=["canonicalId","targetId"];var TE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};TE.store="targetDocuments",TE.keyPath=["targetId","path"],TE.documentTargetsIndex="documentTargetsIndex",TE.documentTargetsKeyPath=["path","targetId"];var IE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};IE.key="targetGlobalKey",IE.store="targetGlobal";var SE=function(t,e){this.collectionId=t,this.parent=e};function CE(t){t.createObjectStore(TE.store,{keyPath:TE.keyPath}).createIndex(TE.documentTargetsIndex,TE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(EE.store,{keyPath:EE.keyPath}).createIndex(EE.queryTargetsIndexName,EE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(IE.store)}SE.store="collectionParents",SE.keyPath=["collectionId","parent"];var OE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};OE.store="clientMetadata",OE.keyPath="clientId";var kE=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};kE.store="bundles",kE.keyPath="bundleId";var NE=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};NE.store="namedQueries",NE.keyPath="name";var AE=Co(Co(Co(Co([dE.store,vE.store,yE.store,wE.store,EE.store,lE.store,IE.store,TE.store],[OE.store]),[_E.store]),[SE.store]),[kE.store,NE.store]),xE=(PE.prototype.mo=function(t,e){return RE(t).get(e).next((function(t){if(t)return{id:(t=t).bundleId,createTime:U_(t.createTime),version:t.version}}))},PE.prototype.Ao=function(t,e){return RE(t).put({bundleId:(e=e).id,createTime:F_(Yg(e.createTime)),version:e.version})},PE.prototype.Ro=function(t,e){return DE(t).get(e).next((function(t){if(t)return{name:(t=t).name,query:W_(t.bundledQuery),readTime:U_(t.readTime)}}))},PE.prototype.Po=function(t,e){return DE(t).put({name:(e=e).name,readTime:F_(Yg(e.readTime)),bundledQuery:e.bundledQuery})},PE);function PE(t){this.serializer=t}function RE(t){return $E.qn(t,kE.store)}function DE(t){return $E.qn(t,NE.store)}var ME=(LE.prototype.Kr=function(t,e){var n=this;if(this.Vo.has(e))return gw.resolve();var r=e.C(),i=e.S();return t.Di((function(){n.Vo.add(e)})),i={collectionId:r,parent:A_(i)},jE(t).put(i)},LE.prototype.ji=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ey(e),""],!1,!0);return jE(t).Xn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(P_(o.parent))}return n}))},LE);function LE(){this.Vo=new sE}function jE(t){return $E.qn(t,SE.store)}var FE=(BE.prototype.next=function(){return this.yo+=2,this.yo},BE.po=function(){return new BE(0)},BE.vo=function(){return new BE(-1)},BE),UE=(VE.prototype.bo=function(t){var e=this;return this.So(t).next((function(n){var r=new FE(n.highestTargetId);return n.highestTargetId=r.next(),e.Do(t,n).next((function(){return n.highestTargetId}))}))},VE.prototype.Co=function(t){return this.So(t).next((function(t){return fy.m(new hy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},VE.prototype.No=function(t){return this.So(t).next((function(t){return t.highestListenSequenceNumber}))},VE.prototype.xo=function(t,e,n){var r=this;return this.So(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.P()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Do(t,i)}))},VE.prototype.Fo=function(t,e){var n=this;return this.Oo(t,e).next((function(){return n.So(t).next((function(r){return r.targetCount+=1,n.Mo(e,r),n.Do(t,r)}))}))},VE.prototype.ko=function(t,e){return this.Oo(t,e)},VE.prototype.$o=function(t,e){var n=this;return this.Lo(t,e.targetId).next((function(){return qE(t).delete(e.targetId)})).next((function(){return n.So(t)})).next((function(e){return Qv(0<e.targetCount),--e.targetCount,n.Do(t,e)}))},VE.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return qE(t).ns((function(a,s){(s=B_(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.$o(t,s)))})).next((function(){return gw.xn(o)})).next((function(){return i}))},VE.prototype.De=function(t,e){return qE(t).ns((function(t,n){n=B_(n),e(n)}))},VE.prototype.So=function(t){return WE(t).get(IE.key).next((function(t){return Qv(null!==t),t}))},VE.prototype.Do=function(t,e){return WE(t).put(IE.key,e)},VE.prototype.Oo=function(t,e){return qE(t).put(q_(this.serializer,e))},VE.prototype.Mo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},VE.prototype.Bo=function(t){return this.So(t).next((function(t){return t.targetCount}))},VE.prototype.qo=function(t,e){var n=Ay(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return qE(t).ns({range:n,index:EE.queryTargetsIndexName},(function(t,n,i){n=B_(n),xy(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},VE.prototype.Uo=function(t,e,n){var r=this,i=[],o=zE(t);return e.forEach((function(e){var a=A_(e.path);i.push(o.put(new TE(n,a))),i.push(r.Lr.Qo(t,n,e))})),gw.xn(i)},VE.prototype.Ko=function(t,e,n){var r=this,i=zE(t);return gw.forEach(e,(function(e){var o=A_(e.path);return gw.xn([i.delete([n,o]),r.Lr.Wo(t,n,e)])}))},VE.prototype.Lo=function(t,e){return t=zE(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},VE.prototype.jo=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=zE(t);var n=ng();return t.ns({range:e,es:!0},(function(t,e,r){t=P_(t[1]),t=new yy(t),n=n.add(t)})).next((function(){return n}))},VE.prototype.so=function(t,e){e=A_(e.path),e=IDBKeyRange.bound([e],[ey(e)],!1,!0);var n=0;return zE(t).ns({index:TE.documentTargetsIndex,es:!0,range:e},(function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},VE.prototype.qe=function(t,e){return qE(t).get(e).next((function(t){return t?B_(t):null}))},VE);function VE(t,e){this.Lr=t,this.serializer=e}function BE(t){this.yo=t}function qE(t){return $E.qn(t,EE.store)}function WE(t){return $E.qn(t,IE.store)}function zE(t){return $E.qn(t,TE.store)}var HE,KE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GE=(bo(QE,HE=j),QE),$E=(YE.qn=function(t,e){if(t instanceof GE)return mw.qn(t.Xr,e);throw Yv()},YE.prototype.start=function(){var t=this;return this.ca().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ly(cy.FAILED_PRECONDITION,KE);return t.ua(),t.ha(),t.la(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ra.No(e)}))})).then((function(e){t.Jo=new v_(e,t.zo)})).then((function(){t.Yo=!0})).catch((function(e){return t.ia&&t.ia.close(),Promise.reject(e)}))},YE.prototype._a=function(t){var e=this;return this.na=function(n){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){return this.yr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},YE.prototype.fa=function(t){var e=this;this.ia.Kn((function(n){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},YE.prototype.da=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ln.fs((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.yr?[4,this.ca()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},YE.prototype.ca=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return JE(e).put(new OE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.wa(e).next((function(e){e||(t.isPrimary=!1,t.ln.Ss((function(){return t.na(!1)})))}))})).next((function(){return t.Ta(e)})).next((function(n){return t.isPrimary&&!n?t.Ea(e).next((function(){return!1})):!!n&&t.Ia(e).next((function(){return!0}))}))})).catch((function(e){if(Cw(e))return Hv("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Hv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.ln.Ss((function(){return t.na(e)})),t.isPrimary=e}))},YE.prototype.wa=function(t){var e=this;return XE(t).get(lE.key).next((function(t){return gw.resolve(e.ma(t))}))},YE.prototype.Aa=function(t){return JE(t).delete(this.clientId)},YE.prototype.Ra=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Eo(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Pa(this.ea,18e5)?[3,2]:(this.ea=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=YE.qn(t,OE.store);return e.Xn().next((function(t){var n=i.ga(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return gw.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.aa)for(e=0,n=t;e<n.length;e++)r=n[e],this.aa.removeItem(this.Va(r.clientId));o.label=2;case 2:return[2]}}))}))},YE.prototype.la=function(){var t=this;this.ta=this.ln.Pn("client_metadata_refresh",4e3,(function(){return t.ca().then((function(){return t.Ra()})).then((function(){return t.la()}))}))},YE.prototype.ma=function(t){return!!t&&t.ownerId===this.clientId},YE.prototype.Ta=function(t){var e=this;return this.Ho?gw.resolve(!0):XE(t).get(lE.key).next((function(n){if(null!==n&&e.Pa(n.leaseTimestampMs,5e3)&&!e.ya(n.ownerId)){if(e.ma(n)&&e.networkEnabled)return!0;if(!e.ma(n)){if(!n.allowTabSynchronization)throw new ly(cy.FAILED_PRECONDITION,KE);return!1}}return!(!e.networkEnabled||!e.inForeground)||JE(t).Xn().next((function(t){return void 0===e.ga(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Hv("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},YE.prototype.pa=function(){return _o(this,void 0,void 0,(function(){var t=this;return Eo(this,(function(e){switch(e.label){case 0:return this.Yo=!1,this.va(),this.ta&&(this.ta.cancel(),this.ta=null),this.ba(),this.Sa(),[4,this.ia.runTransaction("shutdown","readwrite",[lE.store,OE.store],(function(e){var n=new GE(e,v_.nr);return t.Ea(n).next((function(){return t.Aa(n)}))}))];case 1:return e.sent(),this.ia.close(),this.Da(),[2]}}))}))},YE.prototype.ga=function(t,e){var n=this;return t.filter((function(t){return n.Pa(t.updateTimeMs,e)&&!n.ya(t.clientId)}))},YE.prototype.Ca=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return JE(e).Xn().next((function(e){return t.ga(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(YE.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),YE.prototype.Na=function(t){return z_.qr(t,this.serializer,this.Fi,this.Lr)},YE.prototype.xa=function(){return this.ra},YE.prototype.Fa=function(){return this.Ni},YE.prototype.Oa=function(){return this.Fi},YE.prototype.Ma=function(){return this.oa},YE.prototype.runTransaction=function(t,e,n){var r=this;Hv("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.ia.runTransaction(t,o,AE,(function(o){return i=new GE(o,r.Jo?r.Jo.next():v_.nr),"readwrite-primary"===e?r.wa(i).next((function(t){return!!t||r.Ta(i)})).next((function(e){if(!e)throw Kv("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.ln.Ss((function(){return r.na(!1)})),new ly(cy.FAILED_PRECONDITION,f_);return n(i)})).next((function(t){return r.Ia(i).next((function(){return t}))})):r.ka(i).next((function(){return n(i)}))})).then((function(t){return i.Ci(),t}))},YE.prototype.ka=function(t){var e=this;return XE(t).get(lE.key).next((function(t){if(null!==t&&e.Pa(t.leaseTimestampMs,5e3)&&!e.ya(t.ownerId)&&!e.ma(t)&&!(e.Ho||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ly(cy.FAILED_PRECONDITION,KE)}))},YE.prototype.Ia=function(t){var e=new lE(this.clientId,this.allowTabSynchronization,Date.now());return XE(t).put(lE.key,e)},YE.kn=function(){return mw.kn()},YE.prototype.Ea=function(t){var e=this,n=XE(t);return n.get(lE.key).next((function(t){return e.ma(t)?(Hv("IndexedDbPersistence","Releasing primary lease."),n.delete(lE.key)):gw.resolve()}))},YE.prototype.Pa=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Kv("Detected an update time that is in the future: "+t+" > "+n),1))},YE.prototype.ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Zo=function(){t.ln.fs((function(){return t.inForeground="visible"===t.document.visibilityState,t.ca()}))},this.document.addEventListener("visibilitychange",this.Zo),this.inForeground="visible"===this.document.visibilityState)},YE.prototype.ba=function(){this.Zo&&(this.document.removeEventListener("visibilitychange",this.Zo),this.Zo=null)},YE.prototype.ha=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Xo=function(){e.va(),e.ln.fs((function(){return e.pa()}))},this.window.addEventListener("unload",this.Xo))},YE.prototype.Sa=function(){this.Xo&&(this.window.removeEventListener("unload",this.Xo),this.Xo=null)},YE.prototype.ya=function(t){try{var e=null!==(null===(e=this.aa)||void 0===e?void 0:e.getItem(this.Va(t)));return Hv("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Kv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},YE.prototype.va=function(){if(this.aa)try{this.aa.setItem(this.Va(this.clientId),String(Date.now()))}catch(i){Kv("Failed to set zombie client id.",i)}},YE.prototype.Da=function(){if(this.aa)try{this.aa.removeItem(this.Va(this.clientId))}catch(i){}},YE.prototype.Va=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},YE);function YE(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.ln=i,this.window=o,this.document=a,this.zo=u,this.Ho=c,this.Jo=null,this.Yo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Xo=null,this.inForeground=!1,this.Zo=null,this.ta=null,this.ea=Number.NEGATIVE_INFINITY,this.na=function(t){return Promise.resolve()},!YE.kn())throw new ly(cy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Lr=new ZE(this,r),this.sa=e+"main",this.serializer=new R_(s),this.ia=new mw(this.sa,11,new uE(this.serializer)),this.ra=new UE(this.Lr,this.serializer),this.Fi=new ME,this.Ni=(e=this.serializer,s=this.Fi,new J_(e,s)),this.oa=new xE(this.serializer),this.window&&this.window.localStorage?this.aa=this.window.localStorage:(this.aa=null,!1===c&&Kv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function QE(t,e){var n=this;return(n=HE.call(this)||this).Xr=t,n.Go=e,n}function XE(t){return $E.qn(t,lE.store)}function JE(t){return $E.qn(t,OE.store)}var ZE=(tT.prototype.Sr=function(t){var e=this.$a(t);return this.db.xa().Bo(t).next((function(t){return e.next((function(e){return t+e}))}))},tT.prototype.$a=function(t){var e=0;return this.Cr(t,(function(t){e++})).next((function(){return e}))},tT.prototype.De=function(t,e){return this.db.xa().De(t,e)},tT.prototype.Cr=function(t,e){return this.La(t,(function(t,n){return e(n)}))},tT.prototype.Qo=function(t,e,n){return eT(t,n)},tT.prototype.Wo=function(t,e,n){return eT(t,n)},tT.prototype.Nr=function(t,e,n){return this.db.xa().Nr(t,e,n)},tT.prototype.eo=eT,tT.prototype.Ba=function(t,e){return r=e,i=!1,Q_(n=t).ss((function(t){return K_(n,t,r).next((function(t){return t&&(i=!0),gw.resolve(!t)}))})).next((function(){return i}));var n,r,i},tT.prototype.Fr=function(t,e){var n=this,r=this.db.Fa()._o(),i=[],o=0;return this.La(t,(function(a,s){s<=e&&(s=n.Ba(t,a).next((function(e){if(!e)return o++,r.yi(t,a).next((function(){return r.Vi(a),zE(t).delete([0,A_(a.path)])}))})),i.push(s))})).next((function(){return gw.xn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},tT.prototype.removeTarget=function(t,e){return e=e.nt(t.Go),this.db.xa().ko(t,e)},tT.prototype.qa=eT,tT.prototype.La=function(t,e){t=zE(t);var n,r=v_.nr;return t.ns({index:TE.documentTargetsIndex},(function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==v_.nr&&e(new yy(P_(n)),r),r=i,n=t):r=v_.nr})).next((function(){r!==v_.nr&&e(new yy(P_(n)),r)}))},tT.prototype.Mr=function(t){return this.db.Fa().wo(t)},tT);function tT(t,e){this.db=t,this.Rr=new O_(this,e)}function eT(t,e){return zE(t).put((t=t.Go,new TE(0,A_(e.path),t)))}function nT(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rT=(iT.prototype.pr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Or(n,e.Qa)}))},iT);function iT(t,e,n,r){this.persistence=t,this.Ua=e,this.serializer=r,this.Qa=new By(Zv),this.Ka=new uy(Ay,xy),this.Wa=fy.min(),this.xi=t.Na(n),this.ja=t.Fa(),this.ra=t.xa(),this.Ga=new p_(this.ja,this.xi,this.persistence.Oa()),this.oa=t.Ma(),this.Ua.za(this.Ga)}function oT(t,e,n,r){return new rT(t,e,n,r)}function aT(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return r=(n=t).xi,i=n.Ga,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.xi.Hr(t).next((function(a){return o=a,r=n.persistence.Na(e),i=new p_(n.ja,r,n.persistence.Oa()),r.Hr(t)})).next((function(e){for(var n=[],r=[],a=ng(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.Li(t,a).next((function(t){return{Ha:t,Ja:n,Ya:r}}))}))}))];case 1:return o=a.sent(),[2,(n.xi=r,n.Ga=i,n.Ua.za(n.Ga),o)]}}))}))}function sT(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.ja._o({fo:!0});return r=n,i=t,a=h,u=(s=(o=e).batch).keys(),c=gw.resolve(),u.forEach((function(t){c=c.next((function(){return a.yi(i,t)})).next((function(e){var n=e;Qv(null!==(e=o.Ei.get(t))),(!n||n.version.A(e)<0)&&(n=s._i(t,n,o))&&a.Ri(n,o.Ti)}))})),c.next((function(){return r.xi.Yr(i,s)})).next((function(){return h.apply(t)})).next((function(){return n.xi.no(t)})).next((function(){return n.Ga.Li(t,l)}))}))}function uT(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ra.Co(t)}))}function cT(t,e){var n=t,r=e.et,i=n.Qa;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.ja._o({fo:!0});i=n.Qa;var a=[];e.Gt.forEach((function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.ra.Ko(t,e.ne,o).next((function(){return n.ra.Uo(t,e.te,o)}))),0<(c=e.resumeToken).X()&&(s=l.st(c,r).nt(t.Go),i=i.rt(o,s),u=l,c=e,Qv(0<(l=s).resumeToken.X()),(0===u.resumeToken.X()||3e8<=l.et.R()-u.et.R()||0<c.te.size+c.ee.size+c.ne.size)&&a.push(n.ra.ko(t,s))))}));var s,u,c,l,h,f=Qy;return e.Ht.forEach((function(r,i){e.Jt.has(r)&&a.push(n.persistence.Lr.qa(t,r))})),a.push((s=t,u=o,c=e.Ht,l=r,h=ng(),c.forEach((function(t){return h=h.add(t)})),u.getEntries(s,h).next((function(t){var e=Qy;return c.forEach((function(n,r){var i=t.get(n),o=l;r instanceof vb&&r.version.isEqual(fy.min())?(u.Vi(n,o),e=e.rt(n,r)):null==i||0<r.version.A(i.version)||0===r.version.A(i.version)&&i.hasPendingWrites?(u.Ri(r,o),e=e.rt(n,r)):Hv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)})),e})).next((function(t){f=t})))),r.isEqual(fy.min())||(s=n.ra.Co(t).next((function(e){return n.ra.xo(t,t.Go,r)})),a.push(s)),gw.xn(a).next((function(){return o.apply(t)})).next((function(){return n.Ga.Bi(t,f)}))})).then((function(t){return n.Qa=i,t}))}function lT(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ra.qo(t,e).next((function(i){return i?(r=i,gw.resolve(r)):n.ra.bo(t).next((function(i){return r=new jy(e,i,0,t.Go),n.ra.Fo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Qa.get(t.targetId);return(null===r||0<t.et.A(r.et))&&(n.Qa=n.Qa.rt(t.targetId,t),n.Ka.set(e,t.targetId)),t}))}function hT(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:i=(r=t).Qa.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Lr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Cw(o=a.sent()))throw o;return Hv("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Qa=r.Qa.remove(e),r.Ka.delete(i.target),[2]}}))}))}function fT(t,e,n){var r=t,i=fy.min(),o=ng();return r.persistence.runTransaction("Execute query","readonly",(function(t){return a=r,s=t,u=Nb(e),(void 0!==(a=(c=a).Ka.get(u))?gw.resolve(c.Qa.get(a)):c.ra.qo(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ra.jo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ua.Ui(t,e,n?i:fy.min(),n?o:ng())})).next((function(t){return{documents:t,Xa:o}}));var a,s,u,c}))}function pT(t,e){var n=t,r=n.ra;return(t=n.Qa.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function dT(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.ja,r=t,t=e.Wa,i=n,o=Qy,a=L_(t),t=rE(r),r=IDBKeyRange.lowerBound(a,!0),t.ns({index:wE.readTimeIndex,range:r},(function(t,e){var n=D_(i.serializer,e);o=o.rt(n.key,n),a=e.readTime})).next((function(){return{Za:o,readTime:j_(a)}}));var n,r,i,o,a})).then((function(t){var n=t.Za;return t=t.readTime,e.Wa=t,n}))}function vT(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=rE(t),e=fy.min(),t.ns({index:wE.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=j_(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.Wa=t}))]}))}))}function yT(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){if(t.code!==cy.FAILED_PRECONDITION||t.message!==f_)throw t;return Hv("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function gT(t,e,n,r,i){var o=this;this.Kc=t,this.Wc=e,this.rs=n,this.jc={},this.Gc=[],this.zc=new Map,this.Hc=new Set,this.Jc=[],this.Yc=i,this.Yc.Xc((function(t){n.fs((function(){return _o(o,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return FT(this)?(Hv("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return(e=t).Hc.add(4),[4,xT(e)];case 1:return n.sent(),e.Zc.set("Unknown"),e.Hc.delete(4),[4,AT(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Zc=new IT(n,r)}NT.prototype.rc=function(){return 1===this.state||2===this.state||4===this.state},NT.prototype.oc=function(){return 2===this.state},NT.prototype.start=function(){3!==this.state?this.auth():this.ac()},NT.prototype.stop=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.rc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},NT.prototype.cc=function(){this.state=0,this.Ps.reset()},NT.prototype.uc=function(){var t=this;this.oc()&&null===this.ic&&(this.ic=this.ln.Pn(this.tc,6e4,(function(){return t.hc()})))},NT.prototype.lc=function(t){this._c(),this.stream.send(t)},NT.prototype.hc=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){return this.oc()?[2,this.close(0)]:[2]}))}))},NT.prototype._c=function(){this.ic&&(this.ic.cancel(),this.ic=null)},NT.prototype.close=function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return this._c(),this.Ps.cancel(),this.sc++,3!==t?this.Ps.reset():e&&e.code===cy.RESOURCE_EXHAUSTED?(Kv(e.toString()),Kv("Using maximum backoff delay to prevent overloading the backend."),this.Ps.mn()):e&&e.code===cy.UNAUTHENTICATED&&this.nc.ni(),null!==this.stream&&(this.fc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.dc(e)];case 1:return n.sent(),[2]}}))}))},NT.prototype.fc=function(){},NT.prototype.auth=function(){var t=this;this.state=1;var e=this.wc(this.sc),n=this.sc;this.nc.getToken().then((function(e){t.sc===n&&t.Tc(e)}),(function(n){e((function(){var e=new ly(cy.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ec(e)}))}))},NT.prototype.Tc=function(t){var e=this,n=this.wc(this.sc);this.stream=this.Ic(t),this.stream.mc((function(){n((function(){return e.state=2,e.listener.mc()}))})),this.stream.dc((function(t){n((function(){return e.Ec(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},NT.prototype.ac=function(){var t=this;this.state=4,this.Ps.An((function(){return _o(t,void 0,void 0,(function(){return Eo(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},NT.prototype.Ec=function(t){return Hv("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},NT.prototype.wc=function(t){var e=this;return function(n){e.ln.fs((function(){return e.sc===t?n():(Hv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}};var mT,bT,wT,_T=(bo(kT,wT=K=NT),kT.prototype.Ic=function(t){return this.ec.Ac("Listen",t)},kT.prototype.onMessage=function(t){this.Ps.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(i=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:Yv(),r=e.targetChange.targetIds||[],i=(o=e.targetChange.resumeToken,t.Ue?(Qv(void 0===o||"string"==typeof o),Ry.fromBase64String(o||"")):(Qv(void 0===o||o instanceof Uint8Array),Ry.fromUint8Array(o||new Uint8Array))),o=e.targetChange.cause,a=o&&(o=void 0===(a=o).code?cy.UNKNOWN:Vy(a.code),new ly(o,a.message||""));r=new hg(n,r,i,a||null)}else if("documentChange"in e){e.documentChange,(u=e.documentChange).document,u.document.name,u.document.updateTime,i=Zg(t,u.document.name);var s=Yg(u.document.updateTime),u=(a=new ob({mapValue:{fields:u.document.fields}}),s=new db(i,s,a,{}),a=u.targetIds||[],u.removedTargetIds||[]);r=new cg(a,u,s.key,s)}else if("documentDelete"in e){e.documentDelete,(u=e.documentDelete).document,s=Zg(t,u.document);var c=u.readTime?Yg(u.readTime):fy.min();c=new vb(s,c),u=u.removedTargetIds||[],r=new cg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove,(c=e.documentRemove).document;var l=Zg(t,c.document);c=c.removedTargetIds||[],r=new cg([],c,l,null)}else{if(!("filter"in e))return Yv();e.filter,(l=e.filter).targetId,e=new My(e=l.count||0),l=l.targetId,r=new lg(l,e)}return r}(this.serializer,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?fy.min():Yg(t.readTime):fy.min()}(t),this.listener.Rc(e,t)},kT.prototype.Pc=function(t){var e,n,r,i,o={};o.database=nm(this.serializer),o.addTarget=(e=this.serializer,(r=Py(r=(n=t).target)?{documents:sm(e,r)}:{query:um(e,r)}).targetId=n.targetId,0<n.resumeToken.X()?r.resumeToken=$g(e,n.resumeToken):0<n.et.A(fy.min())&&(r.readTime=Gg(e,n.et.P())),r),this.serializer,i=t,(t=null==(t=function(){switch(i.tt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yv()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.lc(o)},kT.prototype.gc=function(t){var e={};e.database=nm(this.serializer),e.removeTarget=t,this.lc(e)},kT),ET=(bo(OT,bT=K),Object.defineProperty(OT.prototype,"yc",{get:function(){return this.Vc},enumerable:!1,configurable:!0}),OT.prototype.start=function(){this.Vc=!1,this.lastStreamToken=void 0,bT.prototype.start.call(this)},OT.prototype.fc=function(){this.Vc&&this.vc([])},OT.prototype.Ic=function(t){return this.ec.Ac("Write",t)},OT.prototype.onMessage=function(t){if(Qv(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vc){this.Ps.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Qv(void 0!==r),n.map((function(t){return function(t,e){var n=t.updateTime?Yg(t.updateTime):Yg(e);return n.isEqual(fy.min())&&(n=Yg(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new Lm(n,e)}(t,r)}))):[]),n=Yg(t.commitTime);return this.listener.bc(n,e)}var r;return Qv(!t.writeResults||0===t.writeResults.length),this.Vc=!0,this.listener.Sc()},OT.prototype.Dc=function(){var t={};t.database=nm(this.serializer),this.lc(t)},OT.prototype.vc=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return om(e.serializer,t)}))},this.lc(t)},OT),TT=(bo(CT,mT=function(){}),CT.prototype.Nc=function(){if(this.Cc)throw new ly(cy.FAILED_PRECONDITION,"The client has already been terminated.")},CT.prototype.xc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.xc(t,e,n,i)})).catch((function(t){throw t.code===cy.UNAUTHENTICATED&&r.credentials.ni(),t}))},CT.prototype.Fc=function(t,e,n){var r=this;return this.Nc(),this.credentials.getToken().then((function(i){return r.ec.Fc(t,e,n,i)})).catch((function(t){throw t.code===cy.UNAUTHENTICATED&&r.credentials.ni(),t}))},CT.prototype.terminate=function(){this.Cc=!1},CT),IT=(ST.prototype.Lc=function(){var t=this;0===this.Mc&&(this.Bc("Unknown"),this.kc=this.rs.Pn("online_state_timeout",1e4,(function(){return t.kc=null,t.qc("Backend didn't respond within 10 seconds."),t.Bc("Offline"),Promise.resolve()})))},ST.prototype.Uc=function(t){"Online"===this.state?this.Bc("Unknown"):(this.Mc++,1<=this.Mc&&(this.Qc(),this.qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Bc("Offline")))},ST.prototype.set=function(t){this.Qc(),this.Mc=0,"Online"===t&&(this.$c=!1),this.Bc(t)},ST.prototype.Bc=function(t){t!==this.state&&(this.state=t,this.Oc(t))},ST.prototype.qc=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.$c?(Kv(t),this.$c=!1):Hv("OnlineStateTracker",t)},ST.prototype.Qc=function(){null!==this.kc&&(this.kc.cancel(),this.kc=null)},ST);function ST(t,e){this.rs=t,this.Oc=e,this.state="Unknown",this.Mc=0,this.kc=null,this.$c=!0}function CT(t,e,n){var r=this;return(r=mT.call(this)||this).credentials=t,r.ec=e,r.serializer=n,r.Cc=!1,r}function OT(t,e,n,r,i){var o=this;return(o=bT.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Vc=!1,o}function kT(t,e,n,r,i){var o=this;return(o=wT.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function NT(t,e,n,r,i,o){this.ln=t,this.tc=n,this.ec=r,this.nc=i,this.listener=o,this.state=0,this.sc=0,this.ic=null,this.stream=null,this.Ps=new yw(t,e)}function AT(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:if(!FT(t))return[3,4];e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function xT(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:e=0,n=t.Jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function PT(t,e){t.zc.has(e.targetId)||(t.zc.set(e.targetId,e),jT(t)?LT(t):GT(t).oc()&&DT(t,e))}function RT(t,e){var n=t;t=GT(n),n.zc.delete(e),t.oc()&&MT(n,e),0===n.zc.size&&(t.oc()?t.uc():FT(n)&&n.Zc.set("Unknown"))}function DT(t,e){t.tu.Ie(e.targetId),GT(t).Pc(e)}function MT(t,e){t.tu.Ie(e),GT(t).gc(e)}function LT(t){t.tu=new pg({Be:function(e){return t.jc.Be(e)},qe:function(e){return t.zc.get(e)||null}}),GT(t).start(),t.Zc.Lc()}function jT(t){return FT(t)&&!GT(t).rc()&&0<t.zc.size}function FT(t){return 0===t.Hc.size}function UT(t){t.tu=void 0}function VT(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:if(t.Zc.set("Online"),!(e instanceof hg&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.zc.has(o)?[4,t.jc.eu(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.zc.delete(o),t.tu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Hv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,BT(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof cg?t.tu.pe(e):e instanceof lg?t.tu.Fe(e):t.tu.Se(e),n.isEqual(fy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,uT(t.Kc)];case 8:return i=o.sent(),0<=n.A(i)?[4,(s=n,(u=(a=t).tu.ke(s)).Gt.forEach((function(t,e){var n;0<t.resumeToken.X()&&(n=a.zc.get(e))&&a.zc.set(e,n.st(t.resumeToken,s))})),u.zt.forEach((function(t){var e=a.zc.get(t);e&&(a.zc.set(t,e.st(Ry.Z,e.et)),MT(a,t),e=new jy(e.target,t,1,e.sequenceNumber),DT(a,e))})),a.jc.nu(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Hv("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,BT(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function BT(t,e,n){return _o(this,void 0,void 0,(function(){var r=this;return Eo(this,(function(i){switch(i.label){case 0:if(!Cw(e))throw e;return t.Hc.add(1),[4,xT(t)];case 1:return i.sent(),t.Zc.set("Offline"),n=n||function(){return uT(t.Kc)},t.rs.Ss((function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return Hv("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Hc.delete(1),[4,AT(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function qT(t,e){return e().catch((function(n){return BT(t,n,e)}))}function WT(t){return _o(this,void 0,void 0,(function(){var e,n,r,i;return Eo(this,(function(o){switch(o.label){case 0:n=$T(e=t),r=0<e.Gc.length?e.Gc[e.Gc.length-1].batchId:-1,o.label=1;case 1:if(!(FT(e)&&e.Gc.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.Kc,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===s&&(s=-1),u.xi.Gr(t,s)})))];case 3:return null===(i=o.sent())?(0===e.Gc.length&&n.uc(),[3,7]):(r=i.batchId,function(t,e){t.Gc.push(e),(t=$T(t)).oc()&&t.yc&&t.vc(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,BT(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return zT(e)&&HT(e),[2]}var a,s,u}))}))}function zT(t){return FT(t)&&!$T(t).rc()&&0<t.Gc.length}function HT(t){$T(t).start()}function KT(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Hc.delete(2),[4,AT(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Hc.add(2),[4,xT(n)]);case 3:r.sent(),n.Zc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function GT(t){var e,n,r,i=this;return t.ru||(t.ru=(e=t.Wc,n=t.rs,r={mc:function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t.zc.forEach((function(e,n){DT(t,e)})),[2]}))}))}.bind(null,t),dc:function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){return UT(t),jT(t)?(t.Zc.Uc(e),LT(t)):t.Zc.set("Unknown"),[2]}))}))}.bind(null,t),Rc:VT.bind(null,t)},e.Nc(),new _T(n,e.ec,e.credentials,e.serializer,r)),t.Jc.push((function(e){return _o(i,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e?(t.ru.cc(),jT(t)?LT(t):t.Zc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ru.stop()];case 2:n.sent(),UT(t),n.label=3;case 3:return[2]}}))}))}))),t.ru}function $T(t){var e,n,r,i=this;return t.ou||(t.ou=(e=t.Wc,n=t.rs,r={mc:function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return $T(t).Dc(),[2]}))}))}.bind(null,t),dc:function(t,e){return _o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e&&$T(t).yc?[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return Uy(r=e.code)&&r!==cy.ABORTED?(n=t.Gc.shift(),$T(t).cc(),[4,qT(t,(function(){return t.jc.iu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,WT(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zT(t)&&HT(t),[2]}}))}))}.bind(null,t),Sc:function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i;return Eo(this,(function(o){for(e=$T(t),n=0,r=t.Gc;n<r.length;n++)i=r[n],e.vc(i.mutations);return[2]}))}))}.bind(null,t),bc:function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=t.Gc.shift(),i=n_.from(r,e,n),[4,qT(t,(function(){return t.jc.su(i)}))];case 1:return o.sent(),[4,WT(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},e.Nc(),new ET(n,e.ec,e.credentials,e.serializer,r)),t.Jc.push((function(e){return _o(i,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return e?(t.ou.cc(),[4,WT(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.ou.stop()];case 3:n.sent(),0<t.Gc.length&&(Hv("RemoteStore","Stopping write stream with "+t.Gc.length+" pending writes"),t.Gc=[]),n.label=4;case 4:return[2]}}))}))}))),t.ou}var YT=(JT.prototype.T=function(){return this.au.T()},JT.prototype.Qo=function(t,e){e=new QT(t,e),this.au=this.au.add(e),this.uu=this.uu.add(e)},JT.prototype.lu=function(t,e){var n=this;t.forEach((function(t){return n.Qo(t,e)}))},JT.prototype.Wo=function(t,e){this._u(new QT(t,e))},JT.prototype.fu=function(t,e){var n=this;t.forEach((function(t){return n.Wo(t,e)}))},JT.prototype.du=function(t){var e=this,n=new yy(new py([])),r=new QT(n,t),i=(t=new QT(n,t+1),[]);return this.uu.Nt([r,t],(function(t){e._u(t),i.push(t.key)})),i},JT.prototype.wu=function(){var t=this;this.au.forEach((function(e){return t._u(e)}))},JT.prototype._u=function(t){this.au=this.au.delete(t),this.uu=this.uu.delete(t)},JT.prototype.Tu=function(t){var e=new yy(new py([])),n=new QT(e,t),r=(t=new QT(e,t+1),ng());return this.uu.Nt([n,t],(function(t){r=r.add(t.key)})),r},JT.prototype.so=function(t){var e=new QT(t,0);return null!==(e=this.au.Ft(e))&&t.isEqual(e.key)},JT),QT=(XT.cu=function(t,e){return yy.V(t.key,e.key)||Zv(t.Eu,e.Eu)},XT.hu=function(t,e){return Zv(t.Eu,e.Eu)||yy.V(t.key,e.key)},XT);function XT(t,e){this.key=t,this.Eu=e}function JT(){this.au=new $y(QT.cu),this.uu=new $y(QT.hu)}function ZT(t,e){return"firestore_clients_"+t+"_"+e}function tI(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.Js()&&(n+="_"+e.uid),n}function eI(t,e){return"firestore_targets_"+t+"_"+e}var nI=(TI.Iu=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ly(r.error.code,r.error.message)),i?new TI(t,e,r.state,o):(Kv("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},TI.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},TI),rI=(EI.Iu=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new ly(n.error.code,n.error.message)),r?new EI(t,n.state,i):(Kv("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},EI.prototype.mu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},EI),iI=(_I.Iu=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=rg,o=0;r&&o<n.activeTargetIds.length;++o)r=Oy(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new _I(t,i):(Kv("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},_I),oI=(wI.Iu=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wI(e.clientId,e.onlineState):(Kv("SharedClientState","Failed to parse online state: "+t),null)},wI),aI=(bI.prototype.Au=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},bI.prototype.Ru=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},bI.prototype.mu=function(){var t={activeTargetIds:this.activeTargetIds.O(),updateTimeMs:Date.now()};return JSON.stringify(t)},bI),sI=(mI.kn=function(t){return!(!t||!t.localStorage)},mI.prototype.start=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Eo(this,(function(h){switch(h.label){case 0:return[4,this.gu.Ca()];case 1:for(o=h.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this.Pu&&(r=this.getItem(ZT(this.persistenceKey,n)))&&(i=iI.Iu(n,r))&&(this.pu=this.pu.rt(i.clientId,i));for(this.Ou(),(o=this.storage.getItem(this.xu))&&(a=this.Mu(o))&&this.ku(a),s=0,u=this.vu;s<u.length;s++)c=u[s],this.yu(c);return this.vu=[],this.window.addEventListener("unload",(function(){return l.pa()})),this.yr=!0,[2]}}))}))},mI.prototype.er=function(t){this.setItem(this.Su,JSON.stringify(t))},mI.prototype.$u=function(){return this.Lu(this.pu)},mI.prototype.Bu=function(t){var e=!1;return this.pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},mI.prototype.qu=function(t){this.Uu(t,"pending")},mI.prototype.Qu=function(t,e,n){this.Uu(t,e,n),this.Ku(t)},mI.prototype.Wu=function(t){var e,n="not-current";return this.Bu(t)&&(!(e=this.storage.getItem(eI(this.persistenceKey,t)))||(e=rI.Iu(t,e))&&(n=e.state)),this.ju.Au(t),this.Ou(),n},mI.prototype.Gu=function(t){this.ju.Ru(t),this.Ou()},mI.prototype.zu=function(t){return this.ju.activeTargetIds.has(t)},mI.prototype.Hu=function(t){this.removeItem(eI(this.persistenceKey,t))},mI.prototype.Ju=function(t,e,n){this.Yu(t,e,n)},mI.prototype.Xu=function(t,e,n){var r=this;e.forEach((function(t){r.Ku(t)})),this.currentUser=t,n.forEach((function(t){r.qu(t)}))},mI.prototype.Zu=function(t){this.th(t)},mI.prototype.eh=function(){this.nh()},mI.prototype.pa=function(){this.yr&&(this.window.removeEventListener("storage",this.Vu),this.removeItem(this.bu),this.yr=!1)},mI.prototype.getItem=function(t){var e=this.storage.getItem(t);return Hv("SharedClientState","READ",t,e),e},mI.prototype.setItem=function(t,e){Hv("SharedClientState","SET",t,e),this.storage.setItem(t,e)},mI.prototype.removeItem=function(t){Hv("SharedClientState","REMOVE",t),this.storage.removeItem(t)},mI.prototype.yu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Hv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.bu)return void Kv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ln.Ss((function(){return _o(e,void 0,void 0,(function(){var t,e,r,i;return Eo(this,(function(o){if(this.yr){if(null!==n.key)if(this.Du.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(t=this.rh(n.key,n.newValue))return[2,this.ih(t.clientId,t)]}else if(this.Cu.test(n.key)){if(null!==n.newValue&&(e=this.oh(n.key,n.newValue)))return[2,this.ah(e)]}else if(this.Nu.test(n.key)){if(null!==n.newValue&&(r=this.uh(n.key,n.newValue)))return[2,this.hh(r)]}else if(n.key===this.xu){if(null!==n.newValue&&(i=this.Mu(n.newValue)))return[2,this.ku(i)]}else if(n.key===this.Su)(i=function(t){var e=v_.nr;if(null!=t)try{var n=JSON.parse(t);Qv("number"==typeof n),e=n}catch(t){Kv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==v_.nr&&this.Xi(i);else if(n.key===this.Fu)return[2,this.gu.lh()]}else this.vu.push(n);return[2]}))}))}))}},Object.defineProperty(mI.prototype,"ju",{get:function(){return this.pu.get(this.Pu)},enumerable:!1,configurable:!0}),mI.prototype.Ou=function(){this.setItem(this.bu,this.ju.mu())},mI.prototype.Uu=function(t,e,n){n=new nI(this.currentUser,t,e,n),t=tI(this.persistenceKey,this.currentUser,t),this.setItem(t,n.mu())},mI.prototype.Ku=function(t){t=tI(this.persistenceKey,this.currentUser,t),this.removeItem(t)},mI.prototype.th=function(t){t={clientId:this.Pu,onlineState:t},this.storage.setItem(this.xu,JSON.stringify(t))},mI.prototype.Yu=function(t,e,n){var r=eI(this.persistenceKey,t);n=new rI(t,e,n),this.setItem(r,n.mu())},mI.prototype.nh=function(){this.setItem(this.Fu,"value-not-used")},mI.prototype.sh=function(t){return(t=this.Du.exec(t))?t[1]:null},mI.prototype.rh=function(t,e){return t=this.sh(t),iI.Iu(t,e)},mI.prototype.oh=function(t,e){var n=this.Cu.exec(t);return t=Number(n[1]),n=void 0!==n[2]?n[2]:null,nI.Iu(new Gw(n),t,e)},mI.prototype.uh=function(t,e){return t=this.Nu.exec(t),t=Number(t[1]),rI.Iu(t,e)},mI.prototype.Mu=function(t){return oI.Iu(t)},mI.prototype.ah=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.gu._h(t.batchId,t.state,t.error)]:(Hv("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},mI.prototype.hh=function(t){return this.gu.fh(t.targetId,t.state,t.error)},mI.prototype.ih=function(t,e){var n=this,r=e?this.pu.rt(t,e):this.pu.remove(t),i=this.Lu(this.pu),o=this.Lu(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.gu.dh(a,s).then((function(){n.pu=r}))},mI.prototype.ku=function(t){this.pu.get(t.clientId)&&this.Oc(t.onlineState)},mI.prototype.Lu=function(t){var e=rg;return t.forEach((function(t,n){e=e.Ot(n.activeTargetIds)})),e},mI),uI=(gI.prototype.qu=function(t){},gI.prototype.Qu=function(t,e,n){},gI.prototype.Wu=function(t){return this.wh.Au(t),this.Th[t]||"not-current"},gI.prototype.Ju=function(t,e,n){this.Th[t]=e},gI.prototype.Gu=function(t){this.wh.Ru(t)},gI.prototype.zu=function(t){return this.wh.activeTargetIds.has(t)},gI.prototype.Hu=function(t){delete this.Th[t]},gI.prototype.$u=function(){return this.wh.activeTargetIds},gI.prototype.Bu=function(t){return this.wh.activeTargetIds.has(t)},gI.prototype.start=function(){return this.wh=new aI,Promise.resolve()},gI.prototype.Xu=function(t,e,n){},gI.prototype.Zu=function(t){},gI.prototype.pa=function(){},gI.prototype.er=function(t){},gI.prototype.eh=function(){},gI),cI=function(t){this.key=t},lI=function(t){this.key=t},hI=(Object.defineProperty(yI.prototype,"Ph",{get:function(){return this.Eh},enumerable:!1,configurable:!0}),yI.prototype.gh=function(t,e){var n=this,r=e?e.Vh:new og,i=(e||this).Rh,o=(e||this).Qt,a=i,s=!1,u=Tb(this.query)&&i.size===this.query.limit?i.last():null,c=Ib(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=(h=e instanceof db?e:null)&&(Lb(n.query,h)?h:null),f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations);e=!1,l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),e=!0):n.yh(l,h)||(r.track({type:2,doc:h}),e=!0,(u&&0<n.Ah(h,u)||c&&n.Ah(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),e=!0):l&&!h&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=h?(a=a.add(h),p?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),Tb(this.query)||Ib(this.query))for(;a.size>this.query.limit;){var l=Tb(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:a,Vh:r,ph:s,Qt:o}},yI.prototype.yh=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},yI.prototype.bi=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.Qt=t.Qt;var o=t.Vh.qt();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.Ah(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yv()}}var i,o})),this.bh(n);var a=e?this.Sh():[];return e=(n=0===this.mh.size&&this.Zt?1:0)!==this.Ih,this.Ih=n,0!==o.length||e?{snapshot:new ag(this.query,t.Rh,i,o,t.Qt,0==n,e,!1),Dh:a}:{Dh:a}},yI.prototype.Bs=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.bi({Rh:this.Rh,Vh:new og,Qt:this.Qt,ph:!1},!1)):{Dh:[]}},yI.prototype.Ch=function(t){return!this.Eh.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).Je},yI.prototype.bh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.Eh=e.Eh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.Eh=e.Eh.delete(t)})),this.Zt=t.Zt)},yI.prototype.Sh=function(){var t=this;if(!this.Zt)return[];var e=this.mh;this.mh=ng(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new lI(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new cI(t))})),n},yI.prototype.Nh=function(t){return this.Eh=t.Xa,this.mh=ng(),t=this.gh(t.documents),this.bi(t,!0)},yI.prototype.xh=function(){return ag.jt(this.query,this.Rh,this.Qt,0===this.Ih)},yI),fI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},pI=function(t){this.key=t,this.Fh=!1},dI=(Object.defineProperty(vI.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),vI);function vI(t,e,n,r,i,o){this.Kc=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new uy(Db,Rb),this.qh=new Map,this.Uh=[],this.Qh=new By(yy.V),this.Kh=new Map,this.Wh=new YT,this.jh={},this.Gh=new Map,this.zh=FE.vo(),this.onlineState="Unknown",this.Hh=void 0}function yI(t,e){this.query=t,this.Eh=e,this.Ih=null,this.Zt=!1,this.mh=ng(),this.Qt=ng(),this.Ah=jb(t),this.Rh=new ig(this.Ah)}function gI(){this.wh=new aI,this.Th={},this.Oc=null,this.Xi=null}function mI(t,e,n,r,i){this.window=t,this.ln=e,this.persistenceKey=n,this.Pu=r,this.gu=null,this.Oc=null,this.Xi=null,this.Vu=this.yu.bind(this),this.pu=new By(Zv),this.yr=!1,this.vu=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.bu=ZT(this.persistenceKey,this.Pu),this.Su="firestore_sequence_number_"+this.persistenceKey,this.pu=this.pu.rt(this.Pu,new aI),this.Du=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Cu=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.Nu=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.xu="firestore_online_state_"+this.persistenceKey,this.Fu="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.Vu)}function bI(){this.activeTargetIds=rg}function wI(t,e){this.clientId=t,this.onlineState=e}function _I(t,e){this.clientId=t,this.activeTargetIds=e}function EI(t,e,n){this.targetId=t,this.state=e,this.error=n}function TI(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function II(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o;return Eo(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,fT(t.Kc,e.query,!1).then((function(t){return t=t.documents,e.view.gh(t,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Gt.get(e.targetId),o=e.view.bi(i,t.Jh,o),[2,(DI(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,fT(t.Kc,e,!0)];case 1:return o=s.sent(),a=new hI(e,o.Xa),i=a.gh(o.documents),o=ug.Xt(n,r&&"Offline"!==t.onlineState),o=a.bi(i,t.Jh,o),DI(t,n,o.Dh),a=new fI(e,n,a),[2,(t.Bh.set(e,a),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),o.snapshot)]}}))}))}function SI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:i=WI(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.Kc,l=e,f=c,p=hy.now(),d=l.reduce((function(t,e){return t.add(e.key)}),ng()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return f.Ga.Li(t,d).next((function(e){h=e;for(var n,r=[],i=0,o=l;i<o.length;i++){var a=o[i],s=(n=a,s=h.get(a.key),n instanceof Jm?function(t){for(var e=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof db?t.field(o.field):void 0;null!=(a=ym(o.transform,a||null))&&(e=(null==e?new ab:e).set(o.field,a))}return e?e.Ye():null}(s):null);null!=s&&r.push(new Gm(a.key,s,function t(e){var n=[];return ry(e.fields||{},(function(e,r){var i=new vy([e]);if(Vg(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Rm(n)}(s.proto.mapValue),jm.exists(!0)))}return f.xi.Qr(t,p,r,l)}))})).then((function(t){var e=t.wi(h);return{batchId:t.batchId,Ii:e}})))];case 2:return r=o.sent(),i.kh.qu(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.jh[a.currentUser.Ys()])||new By(Zv)).rt(s,u),a.jh[a.currentUser.Ys()]=c,[4,LI(i,r.Ii)];case 3:return o.sent(),[4,WT(i.Oh)];case 4:return o.sent(),[3,6];case 5:return i=Vw(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,p,d}))}))}function CI(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,cT(n.Kc,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){(e=n.Kh.get(e))&&(Qv(t.te.size+t.ee.size+t.ne.size<=1),0<t.te.size?e.Fh=!0:0<t.ee.size?Qv(e.Fh):0<t.ne.size&&(Qv(e.Fh),e.Fh=!1))})),[4,LI(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,yT(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function OI(t,e,n){var r;((t=t).Jh&&0===n||!t.Jh&&1===n)&&(r=[],t.Bh.forEach((function(t,n){(n=n.view.Bs(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Bs(e)&&(n=!0)})),n&&Hw(t)}(t.Mh,e),r.length&&t.Lh.Rc(r),t.onlineState=e,t.Jh&&t.kh.Zu(e))}function kI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.Kc,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.xi.Wr(t,s).next((function(n){return Qv(null!==n),e=n.keys(),u.xi.Yr(t,n)})).next((function(){return u.xi.no(t)})).next((function(){return u.Ga.Li(t,e)}))})))];case 2:return i=o.sent(),xI(r,e,n),AI(r,e),r.kh.Qu(e,"rejected",n),[4,LI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,yT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function NI(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:FT((n=t).Oh)||Hv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.Kc).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return a.xi.zr(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return i=Vw(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a}))}))}function AI(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function xI(t,e,n){var r=t,i=r.jh[r.currentUser.Ys()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.jh[r.currentUser.Ys()]=i)}function PI(t,e,n){void 0===n&&(n=null),t.kh.Gu(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.du(e).forEach((function(e){t.Wh.so(e)||RI(t,e)}))}function RI(t,e){var n=t.Qh.get(e);null!==n&&(RT(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),MI(t))}function DI(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cI?(t.Wh.Qo(o.key,e),function(t,e){e=e.key,t.Qh.get(e)||(Hv("SyncEngine","New document in limbo: "+e),t.Uh.push(e),MI(t))}(t,o)):o instanceof lI?(Hv("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.Wo(o.key,e),t.Wh.so(o.key)||RI(t,o.key)):Yv()}}function MI(t){for(;0<t.Uh.length&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new pI(e)),t.Qh=t.Qh.rt(e,n),PT(t.Oh,new jy(Nb(Eb(e.path)),n,2,v_.nr))}}function LI(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).Bh.T()?[3,3]:(r.Bh.forEach((function(t,s){a.push(r.Yh(s,e,n).then((function(t){t&&(r.Jh&&r.kh.Ju(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=d_.Yi(s.targetId,t),o.push(t))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Lh.Rc(i),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Eo(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return gw.forEach(e,(function(e){return gw.forEach(e.Hi,(function(r){return n.persistence.Lr.Qo(t,e.targetId,r)})).next((function(){return gw.forEach(e.Ji,(function(r){return n.persistence.Lr.Wo(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Cw(r=c.sent()))throw r;return Hv("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Qa.get(a),u=s.et,u=s.it(u),n.Qa=n.Qa.rt(a,u));return[2]}}))}))}(r.Kc,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function jI(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Hv("SyncEngine","User change. New user:",e.Ys()),[4,aT(n.Kc,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Gh.forEach((function(t){t.forEach((function(t){t.reject(new ly(cy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Gh.clear(),n.kh.Xu(e,r.Ja,r.Ya),[4,LI(n,r.Ha)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function FI(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,(s=(i=t).Kc,u=e,l=(c=s).xi,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.jr(t,u).next((function(e){return e?c.Ga.Li(t,e):gw.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,WT(i.Oh)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xI(i,e,r||null),AI(i,e),i.Kc.xi.Zr(e)):Yv(),a.label=4;case 4:return[4,LI(i,o)];case 5:return a.sent(),[3,7];case 6:Hv("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function UI(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Eo(this,(function(l){switch(l.label){case 0:return qI(n=t),WI(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$u(),[4,VI(n,r.O())]);case 1:return i=l.sent(),n.Hh=!0,[4,KT(n.Oh,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],PT(n.Oh,s);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(u=[],c=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.zu(e)?u.push(e):c=c.then((function(){return PI(n,e),hT(n.Kc,e,!0)})),RT(n.Oh,e)})),[4,c]);case 4:return l.sent(),[4,VI(n,u)];case 5:return l.sent(),(h=n).Kh.forEach((function(t,e){RT(h.Oh,e)})),h.Wh.wu(),h.Kh=new Map,h.Qh=new By(yy.V),n.Hh=!1,[4,KT(n.Oh,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function VI(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p;return Eo(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,a=e,d.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.qh.get(s))&&0!==c.length?[4,lT(n.Kc,Nb(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=h[l],f=n.Bh.get(f),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,fT((n=t).Kc,e.query,!0)];case 1:return r=i.sent(),r=e.view.Nh(r),[2,(n.Jh&&DI(n,e.targetId,r.Dh),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,pT(n.Kc,s)];case 8:return p=d.sent(),[4,lT(n.Kc,p)];case 9:return u=d.sent(),[4,II(n,BI(p),s,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.Rc(i),r)]}}))}))}function BI(t){return _b(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qI(t){return t.Oh.jc.nu=CI.bind(null,t),t.Oh.jc.Be=function(t,e){var n=t;if((t=n.Kh.get(e))&&t.Fh)return ng().add(t.key);var r=ng();if(!(e=n.qh.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var a=o[i];a=n.Bh.get(a),r=r.Ot(a.view.Ph)}return r}.bind(null,t),t.Oh.jc.eu=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(r=t).kh.Ju(e,"rejected",n),a=r.Kh.get(e),(i=a&&a.key)?(o=(o=new By(yy.V)).rt(i,new vb(i,fy.min())),a=ng().add(i),a=new sg(fy.min(),new Map,new $y(Zv),o,a),[4,CI(r,a)]):[3,2];case 1:return s.sent(),r.Qh=r.Qh.remove(i),r.Kh.delete(e),MI(r),[3,4];case 2:return[4,hT(r.Kc,e,!1).then((function(){return PI(r,e,n)})).catch(yT)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,t),t.Lh.Rc=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].qs(a)&&(r=!0);s.ks=a}}r&&Hw(n)}.bind(null,t.Mh),t.Lh.Xh=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.Mh),t}function WI(t){return t.Oh.jc.su=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,sT(n.Kc,e)];case 2:return i=o.sent(),xI(n,r,null),AI(n,r),n.kh.Qu(r,"acknowledged"),[4,LI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,yT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,t),t.Oh.jc.iu=kI.bind(null,t),t}var zI,HI,KI,GI,$I,YI=(RS.prototype.za=function(t){this.Zh=t},RS.prototype.Ui=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.rn.length||1===e.rn.length&&e.rn[0].field.B())||n.isEqual(fy.min())?this.tl(t,e):this.Zh.Li(t,r).next((function(o){var a=i.el(e,o);return(Tb(e)||Ib(e))&&i.ph(e.limitType,a,r,n)?i.tl(t,e):(zv()<=Na.DEBUG&&Hv("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mb(e)),i.Zh.Ui(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},RS.prototype.el=function(t,e){var n=new $y(jb(t));return e.forEach((function(e,r){r instanceof db&&Lb(t,r)&&(n=n.add(r))})),n},RS.prototype.ph=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.A(r))},RS.prototype.tl=function(t,e){return zv()<=Na.DEBUG&&Hv("IndexFreeQueryEngine","Using full collection scan to execute query:",Mb(e)),this.Zh.Ui(t,e,fy.min())},RS),QI=(PS.prototype.Ur=function(t){return gw.resolve(0===this.xi.length)},PS.prototype.Qr=function(t,e,n,r){var i=this.nl;this.nl++,0<this.xi.length&&this.xi[this.xi.length-1],n=new e_(i,e,n,r),this.xi.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.sl=this.sl.add(new QT(s.key,i)),this.Fi.Kr(t,s.key.path.S())}return gw.resolve(n)},PS.prototype.Wr=function(t,e){return gw.resolve(this.il(e))},PS.prototype.Gr=function(t,e){return e+=1,e=(e=this.rl(e))<0?0:e,gw.resolve(this.xi.length>e?this.xi[e]:null)},PS.prototype.zr=function(){return gw.resolve(0===this.xi.length?-1:this.nl-1)},PS.prototype.Hr=function(t){return gw.resolve(this.xi.slice())},PS.prototype.Mi=function(t,e){var n=this,r=new QT(e,0),i=(e=new QT(e,Number.POSITIVE_INFINITY),[]);return this.sl.Nt([r,e],(function(t){t=n.il(t.Eu),i.push(t)})),gw.resolve(i)},PS.prototype.qi=function(t,e){var n=this,r=new $y(Zv);return e.forEach((function(t){var e=new QT(t,0);t=new QT(t,Number.POSITIVE_INFINITY),n.sl.Nt([e,t],(function(t){r=r.add(t.Eu)}))})),gw.resolve(this.ol(r))},PS.prototype.Gi=function(t,e){var n=e.path,r=n.length+1;e=n,yy.G(e)||(e=e.child("")),e=new QT(new yy(e),0);var i=new $y(Zv);return this.sl.xt((function(t){var e=t.key.path;return!!n.N(e)&&(e.length===r&&(i=i.add(t.Eu)),!0)}),e),gw.resolve(this.ol(i))},PS.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.il(t))&&n.push(t)})),n},PS.prototype.Yr=function(t,e){var n=this;Qv(0===this.al(e.batchId,"removed")),this.xi.shift();var r=this.sl;return gw.forEach(e.mutations,(function(i){var o=new QT(i.key,e.batchId);return r=r.delete(o),n.Lr.eo(t,i.key)})).next((function(){n.sl=r}))},PS.prototype.Zr=function(t){},PS.prototype.so=function(t,e){var n=new QT(e,0);return n=this.sl.Ft(n),gw.resolve(e.isEqual(n&&n.key))},PS.prototype.no=function(t){return this.xi.length,gw.resolve()},PS.prototype.al=function(t,e){return this.rl(t)},PS.prototype.rl=function(t){return 0===this.xi.length?0:t-this.xi[0].batchId},PS.prototype.il=function(t){return(t=this.rl(t))<0||t>=this.xi.length?null:this.xi[t]},PS),XI=(xS.prototype.Ri=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.cl(e);return this.docs=this.docs.rt(r,{gi:e,size:o,readTime:n}),this.size+=o-i,this.Fi.Kr(t,r.path.S())},xS.prototype.Vi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},xS.prototype.yi=function(t,e){return e=this.docs.get(e),gw.resolve(e?e.gi:null)},xS.prototype.getEntries=function(t,e){var n=this,r=Qy;return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.gi:null)})),gw.resolve(r)},xS.prototype.Ui=function(t,e,n){for(var r=Zy,i=new yy(e.path.child("")),o=this.docs._t(i);o.It();){var a=(s=o.Et()).key,s=(u=s.value).gi,u=u.readTime;if(!e.path.N(a.path))break;u.A(n)<=0||s instanceof db&&Lb(e,s)&&(r=r.rt(s.key,s))}return gw.resolve(r)},xS.prototype.ul=function(t,e){return gw.forEach(this.docs,(function(t){return e(t)}))},xS.prototype._o=function(t){return new JI(this)},xS.prototype.wo=function(t){return gw.resolve(this.size)},xS),JI=(bo(AS,$I=Dr),AS.prototype.bi=function(t){var e=this,n=[];return this.Ii.forEach((function(r,i){i&&i.gi?n.push(e.To.Ri(t,i.gi,e.Ai(r))):e.To.Vi(r)})),gw.xn(n)},AS.prototype.pi=function(t,e){return this.To.yi(t,e)},AS.prototype.vi=function(t,e){return this.To.getEntries(t,e)},AS),ZI=(NS.prototype.De=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),gw.resolve()},NS.prototype.Co=function(t){return gw.resolve(this.lastRemoteSnapshotVersion)},NS.prototype.No=function(t){return gw.resolve(this.ll)},NS.prototype.bo=function(t){return this.highestTargetId=this.fl.next(),gw.resolve(this.highestTargetId)},NS.prototype.xo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),gw.resolve()},NS.prototype.Oo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new FE(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},NS.prototype.Fo=function(t,e){return this.Oo(e),this.targetCount+=1,gw.resolve()},NS.prototype.ko=function(t,e){return this.Oo(e),gw.resolve()},NS.prototype.$o=function(t,e){return this.hl.delete(e.target),this._l.du(e.targetId),--this.targetCount,gw.resolve()},NS.prototype.Nr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.Lo(t,s.targetId)),i++)})),gw.xn(o).next((function(){return i}))},NS.prototype.Bo=function(t){return gw.resolve(this.targetCount)},NS.prototype.qo=function(t,e){return e=this.hl.get(e)||null,gw.resolve(e)},NS.prototype.Uo=function(t,e,n){return this._l.lu(e,n),gw.resolve()},NS.prototype.Ko=function(t,e,n){this._l.fu(e,n);var r=this.persistence.Lr,i=[];return r&&e.forEach((function(e){i.push(r.eo(t,e))})),gw.xn(i)},NS.prototype.Lo=function(t,e){return this._l.du(e),gw.resolve()},NS.prototype.jo=function(t,e){return e=this._l.Tu(e),gw.resolve(e)},NS.prototype.so=function(t,e){return gw.resolve(this._l.so(e))},NS),tS=(kS.prototype.mo=function(t,e){return gw.resolve(this.dl.get(e))},kS.prototype.Ao=function(t,e){return this.dl.set(e.id,{id:e.id,version:e.version,createTime:Yg(e.createTime)}),gw.resolve()},kS.prototype.Ro=function(t,e){return gw.resolve(this.wl.get(e))},kS.prototype.Po=function(t,e){return this.wl.set(e.name,{name:(e=e).name,query:W_(e.bundledQuery),readTime:Yg(e.readTime)}),gw.resolve()},kS),eS=(OS.prototype.start=function(){return Promise.resolve()},OS.prototype.pa=function(){return this.Yo=!1,Promise.resolve()},Object.defineProperty(OS.prototype,"yr",{get:function(){return this.Yo},enumerable:!1,configurable:!0}),OS.prototype.fa=function(){},OS.prototype.da=function(){},OS.prototype.Oa=function(){return this.Fi},OS.prototype.Na=function(t){var e=this.Tl[t.Ys()];return e||(e=new QI(this.Fi,this.Lr),this.Tl[t.Ys()]=e),e},OS.prototype.xa=function(){return this.ra},OS.prototype.Fa=function(){return this.Ni},OS.prototype.Ma=function(){return this.oa},OS.prototype.runTransaction=function(t,e,n){var r=this;Hv("MemoryPersistence","Starting transaction:",t);var i=new nS(this.Jo.next());return this.Lr.Il(),n(i).next((function(t){return r.Lr.ml(i).next((function(){return t}))})).Cn().then((function(t){return i.Ci(),t}))},OS.prototype.Al=function(t,e){return gw.Fn(Object.values(this.Tl).map((function(n){return function(){return n.so(t,e)}})))},OS),nS=(bo(CS,GI=j),CS),rS=(SS.gl=function(t){return new SS(t)},Object.defineProperty(SS.prototype,"Vl",{get:function(){if(this.Pl)return this.Pl;throw Yv()},enumerable:!1,configurable:!0}),SS.prototype.Qo=function(t,e,n){return this.Rl.Qo(n,e),this.Vl.delete(n.toString()),gw.resolve()},SS.prototype.Wo=function(t,e,n){return this.Rl.Wo(n,e),this.Vl.add(n.toString()),gw.resolve()},SS.prototype.eo=function(t,e){return this.Vl.add(e.toString()),gw.resolve()},SS.prototype.removeTarget=function(t,e){var n=this;this.Rl.du(e.targetId).forEach((function(t){return n.Vl.add(t.toString())}));var r=this.persistence.xa();return r.jo(t,e.targetId).next((function(t){t.forEach((function(t){return n.Vl.add(t.toString())}))})).next((function(){return r.$o(t,e)}))},SS.prototype.Il=function(){this.Pl=new Set},SS.prototype.ml=function(t){var e=this,n=this.persistence.Fa()._o();return gw.forEach(this.Vl,(function(r){var i=yy.K(r);return e.yl(t,i).next((function(t){t||n.Vi(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},SS.prototype.qa=function(t,e){var n=this;return this.yl(t,e).next((function(t){t?n.Vl.delete(e.toString()):n.Vl.add(e.toString())}))},SS.prototype.El=function(t){return 0},SS.prototype.yl=function(t,e){var n=this;return gw.Fn([function(){return gw.resolve(n.Rl.so(e))},function(){return n.persistence.xa().so(t,e)},function(){return n.persistence.Al(t,e)}])},SS),iS=(IS.prototype.mc=function(t){this.bl=t},IS.prototype.dc=function(t){this.Sl=t},IS.prototype.onMessage=function(t){this.Dl=t},IS.prototype.close=function(){this.vl()},IS.prototype.send=function(t){this.pl(t)},IS.prototype.Cl=function(){this.bl()},IS.prototype.Nl=function(t){this.Sl(t)},IS.prototype.xl=function(t){this.Dl(t)},IS),oS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aS=(TS.prototype.xc=function(t,e,n,r){var i=this.kl(t,e);return Hv("RestConnection","Sending: ",i,n),e={},this.$l(e,r),this.Ll(t,i,e,n).then((function(t){return Hv("RestConnection","Received: ",t),t}),(function(e){throw Gv("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},TS.prototype.Fc=function(t,e,n,r){return this.xc(t,e,n,r)},TS.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.2",t["Content-Type"]="text/plain",e)for(var n in e.ti)e.ti.hasOwnProperty(n)&&(t[n]=e.ti[n])},TS.prototype.kl=function(t,e){return t=oS[t],this.Ol+"/v1/"+e+":"+t},bo(ES,KI=TS),ES.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var a=new Uv;a.listenOnce(jv.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Lv.NO_ERROR:var e=a.getResponseJson();Hv("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Lv.TIMEOUT:Hv("Connection",'RPC "'+t+'" timed out'),o(new ly(cy.DEADLINE_EXCEEDED,"Request time out"));break;case Lv.HTTP_ERROR:var n=a.getStatus();Hv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(e=a.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(cy).indexOf(n)?n:cy.UNKNOWN,o(new ly(n,e.message))):o(new ly(cy.UNKNOWN,"Server responded with status "+a.getStatus())):o(new ly(cy.UNAVAILABLE,"Connection failed."));break;default:Yv()}}finally{Hv("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},ES.prototype.Ac=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new xv;t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i},this.$l(t.initMessageHeaders,e),Fo()||Vo()||0<=jo().indexOf("Electron/")||0<=(e=jo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=jo().indexOf("MSAppHost/")||Uo()||(t.httpHeadersOverwriteParam="$httpHeaders"),Hv("Connection","Creating WebChannel: "+(n=n.join("")),t);var i=r.createWebChannel(n,t),o=!1,a=!1,s=new iS({pl:function(t){a?Hv("Connection","Not sending because WebChannel is closed:",t):(o||(Hv("Connection","Opening WebChannel transport."),i.open(),o=!0),Hv("Connection","WebChannel sending:",t),i.send(t))},vl:function(){return i.close()}});return(t=function(t,e){i.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))})(Fv.EventType.OPEN,(function(){a||Hv("Connection","WebChannel transport opened.")})),t(Fv.EventType.CLOSE,(function(){a||(a=!0,Hv("Connection","WebChannel transport closed"),s.Nl())})),t(Fv.EventType.ERROR,(function(t){a||(a=!0,Gv("Connection","WebChannel transport errored:",t),s.Nl(new ly(cy.UNAVAILABLE,"The operation could not be completed")))})),t(Fv.EventType.MESSAGE,(function(t){var e,n,r,o;a||(Qv(!!(e=t.data[0])),(n=e.error||(null===(o=e[0])||void 0===o?void 0:o.error))?(Hv("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=Ly[r];if(void 0!==t)return Vy(t)}(),o=n.message,void 0===t&&(t=cy.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),a=!0,s.Nl(new ly(t,o)),i.close()):(Hv("Connection","WebChannel received:",e),s.xl(e)))})),setTimeout((function(){s.Cl()}),0),s},ES),sS=(_S.prototype.Xc=function(t){this.Kl.push(t)},_S.prototype.pa=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},_S.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},_S.prototype.ql=function(){Hv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},_S.prototype.Ql=function(){Hv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},_S.kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},_S),uS=(wS.prototype.Xc=function(t){},wS.prototype.pa=function(){},wS),cS=(bS.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return this.serializer=l_(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Kc=this.Jl(t),[2]}}))}))},bS.prototype.Hl=function(t){return null},bS.prototype.Jl=function(t){return oT(this.persistence,new YI,t.Yl,this.serializer)},bS.prototype.Gl=function(t){return new eS(rS.gl,this.serializer)},bS.prototype.jl=function(t){return new uI},bS.prototype.terminate=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.pa()];case 1:return t.sent(),[4,this.persistence.pa()];case 2:return t.sent(),[2]}}))}))},bS),lS=(bo(mS,HI=cS),mS.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,HI.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,vT(this.Kc)];case 2:return e.sent(),[4,this.Xl.initialize(this,t)];case 3:return e.sent(),[4,WI(this.Xl.gu)];case 4:return e.sent(),[4,WT(this.Xl.Oh)];case 5:return e.sent(),[2]}}))}))},mS.prototype.Jl=function(t){return oT(this.persistence,new YI,t.Yl,this.serializer)},mS.prototype.Hl=function(t){var e=this.persistence.Lr.Rr;return new C_(e,t.rs)},mS.prototype.Gl=function(t){var e=nT(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?T_.Tr(this.cacheSizeBytes):T_.mr;return new $E(this.synchronizeTabs,e,t.clientId,n,t.rs,Dw(),Mw(),this.serializer,this.kh,!!this.forceOwnership)},mS.prototype.jl=function(t){return new uI},mS),hS=(bo(gS,zI=lS),gS.prototype.initialize=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,zI.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Xl.gu,this.kh instanceof sI?(this.kh.gu={_h:FI.bind(null,e),fh:function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(i=t).Hh?(Hv("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,dT(i.Kc)];case 3:return o=s.sent(),a=sg.Yt(e,"current"===n),[4,LI(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,hT(i.Kc,e,!0)];case 6:return s.sent(),PI(i,e,r),[3,8];case 7:Yv(),s.label=8;case 8:return[2]}}))}))}.bind(null,e),dh:function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:if(!(r=qI(t)).Hh)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.qh.has(o)?(Hv("SyncEngine","Adding an already active target "+o),[3,5]):[4,pT(r.Kc,o)]):[3,6];case 2:return a=h.sent(),[4,lT(r.Kc,a)];case 3:return s=h.sent(),[4,II(r,BI(a),s.targetId,!1)];case 4:h.sent(),PT(r.Oh,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Eo(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,hT(r.Kc,t,!1).then((function(){RT(r.Oh,t),PI(r,t)})).catch(yT)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,e),Ca:function(t){return t.Kc.persistence.Ca()}.bind(null,e),lh:function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){return[2,dT((e=t).Kc).then((function(t){return LI(e,t)}))]}))}))}.bind(null,e)},[4,this.kh.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence._a((function(t){return _o(n,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,UI(this.Xl.gu,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.yr?this.zl.start(this.Kc):t||this.zl.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},gS.prototype.jl=function(t){var e=Dw();if(!sI.kn(e))throw new ly(cy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nT(t.Fl.t,t.Fl.persistenceKey);return new sI(e,t.rs,n,t.clientId,t.Yl)},gS),fS=(yS.prototype.initialize=function(t,e){return _o(this,void 0,void 0,(function(){var n=this;return Eo(this,(function(r){switch(r.label){case 0:return this.Kc?[3,2]:(this.Kc=t.Kc,this.kh=t.kh,this.Wc=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.gu=this.n_(e,!t.synchronizeTabs),this.kh.Oc=function(t){return OI(n.gu,t,1)},this.Oh.jc.s_=jI.bind(null,this.gu),[4,KT(this.Oh,this.gu.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},yS.prototype.e_=function(t){return new Bw},yS.prototype.Zl=function(t){var e=l_(t.Fl.t),n=(n=t.Fl,new aS(n));return t=t.credentials,new TT(t,n,e)},yS.prototype.t_=function(t){var e=this;return new gT(this.Kc,this.Wc,t.rs,(function(t){return OI(e.gu,t,0)}),t=new(sS.kn()?sS:uS))},yS.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){return o=new dI(t,e,n,r,i,o),a&&(o.Hh=!0),o}(this.Kc,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},yS.prototype.terminate=function(){return function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return e=t,Hv("RemoteStore","RemoteStore shutting down."),e.Hc.add(5),[4,xT(e)];case 1:return n.sent(),e.Yc.pa(),e.Zc.set("Unknown"),[2]}}))}))}(this.Oh)},yS),pS=(vS.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},vS.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},vS.prototype.r_=function(){this.muted=!0},vS.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},vS),dS=function(t){this.o_=t};function vS(t){this.observer=t,this.muted=!1}function yS(){}function gS(t,e){var n=this;return(n=zI.call(this,t,e,!1)||this).Xl=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function mS(t,e,n){var r=this;return(r=HI.call(this)||this).Xl=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function bS(){this.synchronizeTabs=!1}function wS(){}function _S(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}function ES(t){var e=this;return(e=KI.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.i=t.i,e}function TS(t){this.Fl=t,this.t=t.t;var e=t.ssl?"https":"http";this.Ol=e+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}function IS(t){this.pl=t.pl,this.vl=t.vl}function SS(t){this.persistence=t,this.Rl=new YT,this.Pl=null}function CS(t){var e=this;return(e=GI.call(this)||this).Go=t,e}function OS(t,e){var n=this;this.Tl={},this.Jo=new v_(0),this.Yo=!1,this.Yo=!0,this.Lr=t(this),this.ra=new ZI(this),this.Fi=new aE,this.Ni=(t=this.Fi,new XI(t,(function(t){return n.Lr.El(t)}))),this.serializer=new R_(e),this.oa=new tS(this.serializer)}function kS(t){this.serializer=t,this.dl=new Map,this.wl=new Map}function NS(t){this.persistence=t,this.hl=new uy(Ay,xy),this.lastRemoteSnapshotVersion=fy.min(),this.highestTargetId=0,this.ll=0,this._l=new YT,this.targetCount=0,this.fl=FE.po()}function AS(t){var e=this;return(e=$I.call(this)||this).To=t,e}function xS(t,e){this.Fi=t,this.cl=e,this.docs=new By(yy.V),this.size=0}function PS(t,e){this.Fi=t,this.Lr=e,this.xi=[],this.nl=1,this.sl=new $y(QT.cu)}function RS(){}function DS(t,e,n){if(!n)throw new ly(cy.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function MS(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ly(cy.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function LS(t,e,n,r){if(!0===e&&!0===r)throw new ly(cy.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function jS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Yv();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function FS(t,e){if(t instanceof dS&&(t=t.o_),t instanceof e)return t;if(e.name===t.constructor.name)throw new ly(cy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=jS(t),new ly(cy.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function US(t,e){if(e<=0)throw new ly(cy.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var VS,BS=function(t){this.a_=t},qS=(bo(WS,VS=BS),WS.prototype.c_=function(t){if(2!==t.u_)throw 1===t.u_?t.h_(this.a_+"() can only appear at the top level of your update data"):t.h_(this.a_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},WS.prototype.isEqual=function(t){return t instanceof WS},WS);function WS(){return null!==VS&&VS.apply(this,arguments)||this}function zS(t,e,n){return new VC({u_:3,l_:e.settings.l_,methodName:t.a_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var HS,KS,GS,$S,YS=(bo(cC,$S=BS),cC.prototype.c_=function(t){return new Dm(t.path,new bm)},cC.prototype.isEqual=function(t){return t instanceof cC},cC),QS=(bo(uC,GS=BS),uC.prototype.c_=function(t){var e=zS(this,t,!0),n=this.f_.map((function(t){return $C(t,e)}));return n=new wm(n),new Dm(t.path,n)},uC.prototype.isEqual=function(t){return this===t},uC),XS=(bo(sC,KS=BS),sC.prototype.c_=function(t){var e=zS(this,t,!0),n=this.f_.map((function(t){return $C(t,e)}));return n=new Sm(n),new Dm(t.path,n)},sC.prototype.isEqual=function(t){return this===t},sC),JS=(bo(aC,HS=BS),aC.prototype.c_=function(t){var e=new Nm(t.serializer,Kg(t.serializer,this.d_));return new Dm(t.path,e)},aC.prototype.isEqual=function(t){return this===t},aC),ZS=(Object.defineProperty(oC.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(oC.prototype,"longitude",{get:function(){return this.T_},enumerable:!1,configurable:!0}),oC.prototype.isEqual=function(t){return this.w_===t.w_&&this.T_===t.T_},oC.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.T_}},oC.prototype.I=function(t){return Zv(this.w_,t.w_)||Zv(this.T_,t.T_)},oC),tC=(iC.fromBase64String=function(t){try{return new iC(Ry.fromBase64String(t))}catch(t){throw new ly(cy.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},iC.fromUint8Array=function(t){return new iC(Ry.fromUint8Array(t))},iC.prototype.toBase64=function(){return this.E_.toBase64()},iC.prototype.toUint8Array=function(){return this.E_.toUint8Array()},iC.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},iC.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},iC),eC=new Map,nC=(rC.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},rC);function rC(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ly(cy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ly(cy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,LS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function iC(t){this.E_=t}function oC(t,e){if(!isFinite(t)||t<-90||90<t)throw new ly(cy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new ly(cy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.T_=e}function aC(t,e){var n=this;return(n=HS.call(this,t)||this).d_=e,n}function sC(t,e){var n=this;return(n=KS.call(this,t)||this).f_=e,n}function uC(t,e){var n=this;return(n=GS.call(this,t)||this).f_=e,n}function cC(){return null!==$S&&$S.apply(this,arguments)||this}function lC(){if("undefined"==typeof Uint8Array)throw new ly(cy.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hC(){if("undefined"==typeof atob)throw new ly(cy.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fC,pC,dC,vC=(bo(EC,dC=tC),EC.fromBase64String=function(t){hC();try{return new EC(Ry.fromBase64String(t))}catch(t){throw new ly(cy.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},EC.fromUint8Array=function(t){return lC(),new EC(Ry.fromUint8Array(t))},EC.prototype.toBase64=function(){return hC(),dC.prototype.toBase64.call(this)},EC.prototype.toUint8Array=function(){return lC(),dC.prototype.toUint8Array.call(this)},EC.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},EC),yC=(_C.prototype.I_=function(t,e){switch(void 0===e&&(e="none"),Cg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rg(t.integerValue||t.doubleValue);case 3:return this.m_(t.timestampValue);case 4:return this.A_(t,e);case 5:return t.stringValue;case 6:return this.R_(Dg(t.bytesValue));case 7:return this.P_(t.referenceValue);case 8:return this.g_(t.geoPointValue);case 9:return this.V_(t.arrayValue,e);case 10:return this.y_(t.mapValue,e);default:throw Yv()}},_C.prototype.y_=function(t,e){var n=this,r={};return ry(t.fields||{},(function(t,i){r[t]=n.I_(i,e)})),r},_C.prototype.g_=function(t){return new ZS(Rg(t.latitude),Rg(t.longitude))},_C.prototype.V_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.I_(t,e)}))},_C.prototype.A_=function(t,e){switch(e){case"previous":var n=function t(e){return Tg(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.I_(n,e);case"estimate":return this.m_(Ig(t));default:return null}},_C.prototype.m_=function(t){return t=Pg(t),new hy(t.seconds,t.nanos)},_C.prototype.p_=function(t,e){var n=py.k(t);return Qv(vm(n)),t=new Bv(n.get(1),n.get(3)),n=new yy(n.v(5)),t.isEqual(e)||Kv("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},bo(wC,pC=Dr=_C),wC.prototype.R_=function(t){return new vC(t)},wC.prototype.P_=function(t){return t=this.p_(t,this.firestore.v_),JO.b_(t,this.firestore,null)},wC),gC=(Object.defineProperty(bC.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(bC.prototype,"ref",{get:function(){return new CC(this.S_,this.x_,this.C_)},enumerable:!1,configurable:!0}),bC.prototype.exists=function(){return null!==this.N_},bC.prototype.data=function(){if(this.N_){if(this.x_){var t=new gC(this.S_,this.D_,this.C_,this.N_,null);return this.x_.fromFirestore(t)}return this.D_.I_(this.N_.sn())}},bC.prototype.get=function(t){if(this.N_&&null!==(t=this.N_.data().field(TC("DocumentSnapshot.get",t))))return this.D_.I_(t)},bo(mC,fC=j=bC),mC.prototype.data=function(){return fC.prototype.data.call(this)},mC);function mC(){return null!==fC&&fC.apply(this,arguments)||this}function bC(t,e,n,r,i){this.S_=t,this.D_=e,this.C_=n,this.N_=r,this.x_=i}function wC(t){var e=this;return(e=pC.call(this)||this).firestore=t,e}function _C(){}function EC(){return null!==dC&&dC.apply(this,arguments)||this}function TC(t,e){return"string"==typeof e?tO(t,e):(e instanceof dS?e.o_:e).F_}var IC,SC=(PC.prototype.isEqual=function(t){return this.F_.isEqual(t.F_)},PC),CC=(Object.defineProperty(xC.prototype,"O_",{get:function(){return this.C_.path},enumerable:!1,configurable:!0}),Object.defineProperty(xC.prototype,"id",{get:function(){return this.C_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(xC.prototype,"path",{get:function(){return this.C_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(xC.prototype,"parent",{get:function(){return new kC(this.firestore,this.x_,this.C_.path.S())},enumerable:!1,configurable:!0}),xC.prototype.withConverter=function(t){return new xC(this.firestore,t,this.C_)},xC),OC=(AC.prototype.withConverter=function(t){return new AC(this.firestore,t,this.M_)},AC),kC=(bo(NC,IC=OC),Object.defineProperty(NC.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(NC.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Object.defineProperty(NC.prototype,"parent",{get:function(){var t=this.O_.S();return t.T()?null:new CC(this.firestore,null,new yy(t))},enumerable:!1,configurable:!0}),NC.prototype.withConverter=function(t){return new NC(this.firestore,t,this.O_)},NC);function NC(t,e,n){var r=this;return(r=IC.call(this,t,e,Eb(n))||this).firestore=t,r.O_=n,r.type="collection",r}function AC(t,e,n){this.x_=e,this.M_=n,this.type="query",this.firestore=t}function xC(t,e,n){this.x_=e,this.C_=n,this.type="document",this.firestore=t}function PC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ly(cy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.F_=new vy(t)}function RC(t){var e=t.k_(),n=l_(t.v_);return new BC(t.v_,!!e.ignoreUndefinedProperties,n)}var DC=/^__.*__$/,MC=(FC.prototype.L_=function(t,e){var n=[];return null!==this.Qe?n.push(new Gm(t,this.data,this.Qe,e)):n.push(new Km(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new Jm(t,this.fieldTransforms)),n},FC),LC=(jC.prototype.L_=function(t,e){return e=[new Gm(t,this.data,this.Qe,e)],0<this.fieldTransforms.length&&e.push(new Jm(t,this.fieldTransforms)),e},jC);function jC(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function FC(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function UC(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Yv()}}var VC=(Object.defineProperty(WC.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(WC.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),WC.prototype.q_=function(t){return new WC(Object.assign(Object.assign({},this.settings),t),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},WC.prototype.U_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.q_({path:e,__:!1})).Q_(t),e},WC.prototype.K_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.q_({path:t,__:!1})).B_(),t},WC.prototype.W_=function(t){return this.q_({path:void 0,__:!0})},WC.prototype.h_=function(t){return eO(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.l_)},WC.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.N(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.N(e.field)}))},WC.prototype.B_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Q_(this.path.get(t))},WC.prototype.Q_=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(UC(this.u_)&&DC.test(t))throw this.h_('Document fields cannot begin and end with "__"')},WC),BC=(qC.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new VC({u_:t,methodName:e,l_:n,path:vy.$(),__:!1,j_:r},this.t,this.serializer,this.ignoreUndefinedProperties)},qC);function qC(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||l_(t)}function WC(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.B_(),this.fieldTransforms=i||[],this.Qe=o||[]}function zC(t,e,n,r,i,o){void 0===o&&(o={});var a,s,u=t.G_(o.merge||o.mergeFields?2:0,e,n,i);if(XC("Data must be an object, but it was:",u,r),r=YC(r,u),o.merge)a=new Rm(u.Qe),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=JC(e,h[l],n);if(!u.contains(f))throw new ly(cy.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");nO(c,f)||c.push(f)}a=new Rm(c),s=u.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,s=u.fieldTransforms;return new MC(new ob(r),a,s)}function HC(t,e,n,r){var i=t.G_(1,e,n);XC("Data must be an object, but it was:",i,r);var o=[],a=new ab;return ry(r,(function(t,r){var s=tO(e,t,n);r instanceof dS&&(r=r.o_),t=i.K_(s),r instanceof qS?o.push(s):null!=(t=$C(r,t))&&(o.push(s),a.set(s,t))})),r=new Rm(o),new LC(a.Ye(),r,i.fieldTransforms)}function KC(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[JC(e,r,n)],u=[i];if(o.length%2!=0)throw new ly(cy.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(JC(e,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=new ab,v=s.length-1;0<=v;--v)nO(p,s[v])||(l=s[v],(h=u[v])instanceof dS&&(h=h.o_),f=a.K_(l),h instanceof qS?p.push(l):null!=(f=$C(h,f))&&(p.push(l),d.set(l,f)));return i=new Rm(p),new LC(d.Ye(),i,a.fieldTransforms)}function GC(t,e,n,r){return void 0===r&&(r=!1),$C(n,t.G_(r?4:3,e))}function $C(t,e){if(t instanceof dS&&(t=t.o_),QC(t))return XC("Unsupported field value:",e,t),YC(t,e);if(t instanceof BS)return function(t,e){if(!UC(e.u_))throw e.h_(t.a_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.a_+"() is not currently supported inside arrays");(t=t.c_(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.u_)throw e.h_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=$C(o[i],e.W_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(t instanceof dS&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kg(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hy.fromDate(t);return{timestampValue:Gg(e.serializer,n)}}if(t instanceof hy){var r=new hy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gg(e.serializer,r)}}if(t instanceof ZS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tC)return{bytesValue:$g(e.serializer,t.E_)};if(t instanceof CC){if(n=e.t,!(r=t.firestore.v_).isEqual(n))throw e.h_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qg(t.firestore.v_||e.t,t.C_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+jS(t))}(t,e)}function YC(t,e){var n={};return iy(t)?e.path&&0<e.path.length&&e.Qe.push(e.path):ry(t,(function(t,r){null!=(r=$C(r,e.U_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function QC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hy||t instanceof ZS||t instanceof tC||t instanceof CC||t instanceof BS)}function XC(t,e,n){if(!QC(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=jS(n))?e.h_(t+" a custom object"):e.h_(t+" "+n);var r}function JC(t,e,n){if(e instanceof dS&&(e=e.o_),e instanceof SC)return e.F_;if("string"==typeof e)return tO(t,e);throw eO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ZC=new RegExp("[~\\*/\\[\\]]");function tO(t,e,n){if(0<=e.search(ZC))throw eO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(SC.bind.apply(SC,Co([void 0],e.split("."))))).F_}catch(i){throw eO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function eO(t,e,n,r,i){var o=r&&!r.T(),a=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new ly(cy.INVALID_ARGUMENT,(e+=". ")+t+n)}function nO(t,e){return t.some((function(t){return t.isEqual(e)}))}var rO=(uO.prototype.X_=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:if(this.Z_(),0<this.mutations.length)throw new ly(cy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return r=nm((n=t).serializer)+"/documents",i={documents:e.map((function(t){return Jg(n.serializer,t)}))},[4,n.Fc("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e;e=n.serializer,t="found"in(t=t)?function(t,e){Qv(!!e.found),e.found.name,e.found.updateTime;var n=Zg(t,e.found.name);return t=Yg(e.found.updateTime),e=new ob({mapValue:{fields:e.found.fields}}),new db(n,t,e,{})}(e,t):"missing"in t?function(t,e){return Qv(!!e.missing),Qv(!!e.readTime),t=Zg(t,e.missing),e=Yg(e.readTime),new vb(t,e)}(e,t):Yv(),o.set(t.key.toString(),t)})),a=[],[2,(e.forEach((function(t){Qv(!!(t=o.get(t.toString()))),a.push(t)})),a)]}}))}))}(this.Wc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof vb||t instanceof db?n.tf(t):Yv()})),e)]}}))}))},uO.prototype.set=function(t,e){this.write(e.L_(t,this.je(t))),this.Y_.add(t.toString())},uO.prototype.update=function(t,e){try{this.write(e.L_(t,this.ef(t)))}catch(t){this.J_=t}this.Y_.add(t.toString())},uO.prototype.delete=function(t){this.write([new rb(t,this.je(t))]),this.Y_.add(t.toString())},uO.prototype.commit=function(){return _o(this,void 0,void 0,(function(){var t,e=this;return Eo(this,(function(n){switch(n.label){case 0:if(this.Z_(),this.J_)throw this.J_;return t=this.z_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=yy.K(n),e.mutations.push(new ib(n,e.je(n)))})),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=nm((n=t).serializer)+"/documents",i={writes:e.map((function(t){return om(n.serializer,t)}))},[4,n.xc("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Wc,this.mutations)];case 1:return n.sent(),this.H_=!0,[2]}}))}))},uO.prototype.tf=function(t){var e;if(t instanceof db)e=t.version;else{if(!(t instanceof vb))throw Yv();e=fy.min()}var n=this.z_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ly(cy.ABORTED,"Document version changed between two reads.")}else this.z_.set(t.key.toString(),e)},uO.prototype.je=function(t){var e=this.z_.get(t.toString());return!this.Y_.has(t.toString())&&e?jm.updateTime(e):jm.Ge()},uO.prototype.ef=function(t){var e=this.z_.get(t.toString());if(this.Y_.has(t.toString())||!e)return jm.exists(!0);if(e.isEqual(fy.min()))throw new ly(cy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jm.updateTime(e)},uO.prototype.write=function(t){this.Z_(),this.mutations=this.mutations.concat(t)},uO.prototype.Z_=function(){},uO),iO=(sO.prototype.run=function(){this.sf()},sO.prototype.sf=function(){var t=this;this.Ps.An((function(){return _o(t,void 0,void 0,(function(){var t,e,n=this;return Eo(this,(function(r){return t=new rO(this.Wc),(e=this.rf(t))&&e.then((function(e){n.rs.fs((function(){return t.commit().then((function(){n.us.resolve(e)})).catch((function(t){n.af(t)}))}))})).catch((function(t){n.af(t)})),[2]}))}))}))},sO.prototype.rf=function(t){try{var e=this.updateFunction(t);return!Sy(e)&&e.catch&&e.then?e:(this.us.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.us.reject(t),null}},sO.prototype.af=function(t){var e=this;0<this.nf&&this.cf(t)?(--this.nf,this.rs.fs((function(){return e.sf(),Promise.resolve()}))):this.us.reject(t)},sO.prototype.cf=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Uy(t))},sO),oO=(aO.prototype.getConfiguration=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return[4,this.oi.promise];case 1:return[2,(t.sent(),{rs:this.rs,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},aO.prototype.hf=function(t){var e=this;this.uf=t,this.oi.promise.then((function(){return e.uf(e.user)}))},aO.prototype.lf=function(){if(this.rs.Vs)throw new ly(cy.FAILED_PRECONDITION,"The client has already been terminated.")},aO.prototype.terminate=function(){var t=this;this.rs.bs();var e=new vw;return this.rs.ys((function(){return _o(t,void 0,void 0,(function(){var t;return Eo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this._f?[4,this._f.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.ff?[4,this.ff.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.ii(),e.resolve(),[3,6];case 5:return t=Vw(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}}))}))})),e.promise},aO);function aO(t,e,n){var r=this;this.credentials=t,this.rs=e,this.Fl=n,this.user=Gw.UNAUTHENTICATED,this.clientId=Xv.u(),this.uf=function(){},this.oi=new vw,this.credentials.si((function(t){Hv("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.uf(t)),r.oi.resolve()}))}function sO(t,e,n,r){this.rs=t,this.Wc=e,this.updateFunction=n,this.us=r,this.nf=5,this.Ps=new yw(this.rs,"transaction_retry")}function uO(t){this.Wc=t,this.z_=new Map,this.mutations=[],this.H_=!1,this.J_=null,this.Y_=new Set}function cO(t,e){return _o(this,void 0,void 0,(function(){var n,r=this;return Eo(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),Hv("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return[4,aT(e.Kc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.fa((function(){return t.terminate()})),t.ff=e,[2]}}))}))}function lO(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return t.rs.Ns(),[4,hO(t)];case 1:return n=i.sent(),Hv("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.hf((function(n){return t.rs.Ss((function(){return function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return(n=t).rs.Ns(),Hv("RemoteStore","RemoteStore received new credentials"),r=FT(n),n.Hc.add(3),[4,xT(n)];case 1:return i.sent(),r&&n.Zc.set("Unknown"),[4,n.jc.s_(e)];case 2:return i.sent(),n.Hc.delete(3),[4,AT(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t._f=e,[2]}}))}))}function hO(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return t.ff?[3,2]:(Hv("FirestoreClient","Using default OfflineComponentProvider"),[4,cO(t,new cS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.ff]}}))}))}function fO(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return t._f?[3,2]:(Hv("FirestoreClient","Using default OnlineComponentProvider"),[4,lO(t,new fS)]);case 1:e.sent(),e.label=2;case 2:return[2,t._f]}}))}))}function pO(t){return hO(t).then((function(t){return t.persistence}))}function dO(t){return hO(t).then((function(t){return t.Kc}))}function vO(t){return fO(t).then((function(t){return t.Oh}))}function yO(t){return fO(t).then((function(t){return t.gu}))}function gO(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,fO(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ls=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return n=qI(t),(a=n.Bh.get(e))?(r=a.targetId,n.kh.Wu(r),i=a.view.xh(),[3,4]):[3,1];case 1:return[4,lT(n.Kc,Nb(e))];case 2:return o=s.sent(),a=n.kh.Wu(o.targetId),r=o.targetId,[4,II(n,e,r,"current"===a)];case 3:i=s.sent(),n.Jh&&PT(n.Oh,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,e.gu),n.Us=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return r=(n=t).Bh.get(e),1<(i=n.qh.get(r.targetId)).length?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Rb(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Gu(r.targetId),n.kh.Bu(r.targetId)?[3,2]:[4,hT(n.Kc,r.targetId,!1).then((function(){n.kh.Hu(r.targetId),RT(n.Oh,r.targetId),PI(n,r.targetId)})).catch(yT)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return PI(n,r.targetId),[4,hT(n.Kc,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,e.gu),n)]}}))}))}function mO(t,e){var n=this,r=new vw;return t.rs.fs((function(){return _o(n,void 0,void 0,(function(){var n;return Eo(this,(function(i){switch(i.label){case 0:return n=SI,[4,yO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function bO(t,e,n){return _o(this,void 0,void 0,(function(){var r;return Eo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(o=e,(a=t).persistence.runTransaction("read document","readonly",(function(t){return a.Ga.Oi(t,o)})))];case 1:return(r=i.sent())instanceof db?n.resolve(r):r instanceof vb?n.resolve(null):n.reject(new ly(cy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=Vw(r=i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}var o,a}))}))}function wO(t,e,n,r,i){var o=new pS({next:function(o){e.fs((function(){return zw(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ly(cy.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ly(cy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Kw(Eb(n.path),o,{includeMetadataChanges:!0,Hs:!0});return Ww(t,a)}var _O,EO=(Object.defineProperty(IO.prototype,"app",{get:function(){if(!this.If)throw new ly(cy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.If},enumerable:!1,configurable:!0}),Object.defineProperty(IO.prototype,"mf",{get:function(){return this.Tf},enumerable:!1,configurable:!0}),Object.defineProperty(IO.prototype,"Af",{get:function(){return void 0!==this.Rf},enumerable:!1,configurable:!0}),IO.prototype.Pf=function(t){if(this.Tf)throw new ly(cy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.wf=new nC(t),void 0!==t.credentials&&(this.Ef=function(t){if(!t)return new Xw;switch(t.type){case"gapi":var e=t.client;return Qv(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new t_(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ly(cy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},IO.prototype.gf=function(){return this.wf},IO.prototype.k_=function(){return this.Tf=!0,this.wf},IO.prototype._delete=function(){return this.Rf||(this.Rf=this.Vf()),this.Rf},IO.prototype.Vf=function(){return t=this,(e=eC.get(t))&&(Hv("ComponentProvider","Removing Datastore"),eC.delete(t),e.terminate()),Promise.resolve();var t,e},bo(TO,_O=IO),TO.prototype.Vf=function(){return this.pf||$O(this),this.pf.terminate()},TO);function TO(t,e){var n=this;return(n=_O.call(this,t,e)||this).yf=new jw,n.df="name"in t?t.name:"[DEFAULT]",n}function IO(t,e){this.df="(lite)",this.wf=new nC({}),this.Tf=!1,t instanceof Bv?(this.v_=t,this.Ef=new Xw):(this.If=t,this.v_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ly(cy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bv(t.options.projectId)}(t),this.Ef=new Jw(e))}function SO(t,e,n){var r=this,i=new vw;return t.rs.enqueue((function(){return _o(r,void 0,void 0,(function(){var r;return Eo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cO(t,n)];case 1:return o.sent(),[4,lO(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(o=r=o.sent()).name?o.code===cy.FAILED_PRECONDITION||o.code===cy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function CO(t){if(t.mf||t.Af)throw new ly(cy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var OO,kO,NO=(bo(DO,kO=j),DO.prototype.exists=function(){return kO.prototype.exists.call(this)},DO.prototype.data=function(t){if(void 0===t&&(t={}),this.N_){if(this.x_){var e=new AO(this.S_,this.D_,this.C_,this.N_,this.metadata,null);return this.x_.fromFirestore(e,t)}return this.D_.I_(this.N_.sn(),t.serverTimestamps)}},DO.prototype.get=function(t,e){if(void 0===e&&(e={}),this.N_&&null!==(t=this.N_.data().field(TC("DocumentSnapshot.get",t))))return this.D_.I_(t,e.serverTimestamps)},DO),AO=(bo(RO,OO=NO),RO.prototype.data=function(t){return void 0===t&&(t={}),OO.prototype.data.call(this,t)},RO),xO=(Object.defineProperty(PO.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(PO.prototype,"size",{get:function(){return this.bf.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(PO.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),PO.prototype.forEach=function(t,e){var n=this;this.bf.docs.forEach((function(r){t.call(e,new AO(n.S_,n.D_,r.key,r,new ok(n.bf.Qt.has(r.key),n.bf.fromCache),n.query.x_))}))},PO.prototype.docChanges=function(t){if(void 0===t&&(t={}),(t=!!t.includeMetadataChanges)&&this.bf.Wt)throw new ly(cy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Sf&&this.Df===t||(this.Sf=function(t,e){if(t.bf.Ut.T()){var n=0;return t.bf.docChanges.map((function(e){var r=new AO(t.S_,t.D_,e.doc.key,e.doc,new ok(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.bf.Ut;return t.bf.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new AO(t.S_,t.D_,e.doc.key,e.doc,new ok(t.bf.Qt.has(e.doc.key),t.bf.fromCache),t.query.x_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yv()}}(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this.Df=t),this.Sf},PO);function PO(t,e,n,r){this.S_=t,this.D_=e,this.bf=r,this.metadata=new ok(r.hasPendingWrites,r.fromCache),this.query=n}function RO(){return null!==OO&&OO.apply(this,arguments)||this}function DO(t,e,n,r,i,o){var a=this;return(a=kO.call(this,t,e,n,r,o)||this).S_=t,a.vf=t,a.metadata=i,a}function MO(t,e){return t instanceof NO&&e instanceof NO?t.S_===e.S_&&t.C_.isEqual(e.C_)&&(null===t.N_?null===e.N_:t.N_.isEqual(e.N_))&&t.x_===e.x_:t instanceof xO&&e instanceof xO&&t.S_===e.S_&&(n=t.query,r=e.query,n instanceof OC&&r instanceof OC&&n.firestore===r.firestore&&Rb(n.M_,r.M_)&&n.x_===r.x_)&&t.metadata.isEqual(e.metadata)&&t.bf.isEqual(e.bf);var n,r}var LO,jO=(bo(FO,LO=Dr),FO.prototype.R_=function(t){return new tC(t)},FO.prototype.P_=function(t){return t=this.p_(t,this.firestore.v_),new CC(this.firestore,null,t)},FO);function FO(t){var e=this;return(e=LO.call(this)||this).firestore=t,e}function UO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=FS(t.firestore,EO),a=RC(o);return e instanceof dS&&(e=e.o_),VO(o,("string"==typeof e||e instanceof SC?KC(a,"updateDoc",t.C_,e,n,r):HC(a,"updateDoc",t.C_,e)).L_(t.C_,jm.exists(!0)))}function VO(t,e){return mO(GO(t),e)}function BO(t,e,n){var r=n.docs.get(e.C_),i=new jO(t);return new NO(t,i,e.C_,r,new ok(n.hasPendingWrites,n.fromCache),e.x_)}var qO,WO=(KO.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){CO(t);var n=GO(t),r=t.k_();return SO(n,t=new fS,new lS(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},KO.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){CO(t);var e=GO(t),n=t.k_();return SO(e,t=new fS,new hS(t,n.cacheSizeBytes))}(t.o_)},KO.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.mf&&!t.Af)throw new ly(cy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new vw;return t.yf.ys((function(){return _o(e,void 0,void 0,(function(){var e;return Eo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return mw.kn()?(e=t+"main",[4,mw.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(nT(t.v_,t.df))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},KO),zO=(bo(HO,qO=dS),Object.defineProperty(HO.prototype,"v_",{get:function(){return this.o_.v_},enumerable:!1,configurable:!0}),HO.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.gf()),t)).merge,this.o_.Pf(t)},HO.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.gf().host&&Gv("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},HO.prototype.enableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return _o(e,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,pO(t)];case 1:return e=r.sent(),[4,vO(t)];case 2:return n=r.sent(),[2,(e.da(!0),(r=n).Hc.delete(0),AT(r))]}}))}))}))}(GO(this.o_))},HO.prototype.disableNetwork=function(){return function(t){var e=this;return t.rs.enqueue((function(){return _o(e,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,pO(t)];case 1:return e=r.sent(),[4,vO(t)];case 2:return n=r.sent(),[2,(e.da(!1),function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return(e=t).Hc.add(0),[4,xT(e)];case 1:return n.sent(),e.Zc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(GO(this.o_))},HO.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&LS("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Cf.enableMultiTabIndexedDbPersistence(this):this.Cf.enableIndexedDbPersistence(this,n)},HO.prototype.clearPersistence=function(){return this.Cf.clearIndexedDbPersistence(this)},HO.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},HO.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new vw;return t.rs.fs((function(){return _o(e,void 0,void 0,(function(){var e;return Eo(this,(function(r){switch(r.label){case 0:return e=NI,[4,yO(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(GO(this.o_))},HO.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=GO(t),i=(e=h_(e)?e:{next:e},new pS(e));return t.yf.fs((function(){return _o(n,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=function(t,e){t.$s.add(e),e.next()},[4,gO(r)];case 1:return t.apply(void 0,[e.sent(),i]),[2]}}))}))})),function(){i.r_(),t.yf.fs((function(){return _o(n,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=function(t,e){t.$s.delete(e)},[4,gO(r)];case 1:return t.apply(void 0,[e.sent(),i]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(HO.prototype,"app",{get:function(){if(!this.Nf)throw new ly(cy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Nf},enumerable:!1,configurable:!0}),HO.prototype.collection=function(t){return DS("Firestore.collection","path",t),GO(this.o_),new _k(py.k(t),this,null)},HO.prototype.doc=function(t){return DS("Firestore.doc","path",t),GO(this.o_),JO.xf(py.k(t),this,null)},HO.prototype.collectionGroup=function(t){if(DS("Firestore.collectionGroup","collectionId",t),0<=t.indexOf("/"))throw new ly(cy.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return GO(this.o_),new mk((t=t,new gb(py.$(),t)),this,null)},HO.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new vw;return t.rs.fs((function(){return _o(n,void 0,void 0,(function(){var n;return Eo(this,(function(i){switch(i.label){case 0:return[4,fO(t).then((function(t){return t.Wc}))];case 1:return n=i.sent(),new iO(t.rs,n,e,r).run(),[2]}}))}))})),r.promise}(GO(this.o_),(function(n){return t(new QO(e,n))}))},HO.prototype.batch=function(){return GO(this.o_),new XO(this)},HO);function HO(t,e,n){var r=this;return(r=qO.call(this,e)||this).Cf=n,r.INTERNAL={delete:function(){return r.terminate()}},t instanceof Bv||(r.Nf=t),r}function KO(){}function GO(t){return t.pf||$O(t),t.pf.lf(),t.pf}function $O(t){var e,n,r=t.k_();e=t.v_,n=t.df,r=new Vv(e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling),t.pf=new oO(t.Ef,t.yf,r)}var YO,QO=(ek.prototype.get=function(t){var e=this,n=Ck(0,t,this.S_),r=new yC(this.S_);return this.Ff.X_([n.C_]).then((function(t){if(!t||1!==t.length)return Yv();if((t=t[0])instanceof vb)return new ak(e.S_,new NO(e.S_.o_,r,n.C_,null,new ok(!1,!1),n.x_));if(t instanceof db)return new ak(e.S_,new NO(e.S_.o_,r,n.C_,t,new ok(!1,!1),n.x_));throw Yv()}))},ek.prototype.set=function(t,e,n){return t=Ck(0,t,this.S_),n=MS("Transaction.set",n),e=Ok(t.x_,e,n),n=zC(this.Of,"Transaction.set",t.C_,e,null!==t.x_,n),this.Ff.set(t.C_,n),this},ek.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=Ck(0,t,this.S_),e instanceof dS&&(e=e.o_),e="string"==typeof e||e instanceof SC?KC(this.Of,"Transaction.update",t.C_,e,n,r):HC(this.Of,"Transaction.update",t.C_,e),this.Ff.update(t.C_,e),this},ek.prototype.delete=function(t){return t=Ck(0,t,this.S_),this.Ff.delete(t.C_),this},ek),XO=(tk.prototype.set=function(t,e,n){return this.$f(),t=Ck(0,t,this.S_),n=MS("WriteBatch.set",n),e=Ok(t.x_,e,n),n=zC(this.Of,"WriteBatch.set",t.C_,e,null!==t.x_,n),this.Mf=this.Mf.concat(n.L_(t.C_,jm.Ge())),this},tk.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this.$f(),t=Ck(0,t,this.S_),e instanceof dS&&(e=e.o_),e="string"==typeof e||e instanceof SC?KC(this.Of,"WriteBatch.update",t.C_,e,n,r):HC(this.Of,"WriteBatch.update",t.C_,e),this.Mf=this.Mf.concat(e.L_(t.C_,jm.exists(!0))),this},tk.prototype.delete=function(t){return this.$f(),t=Ck(0,t,this.S_),this.Mf=this.Mf.concat(new rb(t.C_,jm.Ge())),this},tk.prototype.commit=function(){return this.$f(),this.kf=!0,0<this.Mf.length?mO(GO(this.S_.o_),this.Mf):Promise.resolve()},tk.prototype.$f=function(){if(this.kf)throw new ly(cy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},tk),JO=(bo(ZO,YO=dS),ZO.xf=function(t,e,n){if(t.length%2!=0)throw new ly(cy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.M()+" has "+t.length);return new ZO(e,new CC(e.o_,n,new yy(t)))},ZO.b_=function(t,e,n){return new ZO(e,new CC(e.o_,n,t))},Object.defineProperty(ZO.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(ZO.prototype,"parent",{get:function(){return new _k(this.o_.O_.S(),this.firestore,this.o_.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(ZO.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),ZO.prototype.collection=function(t){if(DS("DocumentReference.collection","path",t),!t)throw new ly(cy.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");return t=py.k(t),new _k(this.o_.O_.child(t),this.firestore,null)},ZO.prototype.isEqual=function(t){return t instanceof dS&&(t=t.o_),t instanceof CC&&((e=this.o_)instanceof CC||e instanceof kC)&&(t instanceof CC||t instanceof kC)&&e.firestore===t.firestore&&e.path===t.path&&e.x_===t.x_;var e},ZO.prototype.set=function(t,e){e=MS("DocumentReference.set",e);try{return n=this.o_,r=t,i=e,o=FS(n.firestore,EO),r=Ok(n.x_,r,i),VO(o,zC(RC(o),"setDoc",n.C_,r,null!==n.x_,i).L_(n.C_,jm.Ge()))}catch(t){throw nk(t,"setDoc","DocumentReference.set")}var n,r,i,o},ZO.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?UO(this.o_,t):UO.apply(void 0,Co([this.o_,t,e],n))}catch(t){throw nk(t,"updateDoc","DocumentReference.update")}},ZO.prototype.delete=function(){return VO(FS((t=this.o_).firestore,EO),[new rb(t.C_,jm.Ge())]);var t},ZO.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r,i=function(){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!h_(r))return r}return{}}(),o={next:function(e){r.next&&r.next(new ak(t.firestore,new NO(t.firestore.o_,t.D_,e.C_,e.N_,e.metadata,t.o_.x_)))},error:null===(o=(r=h_((o=e)[0])?o[0]:h_(o[1])?o[1]:"function"==typeof o[0]?{next:o[0],error:o[1],complete:o[2]}:{next:o[1],error:o[2],complete:o[3]}).error)||void 0===o?void 0:o.bind(r),complete:null===(o=r.complete)||void 0===o?void 0:o.bind(r)};return function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i={includeMetadataChanges:!1},o=0;"object"!=typeof n[o]||h_(n[o])||(i=n[o],o++);var a,s,u,c,l,h={includeMetadataChanges:i.includeMetadataChanges};h_(n[o])&&(u=n[o],n[o]=null===(i=u.next)||void 0===i?void 0:i.bind(u),n[o+1]=null===(i=u.error)||void 0===i?void 0:i.bind(u),n[o+2]=null===(i=u.complete)||void 0===i?void 0:i.bind(u)),t instanceof CC?(a=FS(t.firestore,EO),s=Eb(t.C_.path),l={next:function(e){n[o]&&n[o](BO(a,t,e))},error:n[o+1],complete:n[o+2]}):(a=FS(t.firestore,EO),s=t.M_,c=new jO(a),l={next:function(e){n[o]&&n[o](new xO(a,c,t,e))},error:n[o+1],complete:n[o+2]},dk(t.M_));var f=GO(a),p=new pS(l),d=new Kw(s,p,h);return a.yf.fs((function(){return _o(e,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=Ww,[4,gO(f)];case 1:return[2,t.apply(void 0,[e.sent(),d])]}}))}))})),function(){p.r_(),a.yf.fs((function(){return _o(e,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return t=zw,[4,gO(f)];case 1:return[2,t.apply(void 0,[e.sent(),d])]}}))}))}))}}(this.o_,i,o)},ZO.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=FS(t.firestore,EO),r=GO(n),i=new jO(n),o=new vw;return n.yf.fs((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,dO(r)];case 1:return[4,bO(e.sent(),t.C_,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new NO(n,i,t.C_,e,new ok(e instanceof db&&e.Je,!0),t.x_)}))}:"server"===(null==t?void 0:t.source)?function(t){var e=this,n=FS(t.firestore,EO),r=GO(n),i=new vw;return n.yf.fs((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,gO(r)];case 1:return[4,wO(e.sent(),n.yf,t.C_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return BO(n,t,e)}))}:function(t){var e=this,n=FS(t.firestore,EO),r=GO(n),i=new vw;return n.yf.fs((function(){return _o(e,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return[4,gO(r)];case 1:return[4,wO(e.sent(),n.yf,t.C_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return BO(n,t,e)}))})(this.o_).then((function(t){return new ak(e.firestore,new NO(e.firestore.o_,e.D_,t.C_,t.N_,t.metadata,e.o_.x_))}))},ZO.prototype.withConverter=function(t){return new ZO(this.firestore,this.o_.withConverter(t))},ZO);function ZO(t,e){var n=this;return(n=YO.call(this,e)||this).firestore=t,n.D_=new yC(t),n}function tk(t){this.S_=t,this.Mf=[],this.kf=!1,this.Of=RC(this.S_.o_)}function ek(t,e){this.S_=t,this.Ff=e,this.Of=RC(this.S_.o_)}function nk(t,e,n){return t.message=t.message.replace(e+"()",n+"()"),t}var rk,ik,ok=(lk.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},lk),ak=(bo(ck,ik=dS),Object.defineProperty(ck.prototype,"ref",{get:function(){return new JO(this.S_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(ck.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(ck.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ck.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),ck.prototype.data=function(t){return this.o_.data(t)},ck.prototype.get=function(t,e){return this.o_.get(t,e)},ck.prototype.isEqual=function(t){return MO(this.o_,t.o_)},ck),sk=(bo(uk,rk=ak),uk.prototype.data=function(t){return this.o_.data(t)},uk);function uk(){return null!==rk&&rk.apply(this,arguments)||this}function ck(t,e){var n=this;return(n=ik.call(this,e)||this).S_=t,n}function lk(t,e){this.hasPendingWrites=t,this.fromCache=e}function hk(t,e,n){if(n instanceof dS&&(n=n.o_),"string"==typeof n){if(""===n)throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ob(e)&&-1!==n.indexOf("/"))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(py.k(n)),!yy.G(e))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Mg(t,new yy(e))}if(n instanceof CC)return Mg(t,n.C_);throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jS(n)+".")}function fk(t,e){if(!Array.isArray(t)||0===t.length)throw new ly(cy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new ly(cy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function pk(t,e,n){if(!n.isEqual(e))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function dk(t){if(Ib(t)&&0===t.rn.length)throw new ly(cy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vk,yk,gk,mk=(Sk.prototype.where=function(t,e,n){return t=JC("Query.where",t),e=function(t,e,n,r,i,o){if(r.B()){if("array-contains"===i||"array-contains-any"===i)throw new ly(cy.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){fk(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(hk(n,t,c))}l={arrayValue:{values:a}}}else l=hk(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||fk(o,i),l=GC(e,"Query.where",o,"in"===i||"not-in"===i);var l=Ub.create(r,i,l);return function(t,e){if(e.cn()){var n=Cb(t);if(null!==n&&!n.isEqual(e.field))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=Sb(t))&&pk(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new ly(cy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ly(cy.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,l),l}(this.M_,this.Lf,this.firestore.v_,t,e,n),new Sk((e=(n=this.M_).filters.concat([e]),new gb(n.path,n.collectionGroup,n.rn.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)),this.firestore,this.x_)},Sk.prototype.orderBy=function(t,e){if(void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new ly(cy.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var n;return t=JC("Query.orderBy",t),t=function(t,e,n){if(null!==t.startAt)throw new ly(cy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ly(cy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return n=e=new dw(e,n),null!==Sb(t)||null!==(t=Cb(t))&&pk(0,t,n.field),e}(this.M_,t,n),new Sk((t=(n=this.M_).rn.concat([t]),new gb(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)),this.firestore,this.x_)},Sk.prototype.limit=function(t){return US("Query.limit",t),new Sk(Ab(this.M_,t,"F"),this.firestore,this.x_)},Sk.prototype.limitToLast=function(t){return US("Query.limitToLast",t),new Sk(Ab(this.M_,t,"L"),this.firestore,this.x_)},Sk.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Bf("Query.startAt",t,e,!0),new Sk(xb(this.M_,t),this.firestore,this.x_)},Sk.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Bf("Query.startAfter",t,e,!1),new Sk(xb(this.M_,t),this.firestore,this.x_)},Sk.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Bf("Query.endBefore",t,e,!0),new Sk(Pb(this.M_,t),this.firestore,this.x_)},Sk.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t=this.Bf("Query.endAt",t,e,!1),new Sk(Pb(this.M_,t),this.firestore,this.x_)},Sk.prototype.isEqual=function(t){return t instanceof Sk&&this.firestore===t.firestore&&Rb(this.M_,t.M_)&&this.x_===t.x_},Sk.prototype.withConverter=function(t){return new Sk(this.M_,this.firestore,t)},Sk.prototype.Bf=function(t,e,n,r){return e instanceof ak?function(e,n,r,i){if(!r)throw new ly(cy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=kb(e);a<s.length;a++){var u=s[a];if(u.field.B())o.push(Mg(n,r.key));else{var c=r.field(u.field);if(Tg(c))throw new ly(cy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.M(),new ly(cy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new ow(o,i)}(this.M_,this.firestore.v_,e.o_.N_,r):(n=[e].concat(n),function(t,e,n,r,i,o){var a=t.rn;if(i.length>a.length)throw new ly(cy.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.B()){if("string"!=typeof c)throw new ly(cy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ob(t)&&-1!==c.indexOf("/"))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(py.k(c));if(!yy.G(l))throw new ly(cy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new yy(l),s.push(Mg(e,l))}else c=GC(n,r,c),s.push(c)}return new ow(s,o)}(this.M_,this.firestore.v_,this.Lf,t,n,r))},Sk.prototype.onSnapshot=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o={},a=0;"object"!=typeof n[a]||h_(n[a])||(o=n[a],a++),h_(n[a])&&(i=n[a],n[a]=null===(t=i.next)||void 0===t?void 0:t.bind(i),n[a+1]=null===(t=i.error)||void 0===t?void 0:t.bind(i),n[a+2]=null===(t=i.complete)||void 0===t?void 0:t.bind(i));var s={next:function(t){n[a]&&n[a](new wk(e.firestore,new xO(e.firestore.o_,e.D_,new OC(e.firestore.o_,e.x_,e.M_),t)))},error:n[a+1],complete:n[a+2]};return dk(this.M_),function(t,e,n){var r=this,i=new pS(s),o=new Kw(e,i,n);return t.rs.fs((function(){return _o(r,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return e=Ww,[4,gO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.r_(),t.rs.fs((function(){return _o(r,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return e=zw,[4,gO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(GO(this.firestore.o_),this.M_,o)},Sk.prototype.get=function(t){var e=this;dk(this.M_);var n=GO(this.firestore.o_);return(t&&"cache"===t.source?function(t,e){var n=this,r=new vw;return t.rs.fs((function(){return _o(n,void 0,void 0,(function(){var n;return Eo(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fT(t,e,!0)];case 1:return i=o.sent(),r=new hI(e,i.Xa),i=r.gh(i.documents),i=r.bi(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=Vw(i=o.sent(),"Failed to execute query '"+e+" against cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,dO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.M_):function(t,e,n){var r=this;void 0===n&&(n={});var i=new vw;return t.rs.fs((function(){return _o(r,void 0,void 0,(function(){var r;return Eo(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new pS({next:function(n){e.fs((function(){return zw(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ly(cy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Kw(n,o,{includeMetadataChanges:!0,Hs:!0});return Ww(t,a)},[4,gO(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.rs,e,n,i])]}}))}))})),i.promise}(n,this.M_,t)).then((function(t){return new wk(e.firestore,new xO(e.firestore.o_,e.D_,new OC(e.firestore.o_,e.x_,e.M_),t))}))},Sk),bk=(bo(Ik,gk=dS),Object.defineProperty(Ik.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(Ik.prototype,"doc",{get:function(){return new sk(this.S_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Ik.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Ik.prototype,"newIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Ik),wk=(bo(Tk,yk=dS),Object.defineProperty(Tk.prototype,"query",{get:function(){return new mk(this.o_.query.M_,this.S_,this.o_.query.x_)},enumerable:!1,configurable:!0}),Object.defineProperty(Tk.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Tk.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(Tk.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Tk.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new sk(t.S_,e)}))},enumerable:!1,configurable:!0}),Tk.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new bk(e.S_,t)}))},Tk.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new sk(n.S_,r))}))},Tk.prototype.isEqual=function(t){return MO(this.o_,t.o_)},Tk),_k=(bo(Ek,vk=mk),Object.defineProperty(Ek.prototype,"id",{get:function(){return this.M_.path.C()},enumerable:!1,configurable:!0}),Object.defineProperty(Ek.prototype,"parent",{get:function(){var t=this.M_.path.S();return t.T()?null:JO.xf(t,this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(Ek.prototype,"path",{get:function(){return this.M_.path.M()},enumerable:!1,configurable:!0}),Ek.prototype.doc=function(t){return 0===arguments.length&&(t=Xv.u()),DS("CollectionReference.doc","path",t),t=py.k(t),JO.xf(this.M_.path.child(t),this.firestore,this.x_)},Ek.prototype.add=function(t){t=this.x_?this.x_.toFirestore(t):t;var e=this.doc();return JO.b_(e.o_.C_,this.firestore,null).set(t).then((function(){return e}))},Ek.prototype.withConverter=function(t){return new Ek(this.O_,this.firestore,t)},Ek);function Ek(t,e,n){var r=this;if(((r=vk.call(this,Eb(t),e,n)||this).O_=t).length%2!=1)throw new ly(cy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.M()+" has "+t.length);return r}function Tk(t,e){var n=this;return(n=yk.call(this,e)||this).S_=t,n}function Ik(t,e){var n=this;return(n=gk.call(this,e)||this).S_=t,n}function Sk(t,e,n){this.M_=t,this.firestore=e,this.x_=n,this.Lf=RC(e.o_),this.D_=new yC(e)}function Ck(t,e,n){if((e=FS(e,CC)).firestore!==n.o_)throw new ly(cy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ok(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}bo(Rk,Nk=dS),Rk.documentId=function(){return new Rk(vy.q().M())},Rk.prototype.isEqual=function(t){return t instanceof dS&&(t=t.o_),t instanceof SC&&this.o_.F_.isEqual(t.F_)},j=Rk,bo(Pk,kk=dS),Pk.serverTimestamp=function(){var t=new YS("serverTimestamp");return t.a_="FieldValue.serverTimestamp",new Pk(t)},Pk.delete=function(){var t=new qS("deleteField");return t.a_="FieldValue.delete",new Pk(t)},Pk.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new QS("arrayUnion",t)}.apply(void 0,t);return n.a_="FieldValue.arrayUnion",new Pk(n)},Pk.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new XS("arrayRemove",t)}.apply(void 0,t);return n.a_="FieldValue.arrayRemove",new Pk(n)},Pk.increment=function(t){return(t=new JS("increment",t)).a_="FieldValue.increment",new Pk(t)},Pk.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)};var kk,Nk,Ak,xk={Firestore:zO,GeoPoint:ZS,Timestamp:hy,Blob:vC,Transaction:QO,WriteBatch:XO,DocumentReference:JO,DocumentSnapshot:ak,Query:mk,QueryDocumentSnapshot:sk,QuerySnapshot:wk,CollectionReference:_k,FieldPath:j,FieldValue:Dr=Pk,setLogLevel:function(t){qv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Pk(){return null!==kk&&kk.apply(this,arguments)||this}function Rk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nk.call(this,new(SC.bind.apply(SC,Co([void 0],t))))||this}(Ak=Ja).INTERNAL.registerComponent(new _a("firestore",(function(t){return e=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal"),new zO(e,new EO(e,t),new WO);var e}),"PUBLIC").setServiceProps(Object.assign({},xk))),Ak.registerVersion("@firebase/firestore","2.0.2");var Dk,Mk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lk=(bo(jk,Dk=Error),jk);function jk(t,e,n){return e=Dk.call(this,e)||this,Object.setPrototypeOf(e,jk.prototype),e.code=t,e.details=n,e}function Fk(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!Mk[s])return new Lk("internal","internal");r=Mk[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new Lk(r,i,o)}var Uk=(Vk.prototype.getAuthToken=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},Vk.prototype.getInstanceIdToken=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},Vk.prototype.getContext=function(){return _o(this,void 0,void 0,(function(){var t,e;return Eo(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},Vk);function Vk(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function Bk(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var qk=(Wk.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return Bk(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},Wk.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?Bk(t,(function(t){return e.decode(t)})):t},Wk);function Wk(){}var zk,Hk,Kk,Gk=(Object.defineProperty($k.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),$k.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},$k.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},$k.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},$k.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},$k.prototype.postJSON=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i;return Eo(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},$k.prototype.call=function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(t,e){l=setTimeout((function(){e(new Lk("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([Yk(s,this.postJSON(r,i,o)),a,Yk(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new Lk("cancelled","Firebase Functions instance was deleted.");if(s=Fk(a.status,a.json,this.serializer))throw s;if(!a.json)throw new Lk("internal","Response is not valid JSON object.");if(void 0===(s=a.json.data)&&(s=a.json.result),void 0===s)throw new Lk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},$k);function $k(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new qk,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Uk(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function Yk(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function Qk(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Xk(t,e,n){var r,i=new Promise((function(i,o){Qk(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function Jk(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Zk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return Xk(this[e],r,arguments)})}))}function tN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function eN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=Xk(t,r,arguments)).then((function(t){if(t)return new rN(t,n.request)}));var t,n})}))}function nN(t){this._index=t}function rN(t,e){this._cursor=t,this._request=e}function iN(t){this._store=t}function oN(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function aN(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new oN(n)}function sN(t){this._db=t}function uN(t,e,n){var r=(e=Xk(indexedDB,"open",[t,e])).request;return r&&(r.onupgradeneeded=function(t){n&&n(new aN(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new sN(t)}))}function cN(t){return Xk(indexedDB,"deleteDatabase",[t])}zk=Ja,Hk=fetch.bind(self),Kk={Functions:Gk},zk.INTERNAL.registerComponent(new _a("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new Gk(n,r,t,e,Hk)}),"PUBLIC").setServiceProps(Kk).setMultipleInstances(!0)),Ja.registerVersion("@firebase/functions","0.6.1"),Jk(nN,"_index",["name","keyPath","multiEntry","unique"]),Zk(nN,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),eN(nN,"_index",IDBIndex,["openCursor","openKeyCursor"]),Jk(rN,"_cursor",["direction","key","primaryKey","value"]),Zk(rN,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(rN.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),Qk(e._request).then((function(t){if(t)return new rN(t,e._request)}))}))})})),iN.prototype.createIndex=function(){return new nN(this._store.createIndex.apply(this._store,arguments))},iN.prototype.index=function(){return new nN(this._store.index.apply(this._store,arguments))},Jk(iN,"_store",["name","keyPath","indexNames","autoIncrement"]),Zk(iN,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),eN(iN,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),tN(iN,"_store",IDBObjectStore,["deleteIndex"]),oN.prototype.objectStore=function(){return new iN(this._tx.objectStore.apply(this._tx,arguments))},Jk(oN,"_tx",["objectStoreNames","mode"]),tN(oN,"_tx",IDBTransaction,["abort"]),aN.prototype.createObjectStore=function(){return new iN(this._db.createObjectStore.apply(this._db,arguments))},Jk(aN,"_db",["name","version","objectStoreNames"]),tN(aN,"_db",IDBDatabase,["deleteObjectStore","close"]),sN.prototype.transaction=function(){return new oN(this._db.transaction.apply(this._db,arguments))},Jk(sN,"_db",["name","version","objectStoreNames"]),tN(sN,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[iN,nN].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[nN,iN].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var lN=1e4,hN="w:0.4.19",fN="FIS_v2",pN="https://firebaseinstallations.googleapis.com/v1",dN=36e5,vN=((j={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',j["not-registered"]="Firebase Installation is not registered.",j["installation-not-found"]="Firebase Installation not found.",j["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',j["app-offline"]="Could not process request. Application offline.",j["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Yo("installations","Installations",Dr=j));function yN(t){return t instanceof Go&&t.code.includes("request-failed")}function gN(t){return t=t.projectId,pN+"/projects/"+t+"/installations"}function mN(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function bN(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=(n=r.sent()).error,[2,vN.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function wN(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _N(t,e){return e=e.refreshToken,(t=wN(t)).append("Authorization",fN+" "+e),t}function EN(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function TN(t){return new Promise((function(e){setTimeout(e,t)}))}var IN=/^[cdef][\w-]{21}$/,SN="";function CN(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=function(t){return btoa(String.fromCharCode.apply(String,So(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22),IN.test(t)?t:SN}catch(t){return SN}}function ON(t){return t.appName+"!"+t.appId}var kN=new Map;function NN(t,e){AN(t=ON(t),e),function(t,e){var n=PN();n&&n.postMessage({key:t,fid:e}),RN()}(t,e)}function AN(t,e){var n,r,i=kN.get(t);if(i)try{for(var o=To(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var xN=null;function PN(){return!xN&&"BroadcastChannel"in self&&((xN=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){AN(t.data.key,t.data.fid)}),xN}function RN(){0===kN.size&&xN&&(xN.close(),xN=null)}var DN,MN="firebase-installations-database",LN=1,jN="firebase-installations-store",FN=null;function UN(){return FN=FN||uN(MN,LN,(function(t){0===t.oldVersion&&t.createObjectStore(jN)}))}function VN(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return n=ON(t),[4,UN()];case 1:return i=a.sent(),r=i.transaction(jN,"readwrite"),[4,(i=r.objectStore(jN)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||NN(t,e.fid),[2,e]}}))}))}function BN(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=ON(t),[4,UN()];case 1:return[4,(n=(n=r.sent()).transaction(jN,"readwrite")).objectStore(jN).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function qN(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return n=ON(t),[4,UN()];case 1:return i=s.sent(),r=i.transaction(jN,"readwrite"),[4,(i=r.objectStore(jN)).get(n)];case 2:return o=s.sent(),void 0!==(a=e(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||NN(t,a.fid),[2,a]}}))}))}function WN(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,qN(t,(function(n){return n=HN(n||{fid:CN(),registrationStatus:0}),n=function(t,e){return 0!==e.registrationStatus?1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,zN(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,TN(100)];case 3:return i.sent(),[4,zN(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,WN(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e}:navigator.onLine?(t=function(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return _o(this,void 0,void 0,(function(){var e,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return e=gN(t),r=wN(t),a={fid:n,authVersion:fN,appId:t.appId,sdkVersion:hN},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,EN((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:mN(a.authToken)}];case 3:return[4,bN("Create Installation",o)];case 4:throw s.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,VN(t,n)];case 2:return yN(r=i.sent())&&409===r.customData.serverCode?[4,BN(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,VN(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:e,registrationPromise:t}):{installationEntry:e,registrationPromise:Promise.reject(vN.create("app-offline"))}}(t,n),e=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==SN?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function zN(t){return qN(t,(function(t){if(!t)throw vN.create("installation-not-found");return HN(t)}))}function HN(t){return 1===(e=t).registrationStatus&&e.registrationTime+lN<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function KN(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return _o(this,void 0,void 0,(function(){var t,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,gN(t)+"/"+e+"/authTokens:generate"}(n,e),i=_N(n,e),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:hN}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,EN((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,mN(s=u.sent())];case 3:return[4,bN("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function GN(t,e){return void 0===e&&(e=!1),_o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return[4,qN(t.appConfig,(function(r){if(!YN(r))throw vN.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dN}(i)){if(1===o.requestStatus)return n=function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,$N(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,TN(100)];case 3:return r.sent(),[4,$N(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,GN(t,e)]:[2,n]}}))}))}(t,e),r;if(!navigator.onLine)throw vN.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=wo(wo({},i),{authToken:o}),n=function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,KN(t,e)];case 1:return n=o.sent(),i=wo(wo({},e),{authToken:n}),[4,VN(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!yN(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,BN(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=wo(wo({},e),{authToken:{requestStatus:0}}),[4,VN(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function $N(t){return qN(t,(function(t){if(!YN(t))throw vN.create("not-registered");var e=t.authToken;return 1===(e=e).requestStatus&&e.requestTime+lN<Date.now()?wo(wo({},t),{authToken:{requestStatus:0}}):t}))}function YN(t){return void 0!==t&&2===t.registrationStatus}function QN(t,e){return void 0===e&&(e=!1),_o(this,void 0,void 0,(function(){return Eo(this,(function(n){switch(n.label){case 0:return[4,function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,WN(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,GN(t,e)];case 2:return[2,n.sent().token]}}))}))}function XN(t,e){return _o(this,void 0,void 0,(function(){var n,r,i;return Eo(this,(function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,gN(t)+"/"+e}(t,e),i=_N(t,e),r={method:"DELETE",headers:i},[4,EN((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,bN("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function JN(t,e){var n=t.appConfig;return function(t,e){PN();var n=ON(t);(t=kN.get(n))||(t=new Set,kN.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=ON(t=n),(t=kN.get(i))&&(t.delete(r),0===t.size&&kN.delete(i),RN())}}function ZN(t){return vN.create("missing-app-config-values",{valueName:t})}(DN=Ja).INTERNAL.registerComponent(new _a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw ZN("App Configuration");if(!t.name)throw ZN("App Name");try{for(var r=To(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw ZN(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,WN(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||GN(t)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return QN(n,t)},delete:function(){return function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return[4,qN(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw vN.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw vN.create("app-offline");case 3:return[4,XN(e,n)];case 4:return r.sent(),[4,BN(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return JN(n,t)}}}),"PUBLIC")),DN.registerVersion("@firebase/installations","0.4.19"),(j={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',j["only-available-in-window"]="This method is available in a Window context.",j["only-available-in-sw"]="This method is available in a service worker context.",j["permission-default"]="The notification permission was not granted and dismissed instead.",j["permission-blocked"]="The notification permission was not granted and blocked instead.",j["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",j["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",j["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",j["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",j["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",j["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",j["token-update-no-token"]="FCM returned no token when updating the user to push.",j["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",j["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",j["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",j["invalid-vapid-key"]="The public VAPID key must be a string.",j["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var tA,eA=new Yo("messaging","Messaging",Dr=j),nA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rA="https://fcmregistrations.googleapis.com/v1",iA="FCM_MSG",oA="google.c.a.c_id";function aA(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,So(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(j=tA=tA||{}).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked";var sA="fcm_token_details_db",uA=5,cA="fcm_token_object_Store";function lA(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(sA))return[2,null];r.label=2;case 2:return e=null,[4,uN(sA,uA,(function(r){return _o(n,void 0,void 0,(function(){var n,i,o;return Eo(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(cA)?[4,(o=r.transaction.objectStore(cA)).index("fcmSenderId").get(t)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:aA(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:aA(i.auth),p256dh:aA(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:aA(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,cN(sA)];case 4:return r.sent(),[4,cN("fcm_vapid_details_db")];case 5:return r.sent(),[4,cN("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var hA="firebase-messaging-database",fA=1,pA="firebase-messaging-store",dA=null;function vA(){return dA=dA||uN(hA,fA,(function(t){0===t.oldVersion&&t.createObjectStore(pA)}))}function yA(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=mA(t),[4,vA()];case 1:return[4,r.sent().transaction(pA).objectStore(pA).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,lA(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,gA(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function gA(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return n=mA(t),[4,vA()];case 1:return[4,(r=(r=i.sent()).transaction(pA,"readwrite")).objectStore(pA).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}}))}))}function mA(t){return t.appConfig.appId}function bA(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,_A(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(wA(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,eA.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),eA.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function wA(t){return t=t.projectId,rA+"/projects/"+t+"/registrations"}function _A(t){var e=t.appConfig,n=t.installations;return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function EA(t){var e=t.p256dh,n=t.auth;return e={web:{endpoint:t.endpoint,auth:n,p256dh:e}},(t=t.vapidKey)!==nA&&(e.web.applicationPubKey=t),e}function TA(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw eA.create("permission-blocked");return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}}))}))}(e,n)];case 1:return o=a.sent(),[4,yA(t)];case 2:return r=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:aA(o.getKey("auth")),p256dh:aA(o.getKey("p256dh"))},r?[3,3]:[2,SA(t,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,bA(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,SA(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return _o(this,void 0,void 0,(function(){var r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,_A(t)];case 1:n=a.sent(),r=EA(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(wA(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),eA.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,eA.create("token-update-failed",{errorInfo:o});if(!i.token)throw eA.create("token-update-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return r=a.sent(),i=wo(wo({},t),{token:r,createTime:Date.now()}),[4,gA(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,IA(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function IA(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,yA(t)];case 1:return(n=r.sent())?[4,bA(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return e=mA(t),[4,vA()];case 1:return[4,(n=(n=r.sent()).transaction(pA,"readwrite")).objectStore(pA).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function SA(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,function(t,e){return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,_A(t)];case 1:n=a.sent(),r=EA(e),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(wA(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),eA.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,eA.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw eA.create("token-subscribe-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,gA(t,n)];case 2:return r.sent(),[2,n.token]}}))}))}function CA(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n),(n=e.notification.body)&&(t.notification.body=n),(e=e.notification.image)&&(t.notification.image=e)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n),(e=e.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=e)}}(e,t),e}function OA(t){return"object"==typeof t&&t&&oA in t}function kA(t){return new Promise((function(e){setTimeout(e,t)}))}var NA=(Object.defineProperty(AA.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),AA.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw eA.create("invalid-bg-handler");this.bgMessageHandler=t},AA.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},AA.prototype.getToken=function(){var t;return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,yA(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:nA,n.label=2;case 2:return[2,TA(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},AA.prototype.deleteToken=function(){return IA(this.firebaseDependencies,self.registration)},AA.prototype.requestPermission=function(){throw eA.create("only-available-in-window")},AA.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw eA.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw eA.create("invalid-vapid-key");this.vapidKey=t},AA.prototype.useServiceWorker=function(){throw eA.create("only-available-in-window")},AA.prototype.onMessage=function(){throw eA.create("only-available-in-window")},AA.prototype.onTokenRefresh=function(){throw eA.create("only-available-in-window")},AA.prototype.onPush=function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return(r=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,xA()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=tA.PUSH_RECEIVED;try{for(var i=To(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((s=wo({},(o=r).notification)).data=((a={})[iA]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=CA(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,kA(1e3)]);case 4:return i.sent(),[2]}var o,a,s}))}))},AA.prototype.onSubChange=function(t){var e;return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,IA(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,yA(this.firebaseDependencies)];case 3:return n=r.sent(),[4,IA(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,TA(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:nA)];case 5:return r.sent(),[2]}}))}))},AA.prototype.onNotificationClick=function(t){var e;return _o(this,void 0,void 0,(function(){var n,r,i,o,a;return Eo(this,(function(s){switch(s.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[iA])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||(OA(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return[4,xA()];case 1:e=u.sent();try{for(n=To(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,kA(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=tA.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},AA);function AA(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function xA(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var PA=(Object.defineProperty(RA.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),RA.prototype.messageEventListener=function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===tA.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),OA(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},RA.prototype.getVapidKey=function(){return this.vapidKey},RA.prototype.getSwReg=function(){return this.swRegistration},RA.prototype.getToken=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw eA.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,TA(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},RA.prototype.updateVapidKey=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=nA),[2]}))}))},RA.prototype.updateSwReg=function(t){return _o(this,void 0,void 0,(function(){return Eo(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw eA.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},RA.prototype.registerDefaultSw=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=e.sent(),eA.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},RA.prototype.deleteToken=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,IA(this.firebaseDependencies,this.swRegistration)]}}))}))},RA.prototype.requestPermission=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?eA.create("permission-blocked"):eA.create("permission-default")}}))}))},RA.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw eA.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw eA.create("invalid-vapid-key");this.vapidKey=t},RA.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw eA.create("invalid-sw-registration");if(this.swRegistration)throw eA.create("use-sw-after-get-token");this.swRegistration=t},RA.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},RA.prototype.setBackgroundMessageHandler=function(){throw eA.create("only-available-in-sw")},RA.prototype.onBackgroundMessage=function(){throw eA.create("only-available-in-sw")},RA.prototype.onTokenRefresh=function(){return function(){}},RA.prototype.logEvent=function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case tA.NOTIFICATION_CLICKED:return"notification_open";case tA.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[oA],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},RA);function RA(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function DA(t){return eA.create("missing-app-config-values",{valueName:t})}function MA(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Dr={isSupported:MA},Ja.INTERNAL.registerComponent(new _a("messaging",(function(t){var e=t.getProvider("app").getImmediate();if(t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw DA("App Configuration Object");if(!t.name)throw DA("App Name");var r=t.options;try{for(var i=To(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw DA(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")},!MA())throw eA.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?NA:PA)(t)}),"PUBLIC").setServiceProps(Dr));var LA,jA="firebasestorage.googleapis.com",FA="storageBucket",UA=(bo(VA,LA=Go),VA.prototype.codeEquals=function(t){return qA(t)===this.code},Object.defineProperty(VA.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(VA.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),VA);function VA(t,e){return(t=LA.call(this,qA(t),"Firebase Storage: "+e+" ("+qA(t)+")")||this).customData={serverResponse:null},Object.setPrototypeOf(t,VA.prototype),t}var BA={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function qA(t){return"storage/"+t}function WA(){return new UA(BA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zA(){return new UA(BA.CANCELED,"User canceled the upload/download.")}function HA(){return new UA(BA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KA(t){return new UA(BA.INVALID_ARGUMENT,t)}function GA(){return new UA(BA.APP_DELETED,"The Firebase app was deleted.")}function $A(t){return new UA(BA.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function YA(t,e){return new UA(BA.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function QA(t){throw new UA(BA.INTERNAL_ERROR,"Internal error: "+t)}var XA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JA=function(t,e){this.data=t,this.contentType=e||null};function ZA(t,e){switch(t){case XA.RAW:return new JA(tx(e));case XA.BASE64:case XA.BASE64URL:return new JA(ex(t,e));case XA.DATA_URL:return new JA(function(t){return(t=new rx(t)).base64?ex(XA.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw YA(XA.DATA_URL,"Malformed data URL.")}return tx(e)}(t.rest)}(e),new rx(e).contentType)}throw WA()}function tx(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ex(t,e){switch(t){case XA.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw YA(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case XA.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw YA(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw YA(t,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var nx,rx=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw YA(XA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=";base64",(e=r).length>=n.length&&e.substring(e.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},ix={STATE_CHANGED:"state_changed"},ox="running",ax="pausing",sx="paused",ux="success",cx="canceling",lx="canceled",hx="error",fx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function px(t){switch(t){case ox:case ax:case cx:return fx.RUNNING;case sx:return fx.PAUSED;case ux:return fx.SUCCESS;case lx:return fx.CANCELED;case hx:default:return fx.ERROR}}(j=nx=nx||{})[j.NO_ERROR=0]="NO_ERROR",j[j.NETWORK_ERROR=1]="NETWORK_ERROR",j[j.ABORT=2]="ABORT";var dx=(vx.prototype.send=function(t,e,n,r){if(this.sent_)throw QA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},vx.prototype.getErrorCode=function(){if(!this.sent_)throw QA("cannot .getErrorCode() before sending");return this.errorCode_},vx.prototype.getStatus=function(){if(!this.sent_)throw QA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}},vx.prototype.getResponseText=function(){if(!this.sent_)throw QA("cannot .getResponseText() before sending");return this.xhr_.responseText},vx.prototype.abort=function(){this.xhr_.abort()},vx.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},vx.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},vx.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},vx);function vx(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=nx.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=nx.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=nx.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var yx=(gx.prototype.createXhrIo=function(){return new dx},gx);function gx(){}function mx(t){return"string"==typeof t||t instanceof String}function bx(t){return wx()&&t instanceof Blob}function wx(){return"undefined"!=typeof Blob}function _x(t,e,n,r){if(r<e)throw new UA(BA.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n<r)throw new UA(BA.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function Ex(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(wx())return new Blob(t);throw new UA(BA.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}var Tx=(Ix.prototype.size=function(){return this.size_},Ix.prototype.type=function(){return this.type_},Ix.prototype.slice=function(t,e){if(bx(this.data_)){var n=this.data_;return null===(r=t,i=e,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new Ix(i)}var r,i;return new Ix(new Uint8Array(this.data_.buffer,t,e-t),!0)},Ix.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(wx()){var n=t.map((function(t){return t instanceof Ix?t.data_:t}));return new Ix(Ex.apply(null,n))}n=t.map((function(t){return mx(t)?ZA(XA.RAW,t).data:t.data_}));var r=0;n.forEach((function(t){r+=t.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]})),new Ix(i,!0)},Ix.prototype.uploadData=function(){return this.data_},Ix);function Ix(t,e){var n=0,r="";bx(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var Sx=(Object.defineProperty(Cx.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(Cx.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),Cx.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},Cx.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},Cx.makeFromBucketSpec=function(t){var e,n;try{e=Cx.makeFromUrl(t)}catch(e){return new Cx(t,"")}if(""===e.path)return e;throw n=t,new UA(BA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},Cx.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=jA.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(t);if(c){e=new Cx(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw n=t,new UA(BA.INVALID_URL,"Invalid URL '"+n+"'.");return e},Cx);function Cx(t,e){this.bucket=t,this.path_=e}function Ox(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function kx(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Nx(t){return"https://"+jA+"/v0"+t}function Ax(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function xx(t,e){return e}var Px=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||xx},Rx=null;function Dx(){if(Rx)return Rx;var t=[];t.push(new Px("bucket")),t.push(new Px("generation")),t.push(new Px("metageneration")),t.push(new Px("name","fullPath",!0));var e=new Px("name");return e.xform=function(t,e){return!mx(e=e)||e.length<2?e:kx(e)},t.push(e),(e=new Px("size")).xform=function(t,e){return void 0!==e?Number(e):e},t.push(e),t.push(new Px("timeCreated")),t.push(new Px("updated")),t.push(new Px("md5Hash",null,!0)),t.push(new Px("cacheControl",null,!0)),t.push(new Px("contentDisposition",null,!0)),t.push(new Px("contentEncoding",null,!0)),t.push(new Px("contentLanguage",null,!0)),t.push(new Px("contentType",null,!0)),t.push(new Px("metadata","customMetadata",!0)),Rx=t}function Mx(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath;return r=new Sx(n,r),e.makeStorageReference(r)}})}function Lx(t,e,n){return null===(e=Ox(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return Mx(r,t),r}(t,e,n)}function jx(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Fx="prefixes",Ux="items";function Vx(t,e,n){return null===(n=Ox(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Fx])for(var i=0,o=n[Fx];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new Sx(e,a));r.prefixes.push(s)}if(n[Ux])for(var u=0,c=n[Ux];u<c.length;u++){var l=c[u];s=t.makeStorageReference(new Sx(e,l.name)),r.items.push(s)}return r}(t,e,n)}var Bx=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function qx(t){if(!t)throw WA()}function Wx(t,e){return function(n,r){return qx(null!==(r=Lx(t,r,e))),r}}function zx(t,e){return function(n,r){return qx(null!==(r=Vx(t,e,r))),r}}function Hx(t,e){return function(n,r){var i=Lx(t,r,e);return qx(null!==i),function(t,e){if(null===(e=Ox(e)))return null;if(!mx(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var n=encodeURIComponent;return e.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return Nx("/b/"+n(r)+"/o/"+n(i))+Ax({alt:"media",token:e})}))[0]}(i,r)}}function Kx(t){return function(e,n){var r,i=401===e.getStatus()?new UA(BA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,new UA(BA.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,new UA(BA.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function Gx(t){var e=Kx(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(n=t.path,i=new UA(BA.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function $x(t,e,n){var r=Nx(e.fullServerUrl()),i=t.maxOperationRetryTime;return(i=new Bx(r,"GET",Wx(t,n),i)).errorHandler=Gx(e),i}function Yx(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}function Qx(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Yx(e,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jx(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=Tx.getBlob(i,r,s)))throw HA();return s={name:u.fullPath},u=Nx(o),o=t.maxUploadRetryTime,(o=new Bx(u,"POST",Wx(t,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=Kx(e),o}var Xx=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Jx(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){qx(!1)}return qx(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Zx(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Yx(e,r,i);return i={name:a.fullPath},o=Nx(o),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=jx(a,n),t=t.maxUploadRetryTime,(t=new Bx(o,"POST",(function(t){var e;Jx(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){qx(!1)}return qx(mx(e)),e}),t)).urlParams=i,t.headers=r,t.body=n,t.errorHandler=Kx(e),t}function tP(t,e,n,r){return t=t.maxUploadRetryTime,(t=new Bx(n,"POST",(function(t){var e=Jx(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){qx(!1)}n||qx(!1);var i=Number(n);return qx(!isNaN(i)),new Xx(i,r.size(),"final"===e)}),t)).headers={"X-Goog-Upload-Command":"query"},t.errorHandler=Kx(e),t}function eP(t,e,n,r,i,o,a,s){var u=new Xx(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new UA(BA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw HA();return i=e.maxUploadRetryTime,(i=new Bx(n,"POST",(function(t,n){var i=Jx(t,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?Wx(e,o)(t,n):null,new Xx(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=Kx(t),i}var nP=function(t,e,n){"function"==typeof t||null!=e||null!=n?(this.next=t,this.error=e,this.complete=n):(t=t,this.next=t.next,this.error=t.error,this.complete=t.complete)},rP=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function iP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var oP=(aP.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},aP.prototype._shouldDoResumable=function(t){return 262144<t.size()},aP.prototype._start=function(){this._state===ox&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},aP.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case ox:t(n);break;case cx:e._transition(lx);break;case ax:e._transition(sx)}}))},aP.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=Zx(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},aP.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=tP(t._ref.storage,t._ref._location,e,t._blob);n=t._ref.storage.makeRequest(r,n),(t._request=n).getPromise().then((function(e){t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},aP.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Xx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=eP(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(i){return t._error=i,void t._transition(hx)}i=t._ref.storage.makeRequest(o,i),(t._request=i).getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(ux)):t.completeTransitions_()}),t._errorHandler)}))},aP.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},aP.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=$x(t._ref.storage,t._ref._location,t._mappings);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(ux)}),t._metadataErrorHandler)}))},aP.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=Qx(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(ux)}),t._errorHandler)}))},aP.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},aP.prototype._transition=function(t){if(this._state!==t)switch(t){case cx:case ax:this._state=t,void 0!==this._request&&this._request.cancel();break;case ox:var e=this._state===sx;this._state=t,e&&(this._notifyObservers(),this._start());break;case sx:this._state=t,this._notifyObservers();break;case lx:this._error=zA(),this._state=t,this._notifyObservers();break;case hx:case ux:this._state=t,this._notifyObservers()}},aP.prototype.completeTransitions_=function(){switch(this._state){case ax:this._transition(sx);break;case cx:this._transition(lx);break;case ox:this._start()}},Object.defineProperty(aP.prototype,"snapshot",{get:function(){var t=px(this._state);return new rP(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),aP.prototype.on=function(t,e,n,r){var i=this,o=new nP(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},aP.prototype.then=function(t,e){return this._promise.then(t,e)},aP.prototype.catch=function(t){return this.then(null,t)},aP.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},aP.prototype._removeObserver=function(t){-1!==(t=this._observers.indexOf(t))&&this._observers.splice(t,1)},aP.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},aP.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(px(this._state)){case fx.SUCCESS:iP(this._resolve.bind(null,this.snapshot))();break;case fx.CANCELED:case fx.ERROR:iP(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},aP.prototype._notifyObserver=function(t){switch(px(this._state)){case fx.RUNNING:case fx.PAUSED:t.next&&iP(t.next.bind(t,this.snapshot))();break;case fx.SUCCESS:t.complete&&iP(t.complete.bind(t))();break;case fx.CANCELED:case fx.ERROR:t.error&&iP(t.error.bind(t,this._error))();break;default:t.error&&iP(t.error.bind(t,this._error))()}},aP.prototype.resume=function(){var t=this._state===sx||this._state===ax;return t&&this._transition(ox),t},aP.prototype.pause=function(){var t=this._state===ox;return t&&this._transition(ax),t},aP.prototype.cancel=function(){var t=this._state===ox||this._state===ax;return t&&this._transition(cx),t},aP);function aP(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Dx(),this._resumable=this._shouldDoResumable(this._blob),this._state=ox,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(BA.CANCELED)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(hx))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(BA.CANCELED)?r.completeTransitions_():(r._error=t,r._transition(hx))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}var sP=(uP.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},uP.prototype.newRef=function(t,e){return new uP(t,e)},Object.defineProperty(uP.prototype,"root",{get:function(){var t=new Sx(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(uP.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(uP.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(uP.prototype,"name",{get:function(){return kx(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(uP.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(uP.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);return null===t?null:(t=new Sx(this._location.bucket,t),new uP(this._service,t))},enumerable:!1,configurable:!0}),uP.prototype._throwIfRoot=function(t){if(""===this._location.path)throw $A(t)},uP);function uP(t,e){this._service=t,this._location=e instanceof Sx?e:Sx.makeFromUrl(e)}function cP(t){var e={prefixes:[],items:[]};return function t(e,n,r){return _o(this,void 0,void 0,(function(){var i,o;return Eo(this,(function(a){switch(a.label){case 0:return[4,lP(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function lP(t,e){return _o(this,void 0,void 0,(function(){var n,r;return Eo(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&_x("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=e||{},o=t.storage,a=t._location,s="/",u=r.pageToken,c=r.maxResults,i={},a.isRoot?i.prefix="":i.prefix=a.path+"/",s&&0<s.length&&(i.delimiter=s),u&&(i.pageToken=u),c&&(i.maxResults=c),u=Nx(a.bucketOnlyServerUrl()),c=o.maxOperationRetryTime,(c=new Bx(u,"GET",zx(o,a.bucket),c)).urlParams=i,c.errorHandler=Kx(a),[2,t.storage.makeRequest(c,n).getPromise()]}var o,a,s,u,c}))}))}function hP(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=r.sent(),i=t.storage,o=t._location,a=e,s=Dx(),u=Nx(o.fullServerUrl()),r=jx(a,s),a=i.maxOperationRetryTime,(a=new Bx(u,"PATCH",Wx(i,s),a)).headers={"Content-Type":"application/json; charset=utf-8"},a.body=r,a.errorHandler=Gx(o),[2,t.storage.makeRequest(a,n).getPromise()]}var i,o,a,s,u}))}))}function fP(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=n.sent(),r=t.storage,i=t._location,o=Dx(),a=Nx(i.fullServerUrl()),n=r.maxOperationRetryTime,(n=new Bx(a,"GET",Hx(r,o),n)).errorHandler=Gx(i),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new UA(BA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))]}var r,i,o,a}))}))}function pP(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=n.sent(),r=t.storage,n=Nx((i=t._location).fullServerUrl()),r=r.maxOperationRetryTime,(r=new Bx(n,"DELETE",(function(t,e){}),r)).successCodes=[200,204],r.errorHandler=Gx(i),[2,t.storage.makeRequest(r,e).getPromise()]}var r,i}))}))}function dP(t,e){var n;return n=t._location.path,e=(e=e).split("/").filter((function(t){return 0<t.length})).join("/"),e=0===n.length?e:n+"/"+e,e=new Sx(t._location.bucket,e),new sP(t.storage,e)}var vP=(Object.defineProperty(yP.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(yP.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(yP.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(yP.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),yP);function yP(t,e,n){this._delegate=t,this.task=e,this.ref=n}var gP=(Object.defineProperty(mP.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),mP.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new vP(e,n,n._ref))}),e)},mP.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new vP(t,i,i._ref))}:{next:e.next?function(t){return e.next(new vP(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},mP);function mP(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new vP(this._delegate.snapshot,this,this._ref)}var bP=(Object.defineProperty(wP.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new _P(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(wP.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new _P(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(wP.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),wP);function wP(t,e){this._delegate=t,this._service=e}var _P=(Object.defineProperty(EP.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(EP.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(EP.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),EP.prototype.toString=function(){return this._delegate.toString()},EP.prototype.child=function(t){return new EP(dP(this._delegate,t),this.storage)},Object.defineProperty(EP.prototype,"root",{get:function(){return new EP(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(EP.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new EP(t,this.storage)},enumerable:!1,configurable:!0}),EP.prototype.put=function(t,e){return this._throwIfRoot("put"),new gP((t=t,void 0===(e=e)&&(e=null),(n=this._delegate)._throwIfRoot("uploadBytesResumable"),new oP(n,new Tx(t),e)),this);var n},EP.prototype.putString=function(t,e,n){return void 0===e&&(e=XA.RAW),this._throwIfRoot("putString"),new gP((r=this._delegate,t=t,n=n,void 0===(e=e)&&(e=XA.RAW),r._throwIfRoot("putString"),t=ZA(e,t),null==(n=wo({},n)).contentType&&null!=t.contentType&&(n.contentType=t.contentType),new oP(r,new Tx(t.data,!0),n)),this);var r},EP.prototype.listAll=function(){var t=this;return cP(this._delegate).then((function(e){return new bP(e,t.storage)}))},EP.prototype.list=function(t){var e=this;return lP(this._delegate,t).then((function(t){return new bP(t,e.storage)}))},EP.prototype.getMetadata=function(){return function(t){return _o(this,void 0,void 0,(function(){var e,n;return Eo(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=$x(t.storage,t._location,Dx()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},EP.prototype.updateMetadata=function(t){return hP(this._delegate,t)},EP.prototype.getDownloadURL=function(){return fP(this._delegate)},EP.prototype.delete=function(){return this._throwIfRoot("delete"),pP(this._delegate)},EP.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw $A(t)},EP);function EP(t,e){this._delegate=t,this.storage=e}var TP=(IP.prototype.getPromise=function(){return this.promise_},IP.prototype.cancel=function(t){},IP);function IP(t){this.promise_=Promise.reject(t)}var SP=(CP.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(t){i(t)}else null!==o?((n=WA()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?GA:zA)()):i(n=new UA(BA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||h()||o?f.call.apply(f,Co([null,t],e)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),p(0)):t||(a=1)))}this.canceled_?l(0,new OP(!1,null,!0)):this.backoffId_=(t=function(t,e){function n(t){var e=t.loaded;t=t.lengthComputable?t.total:-1,null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new OP(!1,null,!0)):(e=c.pool_.createXhrIo(),c.pendingXhr_=e,null!==c.progressCallback_&&e.addUploadProgressListener(n),e.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(n),c.pendingXhr_=null;var r=e.getErrorCode()===nx.NO_ERROR,i=e.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),t(!0,new OP(i,e))):(e=e.getErrorCode()===nx.ABORT,t(!1,new OP(!1,null,e)))})))},e=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){v(o=!0)}),n),v)},CP.prototype.getPromise=function(){return this.promise_},CP.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},CP.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t);return t=-1!==this.additionalRetryCodes_.indexOf(t),e||n||t},CP);function CP(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var OP=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function kP(t,e,n,r){var i=Ax(t.urlParams),o=t.url+i,a=Object.assign({},t.headers);return i=a,(e=e)&&(i["X-Firebase-GMPID"]=e),e=a,null!==(n=n)&&0<n.length&&(e.Authorization="Firebase "+n),e=a,n=void 0!==Ja?Ja.SDK_VERSION:"AppManager",e["X-Firebase-Storage-Version"]="webjs/"+n,new SP(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function NP(t){return/^[A-Za-z]+:\/\//.test(t)}function AP(t,e){if(t instanceof PP){var n=t;if(null==n._bucket)throw new UA(BA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FA+"' property when initializing the app?");return n=new sP(n,n._bucket),null!=e?AP(n,e):n}if(void 0===e)return t;if(e.includes(".."))throw KA('`path` param cannot contain ".."');return dP(t,e)}function xP(t,e){if(e&&NP(e)){if(t instanceof PP)return new sP(t,e);throw KA("To use ref(service, url), the first argument must be a Storage instance.")}return AP(t,e)}var PP=(Object.defineProperty(RP.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){_x("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){_x("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),RP.prototype.getAuthToken=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}}))}))},RP.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},RP.prototype.makeStorageReference=function(t){return new sP(this,t)},RP.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new TP(GA());var r=kP(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},RP);function RP(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Sx.makeFromBucketSpec(r):null==(r=null==(r=this.app.options)?void 0:r[FA])?null:Sx.makeFromBucketSpec(r)}var DP,MP,LP=(Object.defineProperty(jP.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(jP.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),jP.prototype.ref=function(t){if(NP(t))throw KA("ref() expected a child path but got a URL, use refFromURL instead.");return new _P(xP(this._delegate,t),this)},jP.prototype.refFromURL=function(t){if(!NP(t))throw KA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Sx.makeFromUrl(t)}catch(t){throw KA("refFromUrl() expected a valid full URL but got an invalid one.")}return new _P(xP(this._delegate,t),this)},jP.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},jP.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},jP);function jP(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}function FP(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),new LP(n,new PP(n,t,new yx,e))}MP={TaskState:fx,TaskEvent:ix,StringFormat:XA,Storage:PP,Reference:_P},(DP=Ja).INTERNAL.registerComponent(new _a("storage",FP,"PUBLIC").setServiceProps(MP).setMultipleInstances(!0)),DP.registerVersion("@firebase/storage","0.4.2");var UP,VP,BP="0.4.4",qP="FB-PERF-TRACE-MEASURE",WP="@firebase/performance/config",zP="@firebase/performance/configexpire",HP=(Dr="Performance",(j={})["trace started"]="Trace {$traceName} was started before.",j["trace stopped"]="Trace {$traceName} is not running.",j["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",j["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",j["no window"]="Window is not available.",j["no app id"]="App id is not available.",j["no project id"]="Project id is not available.",j["no api key"]="Api key is not available.",j["invalid cc log"]="Attempted to queue invalid cc event",j["FB not default"]="Performance can only start when Firebase app instance is the default one.",j["RC response not ok"]="RC response is not ok",j["invalid attribute name"]="Attribute name {$attributeName} is invalid.",j["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",j["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",j["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Yo("performance",Dr,j=j)),KP=new Ma(Dr);KP.logLevel=Na.INFO;var GP,$P=(YP.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},YP.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},YP.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},YP.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},YP.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},YP.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},YP.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!qo()||(KP.info("IndexedDB is not supported by current browswer"),!1):(KP.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},YP.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},YP.getInstance=function(){return void 0===UP&&(UP=new YP(VP)),UP},YP);function YP(t){if(!(this.window=t))throw HP.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function QP(t,e){var n=t.length-e.length;if(n<0||1<n)throw HP.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var XP,JP,ZP=(tR.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw HP.create("no app id");return t},tR.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw HP.create("no project id");return t},tR.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw HP.create("no api key");return t},tR.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},tR.getInstance=function(){return void 0===GP&&(GP=new tR),GP},tR);function tR(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=QP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=QP("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Dr=JP=JP||{})[Dr.UNKNOWN=0]="UNKNOWN",Dr[Dr.VISIBLE=1]="VISIBLE",Dr[Dr.HIDDEN=2]="HIDDEN";var eR=["firebase_","google_","ga_"],nR=new RegExp("^[a-zA-Z]\\w*$");function rR(){switch($P.getInstance().document.visibilityState){case"visible":return JP.VISIBLE;case"hidden":return JP.HIDDEN;default:return JP.UNKNOWN}}var iR="0.0.1",oR={loggingEnabled:!0},aR="FIREBASE_INSTALLATIONS_AUTH";function sR(t){var e,n=function(){var t=$P.getInstance().localStorage;if(t){var e=t.getItem(zP);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(WP);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(cR(n),Promise.resolve()):(e=t,function(){var t=ZP.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+ZP.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+ZP.getInstance().getApiKey();return t=new Request(n,{method:"POST",headers:{Authorization:aR+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:ZP.getInstance().getAppId(),app_version:BP,sdk_version:iR})}),fetch(t).then((function(t){if(t.ok)return t.json();throw HP.create("RC response not ok")}))})).catch((function(){KP.info(uR)})).then(cR).then((function(t){var e=$P.getInstance().localStorage;t&&e&&(e.setItem(WP,JSON.stringify(t)),e.setItem(zP,String(Date.now()+60*ZP.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var uR="Could not fetch config, will use default configs";function cR(t){if(!t)return t;var e=ZP.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):oR.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=lR(e.tracesSamplingRate),e.logNetworkAfterSampling=lR(e.networkRequestsSamplingRate),t}function lR(t){return Math.random()<=t}var hR,fR=1;function pR(){return fR=2,hR=hR||function(){var t=$P.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=ZP.getInstance().installationsService.getId()).then((function(t){XP=t})),t;var t})).then(sR).then(dR,dR)}function dR(){fR=3}var vR,yR=1e4,gR=5500,mR=3,bR=mR,wR=[],_R=!1;function ER(t){setTimeout((function(){if(0!==bR)return wR.length?void function(){var t=Co(wR);wR=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=ZP.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||KP.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=yR;isNaN(n)||(r=Math.max(n,r)),t=t.logResponseDetails,Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(wR=Co(e,wR),KP.info("Retry transport request later.")),bR=mR,ER(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ZP.getInstance().logSource,log_event:e},t).catch((function(){wR=Co(t,wR),bR--,KP.info("Tries left: "+bR+"."),ER(yR)}))}():ER(yR)}),t)}function TR(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw HP.create("invalid cc log");wR=Co(wR,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function IR(t,e){(vR=vR||TR(OR))(t,e)}function SR(t){var e=ZP.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&$P.getInstance().requiredApisAvailable()&&(t.isAuto&&rR()!==JP.VISIBLE||(3===fR?CR(t):pR().then((function(){return CR(t)}),(function(){return CR(t)}))))}function CR(t){var e;!XP||(e=ZP.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return IR(t,1)}),0)}function OR(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:kR(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:kR(),trace_metric:e},JSON.stringify(e)})(t)}function kR(){return{google_app_id:ZP.getInstance().getAppId(),app_instance_id:XP,web_app_info:{sdk_version:BP,page_url:$P.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=$P.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:rR(),effective_connection_type:function(){var t=$P.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var NR=["_fp","_fcp","_fid"],AR=(xR.prototype.start=function(){if(1!==this.state)throw HP.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},xR.prototype.stop=function(){if(2!==this.state)throw HP.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),SR(this)},xR.prototype.record=function(t,e,n){if(t<=0)throw HP.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw HP.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=wo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}SR(this)},xR.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},xR.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<NR.indexOf(n))&&n.startsWith("_"))throw HP.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&KP.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},xR.prototype.getMetric=function(t){return this.counters[t]||0},xR.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length)&&!eR.some((function(t){return n.startsWith(t)}))&&!!n.match(nR),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw HP.create("invalid attribute name",{attributeName:t});if(!i)throw HP.create("invalid attribute value",{attributeValue:e})}},xR.prototype.getAttribute=function(t){return this.customAttributes[t]},xR.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},xR.prototype.getAttributes=function(){return wo({},this.customAttributes)},xR.prototype.setStartTime=function(t){this.startTimeUs=t},xR.prototype.setDuration=function(t){this.durationUs=t},xR.prototype.calculateTraceMetrics=function(){var t;(t=(t=this.api.getEntriesByName(this.traceMeasure))&&t[0])&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},xR.createOobTrace=function(t,e,n){var r,i=$P.getInstance().getUrl();i&&(r=new xR("_wt_"+i,!0),i=Math.floor(1e3*$P.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find((function(t){return"first-paint"===t.name})))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find((function(t){return"first-contentful-paint"===t.name})))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),SR(r))},xR.createUserTimingTrace=function(t){SR(new xR(t,!1,t))},xR);function xR(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=$P.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||qP+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function PR(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=$P.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=ZP.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return IR(e,0)}),0)))}var RR=5e3;function DR(){XP&&(setTimeout((function(){var t,e=$P.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){AR.createOobTrace(n,r),t=void 0}),RR),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),AR.createOobTrace(n,r,e))}))):AR.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=$P.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)PR(n[e]);t.setupObserver("resource",PR)}),0),setTimeout((function(){for(var t=$P.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)MR(n[e]);t.setupObserver("measure",MR)}),0))}function MR(t){(t=t.name).substring(0,qP.length)!==qP&&AR.createUserTimingTrace(t)}var LR,jR=(FR.prototype.trace=function(t){return new AR(t)},Object.defineProperty(FR.prototype,"instrumentationEnabled",{get:function(){return ZP.getInstance().instrumentationEnabled},set:function(t){ZP.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(FR.prototype,"dataCollectionEnabled",{get:function(){return ZP.getInstance().dataCollectionEnabled},set:function(t){ZP.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),FR);function FR(t){this.app=t,$P.getInstance().requiredApisAvailable()&&Wo().then((function(t){t&&(_R||(ER(gR),_R=!0),pR().then(DR,DR))})).catch((function(t){KP.info("Environment doesn't support IndexedDB: "+t)}))}function UR(t,e){if("[DEFAULT]"!==t.name)throw HP.create("FB not default");if("undefined"==typeof window)throw HP.create("no window");return VP=window,ZP.getInstance().firebaseAppInstance=t,ZP.getInstance().installationsService=e,new jR(t)}(LR=Ja).INTERNAL.registerComponent(new _a("performance",(function(t){return UR(t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate())}),"PUBLIC")),LR.registerVersion("@firebase/performance","0.4.4");var VR,BR,qR="firebase_id",WR="origin",zR=6e4,HR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KR="https://www.googletagmanager.com/gtag/js";(Dr=VR=VR||{}).EVENT="event",Dr.SET="set",Dr.CONFIG="config",(Dr=BR=BR||{}).ADD_SHIPPING_INFO="add_shipping_info",Dr.ADD_PAYMENT_INFO="add_payment_info",Dr.ADD_TO_CART="add_to_cart",Dr.ADD_TO_WISHLIST="add_to_wishlist",Dr.BEGIN_CHECKOUT="begin_checkout",Dr.CHECKOUT_PROGRESS="checkout_progress",Dr.EXCEPTION="exception",Dr.GENERATE_LEAD="generate_lead",Dr.LOGIN="login",Dr.PAGE_VIEW="page_view",Dr.PURCHASE="purchase",Dr.REFUND="refund",Dr.REMOVE_FROM_CART="remove_from_cart",Dr.SCREEN_VIEW="screen_view",Dr.SEARCH="search",Dr.SELECT_CONTENT="select_content",Dr.SELECT_ITEM="select_item",Dr.SELECT_PROMOTION="select_promotion",Dr.SET_CHECKOUT_OPTION="set_checkout_option",Dr.SHARE="share",Dr.SIGN_UP="sign_up",Dr.TIMING_COMPLETE="timing_complete",Dr.VIEW_CART="view_cart",Dr.VIEW_ITEM="view_item",Dr.VIEW_ITEM_LIST="view_item_list",Dr.VIEW_PROMOTION="view_promotion",Dr.VIEW_SEARCH_RESULTS="view_search_results";var GR=new Ma("@firebase/analytics");function $R(t,e,n,r){return function(i,o,a){return _o(this,void 0,void 0,(function(){var s;return Eo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==VR.EVENT?[3,2]:[4,function(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Eo(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(t){var n;if(!(n=(n=a.find((function(e){return e.measurementId===t})))&&e[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(VR.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),GR.error(h),[3,5];case 5:return[2]}}))}))}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==VR.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return _o(this,void 0,void 0,(function(){var a,s;return Eo(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(t){return t.measurementId===i})))?[4,e[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),GR.error(s),[3,8];case 8:return t(VR.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(VR.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),GR.error(s),[3,7];case 7:return[2]}}))}))}}(Dr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Dr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Dr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Dr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Dr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Dr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Dr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Dr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var YR=new Yo("analytics","Analytics",Dr=Dr),QR=30;function XR(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var JR=new(XR.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},XR.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},XR.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},XR);function ZR(t){var e;return _o(this,void 0,void 0,(function(){var n,r,i,o;return Eo(this,(function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=HR.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw YR.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function tD(t,e,n){return void 0===e&&(e=JR),_o(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Eo(this,(function(c){if(a=t.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw YR.create("no-app-id");if(i)return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new nD,setTimeout((function(){return _o(u,void 0,void 0,(function(){return Eo(this,(function(t){return s.abort(),[2]}))}))}),void 0!==n?n:zR),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=JR),_o(this,void 0,void 0,(function(){var n,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:n=e.appId,s=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(f=r,p=o,new Promise((function(t,e){var n=Math.max(p-Date.now(),0),r=setTimeout(t,n);f.addEventListener((function(){clearTimeout(r),e(YR.create("fetch-throttle",{throttleEndTimeMillis:p}))}))})))];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return GR.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,ZR(e)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(eD(u=h.sent()))return c=503===Number(u.customData.httpStatus)?wa(a,i.intervalMillis,QR):wa(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),GR.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,l,r,i)];if(i.deleteThrottleMetadata(n),s)return GR.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}var f,p}))}))}({appId:r,apiKey:i,measurementId:o},a,s,e)];if(o)return[2,{measurementId:o,appId:r}];throw YR.create("no-api-key")}))}))}function eD(t){if(t instanceof Go&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}var nD=(rD.prototype.addEventListener=function(t){this.listeners.push(t)},rD.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},rD);function rD(){this.listeners=[]}function iD(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o,a,s;return Eo(this,(function(u){switch(u.label){case 0:return(o=tD(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&GR.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return GR.error(t)})),e.push(o),a=function(){return _o(this,void 0,void 0,(function(){var t;return Eo(this,(function(e){switch(e.label){case 0:return qo()?[3,1]:(GR.warn(YR.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Wo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),GR.warn(YR.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=u.sent(),o=s[0],a=s[1],i("js",new Date),(s={})[WR]="firebase",s.update=!0,s=s,null!=a&&(s[qR]=a),i(VR.CONFIG,o.measurementId,s),[2,o.measurementId]}}))}))}var oD,aD,sD={},uD=[],cD={},lD="dataLayer",hD="gtag",fD=!1;function pD(t){if(fD)throw YR.create("already-initialized");t.dataLayerName&&(lD=t.dataLayerName),t.gtagName&&(hD=t.gtagName)}function dD(t,e){n=[],Uo()&&n.push("This is a browser extension environment."),zo()||n.push("Cookies are not available."),0<n.length&&(n=n.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=YR.create("invalid-analytics-context",{errorInfo:n}),GR.warn(n.message));var n,r,i,o,a,s,u=t.options.appId;if(!u)throw YR.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw YR.create("no-api-key");GR.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=sD[u])throw YR.create("already-exists",{id:u});return fD||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(KR))return r}}()||(a=lD,(s=document.createElement("script")).src=KR+"?l="+a,s.async=!0,document.head.appendChild(s)),i=lD,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,n=sD,a=uD,s=cD,r=lD,i=hD,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=$R(o,n,a,s),i={gtagCore:o,wrappedGtag:window[i]},aD=i.wrappedGtag,oD=i.gtagCore,fD=!0),sD[u]=iD(t,uD,cD,e,oD),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return _o(this,void 0,void 0,(function(){var o;return Eo(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(VR.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=wo(wo({},r),{send_to:o}),t(VR.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(aD,sD[u],t,e,n).catch((function(t){return GR.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i;return Eo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(VR.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(VR.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(aD,sD[u],t,e).catch((function(t){return GR.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i;return Eo(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(VR.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(VR.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(aD,sD[u],t,e).catch((function(t){return GR.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return _o(this,void 0,void 0,(function(){var i,o,a,s,u;return Eo(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(VR.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(VR.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(aD,sD[u],t,e).catch((function(t){return GR.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return _o(this,void 0,void 0,(function(){var n;return Eo(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(sD[u],t).catch((function(t){return GR.error(t)}))},INTERNAL:{delete:function(){return delete sD[u],Promise.resolve()}}}}var vD,yD="analytics";function gD(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:if(Uo())return[2,!1];if(!zo())return[2,!1];if(!qo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Wo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}(vD=Ja).INTERNAL.registerComponent(new _a(yD,(function(t){return dD(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:pD,EventName:BR,isSupported:gD})),vD.INTERNAL.registerComponent(new _a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(yD).getImmediate().logEvent}}catch(t){throw YR.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),vD.registerVersion("@firebase/analytics","0.6.2");var mD=(bD.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e;return e=n<=t,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},bD.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e,n,r;return Eo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},bD);function bD(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}(Dr={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Dr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Dr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Dr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Dr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Dr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Dr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Dr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Dr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Dr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Dr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Dr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Dr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var wD=new Yo("remoteconfig","Remote Config",Dr=Dr),_D=(ED.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l;return Eo(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===f&&(f=navigator),f.languages&&f.languages[0]||f.language)},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),wD.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),wD.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw wD.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},ED);function ED(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var TD=(ID.prototype.addEventListener=function(t){this.listeners.push(t)},ID.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},ID);function ID(){this.listeners=[]}var SD=["1","true","t","yes","y","on"],CD=(OD.prototype.asString=function(){return this._value},OD.prototype.asBoolean=function(){return"static"!==this._source&&0<=SD.indexOf(this._value.toLowerCase())},OD.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},OD.prototype.getSource=function(){return this._source},OD);function OD(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var kD=(ND.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Na.DEBUG;break;case"silent":this._logger.logLevel=Na.SILENT;break;default:this._logger.logLevel=Na.ERROR}},Object.defineProperty(ND.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(ND.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),ND.prototype.activate=function(){return _o(this,void 0,void 0,(function(){var t,e;return Eo(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},ND.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},ND.prototype.fetch=function(){return _o(this,void 0,void 0,(function(){var t,e,n,r=this;return Eo(this,(function(i){switch(i.label){case 0:t=new TD,setTimeout((function(){return _o(r,void 0,void 0,(function(){return Eo(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),a="fetch-throttle",n=(o=e)instanceof Go&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,a}))}))},ND.prototype.fetchAndActivate=function(){return _o(this,void 0,void 0,(function(){return Eo(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},ND.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(wo(wo({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},ND.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},ND.prototype.getNumber=function(t){return this.getValue(t).asNumber()},ND.prototype.getString=function(t){return this.getValue(t).asString()},ND.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new CD("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new CD("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new CD("static"))},ND);function ND(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function AD(t,e){return t=t.target.error||void 0,wD.create(e,{originalErrorMessage:t&&t.message})}var xD="app_namespace_store",PD="firebase_remote_config",RD=1,DD=(MD.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},MD.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},MD.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},MD.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},MD.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},MD.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},MD.prototype.getActiveConfig=function(){return this.get("active_config")},MD.prototype.setActiveConfig=function(t){return this.set("active_config",t)},MD.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},MD.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},MD.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},MD.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},MD.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},MD.prototype.get=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([xD],"readonly").objectStore(xD),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(AD(t,"storage-get"))},s.onsuccess=function(t){t=t.target.result,r(t?t.value:void 0)}}catch(o){i(wD.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},MD.prototype.set=function(t,e){return _o(this,void 0,void 0,(function(){var n,r=this;return Eo(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([xD],"readwrite").objectStore(xD),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(AD(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(wD.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},MD.prototype.delete=function(t){return _o(this,void 0,void 0,(function(){var e,n=this;return Eo(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([xD],"readwrite").objectStore(xD),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(AD(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(wD.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},MD.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},MD);function MD(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(PD,RD);n.onerror=function(t){e(AD(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(xD,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var LD=(jD.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},jD.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},jD.prototype.getActiveConfig=function(){return this.activeConfig},jD.prototype.loadFromStorage=function(){return _o(this,void 0,void 0,(function(){var t,e,n;return Eo(this,(function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},jD.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},jD.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},jD.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},jD);function jD(t){this.storage=t}var FD=(UD.prototype.fetch=function(t){return _o(this,void 0,void 0,(function(){var e;return Eo(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},UD.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return _o(this,void 0,void 0,(function(){var e,i;return Eo(this,(function(o){switch(o.label){case 0:return[4,(a=t.signal,s=n,new Promise((function(t,e){var n=Math.max(s-Date.now(),0),r=setTimeout(t,n);a.addEventListener((function(){clearTimeout(r),e(wD.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof Go&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+wa(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var a,s}))}))},UD);function UD(t,e){this.client=t,this.storage=e}var VD,BD="@firebase/remote-config";return(VD=Ja).INTERNAL.registerComponent(new _a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw wD.create("registration-window");var i=(s=n.options).projectId,o=s.apiKey,a=s.appId;if(!i)throw wD.create("registration-project-id");if(!o)throw wD.create("registration-api-key");if(!a)throw wD.create("registration-app-id");e=e||"firebase";var s,u=new DD(a,n.name,e);return t=new LD(u),(s=new Ma(BD)).logLevel=Na.ERROR,a=new _D(r,VD.SDK_VERSION,e,i,o,a),a=new FD(a,u),a=new mD(a,u,t,s),(s=new kD(n,a,t,u,s)).ensureInitialized(),s}),"PUBLIC").setMultipleInstances(!0)),VD.registerVersion(BD,"0.1.30"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Ja.registerVersion("firebase","8.0.2","cdn"),Ja}()}).call(this,n(25),n(39))},function(t,e,n){"use strict";n(48)},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),parseInt(t,e||10)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),e)return"1"===t||/^true$/i.test(t);return"0"!==t&&!/^false$/i.test(t)&&""!==t};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),t===e};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return(0,r.default)(t),(n=(0,o.default)(n,s)).ignoreCase?t.toLowerCase().indexOf((0,i.default)(e).toLowerCase())>=0:t.indexOf((0,i.default)(e))>=0};var r=a(n(4)),i=a(n(51)),o=a(n(18));function a(t){return t&&t.__esModule?t:{default:t}}var s={ignoreCase:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){(0,i.default)(t),"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,n));return e.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,r.default)(t),(e=(0,i.default)(e,l)).require_display_name||e.allow_display_name){var n=t.match(h);if(n){var u,g=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,3);if(u=g[1],t=g[2],u.endsWith(" ")&&(u=u.substr(0,u.length-1)),!function(t){var e=t.match(/^"(.+)"$/i),n=e?e[1]:t;if(!n.trim())return!1;if(/[\.";<>]/.test(n)){if(!e)return!1;if(!(n.split('"').length===n.split('\\"').length))return!1}return!0}(u))return!1}else if(e.require_display_name)return!1}if(!e.ignore_max_length&&t.length>254)return!1;var m=t.split("@"),b=m.pop(),w=m.join("@"),_=b.toLowerCase();if(e.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var E=(w=w.toLowerCase()).split("+")[0];if(!(0,o.default)(E.replace(".",""),{min:6,max:30}))return!1;for(var T=E.split("."),I=0;I<T.length;I++)if(!p.test(T[I]))return!1}if(!(0,o.default)(w,{max:64})||!(0,o.default)(b,{max:254}))return!1;if(!(0,a.default)(b,{require_tld:e.require_tld})){if(!e.allow_ip_domain)return!1;if(!(0,s.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var S=b.substr(1,b.length-2);if(0===S.length||!(0,s.default)(S))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),e.allow_utf8_local_part?y.test(w):d.test(w);for(var C=e.allow_utf8_local_part?v:f,O=w.split("."),k=0;k<O.length;k++)if(!C.test(O[k]))return!1;return!0};var r=u(n(4)),i=u(n(18)),o=u(n(52)),a=u(n(41)),s=u(n(31));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},h=/^([^\x00-\x1F\x7F-\x9F\cX]+)<(.+)>$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,d=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,v=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,y=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,r.default)(t),!t||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;if((e=(0,a.default)(e,u)).validate_length&&t.length>=2083)return!1;var n,s,h,f,p,d,v,y;if(v=t.split("#"),t=v.shift(),v=t.split("?"),t=v.shift(),(v=t.split("://")).length>1){if(n=v.shift().toLowerCase(),e.require_valid_protocol&&-1===e.protocols.indexOf(n))return!1}else{if(e.require_protocol)return!1;if("//"===t.substr(0,2)){if(!e.allow_protocol_relative_urls)return!1;v[0]=t.substr(2)}}if(""===(t=v.join("://")))return!1;if(v=t.split("/"),""===(t=v.shift())&&!e.require_host)return!0;if((v=t.split("@")).length>1){if(e.disallow_auth)return!1;if(-1===(s=v.shift()).indexOf(":")||s.indexOf(":")>=0&&s.split(":").length>2)return!1}f=v.join("@"),d=null,y=null;var g=f.match(c);g?(h="",y=g[1],d=g[2]||null):(v=f.split(":"),h=v.shift(),v.length&&(d=v.join(":")));if(null!==d&&(p=parseInt(d,10),!/^[0-9]+$/.test(d)||p<=0||p>65535))return!1;if(!(0,o.default)(h)&&!(0,i.default)(h,e)&&(!y||!(0,o.default)(y,6)))return!1;if(h=h||y,e.host_whitelist&&!l(h,e.host_whitelist))return!1;if(e.host_blacklist&&l(h,e.host_blacklist))return!1;return!0};var r=s(n(4)),i=s(n(41)),o=s(n(31)),a=s(n(18));function s(t){return t&&t.__esModule?t:{default:t}}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,validate_length:!0},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t===r||(i=r,"[object RegExp]"===Object.prototype.toString.call(i)&&r.test(t)))return!0}var i;return!1}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),e&&e.no_colons)return a.test(t);return o.test(t)||s.test(t)||u.test(t)||c.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,a=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F][0-9a-fA-F]-){5}([0-9a-fA-F][0-9a-fA-F])$/,u=/^([0-9a-fA-F][0-9a-fA-F]\s){5}([0-9a-fA-F][0-9a-fA-F])$/,c=/^([0-9a-fA-F]{4}).([0-9a-fA-F]{4}).([0-9a-fA-F]{4})$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,r.default)(t);var e=t.split("/");if(2!==e.length)return!1;if(!a.test(e[1]))return!1;if(e[1].length>1&&e[1].startsWith("0"))return!1;return(0,i.default)(e[0],4)&&e[1]<=32&&e[1]>=0};var r=o(n(4)),i=o(n(31));function o(t){return t&&t.__esModule?t:{default:t}}var a=/^\d{1,2}$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return/(^(y{4}|y{2})[\/-](m{1,2})[\/-](d{1,2})$)|(^(m{1,2})[\/-](d{1,2})[\/-]((y{4}|y{2})$))|(^(d{1,2})[\/-](m{1,2})[\/-]((y{4}|y{2})$))/gi.test(t)}function u(t,e){for(var n=[],r=Math.min(t.length,e.length),i=0;i<r;i++)n.push([t[i],e[i]]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";if("string"===typeof t&&s(e)){var n,o=/[-/]/,a=u(t.split(o),e.toLowerCase().split(o)),c={},l=i(a);try{for(l.s();!(n=l.n()).done;){var h=r(n.value,2),f=h[0],p=h[1];if(f.length!==p.length)return!1;c[p.charAt(0)]=f}}catch(d){l.e(d)}finally{l.f()}return new Date("".concat(c.m,"/").concat(c.d,"/").concat(c.y)).getDate()===+c.d}return"[object Date]"===Object.prototype.toString.call(t)&&isFinite(t)},t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),["true","false","1","0"].indexOf(t)>=0};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t),"en_US_POSIX"===t||"ca_ES_VALENCIA"===t)return!0;return o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[A-z]{2,4}([_-]([A-z]{4}|[\d]{3}))?([_-]([A-z]{2}|[\d]{3}))?$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,i.default)(t),e in o.alpha)return o.alpha[e].test(t);throw new Error("Invalid locale '".concat(e,"'"))},e.locales=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(27);var a=Object.keys(o.alpha);e.locales=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,i.default)(t),e in o.alphanumeric)return o.alphanumeric[e].test(t);throw new Error("Invalid locale '".concat(e,"'"))},e.locales=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(27);var a=Object.keys(o.alphanumeric);e.locales=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),e&&e.no_symbols)return a.test(t);return new RegExp("^[+-]?([0-9]*[".concat((e||{}).locale?o.decimal[e.locale]:".","])?[0-9]+$")).test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(27);var a=/^[0-9]+$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=t.replace(/\s/g,"").toUpperCase();return e.toUpperCase()in o&&o[e].test(n)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^[GE]\d{8}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,MT:/^\d{7}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,PO:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t,{min:0,max:65535})};var r,i=(r=n(53))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),t===t.toLowerCase()};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),t===t.toUpperCase()};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=o;(e=e||{}).allow_hyphens&&(n=a);if(!n.test(t))return!1;t=t.replace(/-/g,"");for(var r=0,s=2,u=0;u<14;u++){var c=t.substring(14-u-1,14-u),l=parseInt(c,10)*s;r+=l>=10?l%10+1:l,1===s?s+=1:s-=1}if((10-r%10)%10!==parseInt(t.substring(14,15),10))return!1;return!0};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[0-9]{15}$/,a=/^\d{2}-\d{6}-\d{6}-\d{1}$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[\x00-\x7F]+$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.fullWidth.test(t)&&a.halfWidth.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(54),a=n(55);t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/[^\x00-\x7F]/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t),o.test(t)};var r=i(n(4));function i(t){return t&&t.__esModule?t:{default:t}}var o=(0,i(n(103)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.join("");return new RegExp(n,e)},t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),(e=(0,r.default)(e,u)).locale in a.decimal)return!(0,o.default)(c,t.replace(/ /g,""))&&function(t){return new RegExp("^[-+]?([0-9]+)?(\\".concat(a.decimal[t.locale],"[0-9]{").concat(t.decimal_digits,"})").concat(t.force_decimal?"":"?","$"))}(e).test(t);throw new Error("Invalid locale '".concat(e.locale,"'"))};var r=s(n(18)),i=s(n(4)),o=s(n(42)),a=n(27);function s(t){return t&&t.__esModule?t:{default:t}}var u={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(0o)?[0-7]+$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,r.default)(t),(0,i.default)(t)%parseInt(e,10)===0};var r=o(n(4)),i=o(n(49));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,i.default)(t),!e)return o.test(t)||a.test(t);return o.test(t)||a.test(t)||s.test(t)||u.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)/,u=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)||a.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(hsl)a?\(\s*((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn|\s*)(\s*,\s*(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s*(,\s*((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s*)?\)$/i,a=/^(hsl)a?\(\s*((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn|\s)(\s*(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s*(\/\s*((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s*)?\)$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),function(t){var e=t.replace(/[\s\-]+/gi,"").toUpperCase(),n=e.slice(0,2).toUpperCase();return n in o&&o[n].test(e)}(t)&&function(t){var e=t.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(e.slice(4)+e.slice(0,4)).replace(/[A-Z]/g,(function(t){return t.charCodeAt(0)-55})).match(/\d{1,7}/g).reduce((function(t,e){return Number(t+e)%97}),"")}(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[A-z]{4}[A-z]{2}\w{2}(\w{3})?$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[a-f0-9]{32}$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),new RegExp("^[a-fA-F0-9]{".concat(o[e],"}$")).test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,r.default)(t);var e=t.split("."),n=e.length;if(n>3||n<2)return!1;return e.reduce((function(t,e){return t&&(0,i.default)(e,{urlSafe:!0})}),!0)};var r=o(n(4)),i=o(n(57));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,r.default)(t);try{e=(0,i.default)(e,s);var n=[];e.allow_primitives&&(n=[null,!1,!0]);var o=JSON.parse(t);return n.includes(o)||!!o&&"object"===a(o)}catch(u){}return!1};var r=o(n(4)),i=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s={allow_primitives:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,r.default)(t),0===((e=(0,i.default)(e,a)).ignore_whitespace?t.trim().length:t.length)};var r=o(n(4)),i=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}var a={ignore_whitespace:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r;(0,i.default)(t),"object"===o(e)?(n=e.min||0,r=e.max):(n=arguments[1]||0,r=arguments[2]);var a=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=t.length-a.length;return s>=n&&("undefined"===typeof r||s<=r)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,i.default)(t);var n=o[e];return n&&n.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t),(0,i.default)(t)&&24===t.length};var r=o(n(4)),i=o(n(56));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(t);var n=(0,i.default)(e),o=(0,i.default)(t);return!!(o&&n&&o>n)};var r=o(n(4)),i=o(n(40));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(t);var n=(0,i.default)(e),o=(0,i.default)(t);return!!(o&&n&&o<n)};var r=o(n(4)),i=o(n(40));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n;if((0,r.default)(t),"[object Array]"===Object.prototype.toString.call(e)){var o=[];for(n in e)({}).hasOwnProperty.call(e,n)&&(o[n]=(0,i.default)(e[n]));return o.indexOf(t)>=0}if("object"===a(e))return e.hasOwnProperty(t);if(e&&"function"===typeof e.indexOf)return e.indexOf(t)>=0;return!1};var r=o(n(4)),i=o(n(51));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(t);var e=t.replace(/[- ]+/g,"");if(!o.test(e))return!1;for(var n,r,a,s=0,u=e.length-1;u>=0;u--)n=e.substring(u,u+1),r=parseInt(n,10),s+=a&&(r*=2)>=10?r%10+1:r,a=!a;return!(s%10!==0||!e)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),e in o)return o[e](t);if("any"===e){for(var n in o){if(o.hasOwnProperty(n))if((0,o[n])(t))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={ES:function(t){(0,i.default)(t);var e={X:0,Y:1,Z:2},n=t.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var r=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(t){return e[t]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r%23])},IN:function(t){var e=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=t.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(r))return!1;var i=0;return r.replace(/\s/g,"").split("").map(Number).reverse().forEach((function(t,r){i=e[i][n[r%8][t]]})),0===i},IT:function(t){return 9===t.length&&("CA00000AA"!==t&&t.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1)},NO:function(t){var e=t.trim();if(isNaN(Number(e)))return!1;if(11!==e.length)return!1;if("00000000000"===e)return!1;var n=e.split("").map(Number),r=(11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11)%11,i=(11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r)%11)%11;return r===n[9]&&i===n[10]},"he-IL":function(t){var e=t.trim();if(!/^\d{9}$/.test(e))return!1;for(var n,r=e,i=0,o=0;o<r.length;o++)i+=(n=Number(r[o])*(o%2+1))>9?n-9:n;return i%10===0},"ar-TN":function(t){var e=t.trim();return!!/^\d{8}$/.test(e)},"zh-CN":function(t){var e,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],i=["1","0","X","9","8","7","6","5","4","3","2"],o=function(t){return n.includes(t)},a=function(t){var e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6),10),i=new Date(e,n-1,r);return!(i>new Date)&&(i.getFullYear()===e&&i.getMonth()===n-1&&i.getDate()===r)},s=function(t){return function(t){for(var e=t.substring(0,17),n=0,o=0;o<17;o++)n+=parseInt(e.charAt(o),10)*parseInt(r[o],10);return i[n%11]}(t)===t.charAt(17).toUpperCase()};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(e=t)&&(15===e.length?function(t){var e=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(t);if(!e)return!1;var n=t.substring(0,2);if(!(e=o(n)))return!1;var r="19".concat(t.substring(6,12));return!!(e=a(r))}(e):function(t){var e=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(t);if(!e)return!1;var n=t.substring(0,2);if(!(e=o(n)))return!1;var r=t.substring(6,14);return!!(e=a(r))&&s(t)}(e))},"zh-TW":function(t){var e={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=t.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(t,n,r){if(0===r){var i=e[n];return i%10*9+Math.floor(i/10)}return 9===r?(10-t%10-Number(n))%10===0:t+Number(n)*(9-r)}),0)}};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(t);var e=Number(t.slice(-1));return o.test(t)&&e===function(t){var e=10-t.slice(0,-1).split("").map((function(e,n){return Number(e)*function(t,e){if(8===t)return e%2===0?3:1;return e%2===0?1:3}(t.length,n)})).reduce((function(t,e){return t+e}),0)%10;return e<10?e:0}(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(\d{8}|\d{13})$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t),!o.test(t))return!1;for(var e,n,r=t.replace(/[A-Z]/g,(function(t){return parseInt(t,36)})),a=0,s=!0,u=r.length-2;u>=0;u--)e=r.substring(u,u+1),n=parseInt(e,10),a+=s&&(n*=2)>=10?n+1:n,s=!s;return parseInt(t.substr(t.length-1),10)===(1e4-a)%10};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(e),!(n=String(n)))return t(e,10)||t(e,13);var r,u=e.replace(/[\s-]+/g,""),c=0;if("10"===n){if(!o.test(u))return!1;for(r=0;r<9;r++)c+=(r+1)*u.charAt(r);if("X"===u.charAt(9)?c+=100:c+=10*u.charAt(9),c%11===0)return!!u}else if("13"===n){if(!a.test(u))return!1;for(r=0;r<12;r++)c+=s[r%2]*u.charAt(r);if(u.charAt(12)-(10-c%10)%10===0)return!!u}return!1};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,s=[1,3];t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(t);var n=o;if(n=e.require_hyphen?n.replace("?",""):n,!(n=e.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(t))return!1;for(var r=t.replace("-","").toUpperCase(),a=0,s=0;s<r.length;s++){var u=r[s];a+=("X"===u?10:+u)*(8-s)}return a%11===0};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o="^\\d{4}-?\\d{3}[\\dX]$";t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,i.default)(t),e in c)return!!c[e].test(t)&&-1!==u(e).indexOf(t.substr(0,2));throw new Error("Invalid locale '".concat(e,"'"))};var r,i=(r=n(4))&&r.__esModule?r:{default:r};function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s={"en-US":{andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]}};function u(t){var e=[];for(var n in s[t])s[t].hasOwnProperty(n)&&e.push.apply(e,o(s[t][n]));return e.sort(),e}var c={"en-US":/^\d{2}[- ]{0,1}\d{7}$/};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if((0,i.default)(t),n&&n.strictMode&&!t.startsWith("+"))return!1;if(Array.isArray(e))return e.some((function(e){if(o.hasOwnProperty(e)&&o[e].test(t))return!0;return!1}));if(e in o)return o[e].test(t);if(!e||"any"===e){for(var r in o){if(o.hasOwnProperty(r))if(o[r].test(t))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))},e.locales=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)(7[5-9])\d{1,7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[689]\d{7}$/,"en-SL":/^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"es-CO":/^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([3568][0-9]|4[579]|6[67]|7[01235678]|9[012356789])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};o["en-CA"]=o["en-US"],o["fr-BE"]=o["nl-BE"],o["zh-HK"]=o["en-HK"],o["zh-MO"]=o["en-MO"];var a=Object.keys(o);e.locales=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(0x)[0-9a-f]{40}$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),function(t){var e="\\d{".concat(t.digits_after_decimal[0],"}");t.digits_after_decimal.forEach((function(t,n){0!==n&&(e="".concat(e,"|\\d{").concat(t,"}"))}));var n="(".concat(t.symbol.replace(/\W/,(function(t){return"\\".concat(t)})),")").concat(t.require_symbol?"":"?"),r="-?",i="[1-9]\\d{0,2}(\\".concat(t.thousands_separator,"\\d{3})*"),o="(".concat(["0","[1-9]\\d*",i].join("|"),")?"),a="(\\".concat(t.decimal_separator,"(").concat(e,"))").concat(t.require_decimal?"":"?"),s=o+(t.allow_decimal||t.require_decimal?a:"");t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?s+=r:t.negative_sign_before_digits&&(s=r+s));t.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):t.allow_space_after_symbol?s=" ?".concat(s):t.allow_space_after_digits&&(s+="( (?!$))?");t.symbol_after_digits?s+=n:s=n+s;t.allow_negatives&&(t.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):t.negative_sign_before_digits||t.negative_sign_after_digits||(s=r+s));return new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(e=(0,r.default)(e,a)).test(t)};var r=o(n(18)),i=o(n(4));function o(t){return t&&t.__esModule?t:{default:t}}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);var n=o.test(t);return e&&n&&e.strict?function(t){var e=t.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(e){var n=Number(e[1]),r=Number(e[2]);return n%4===0&&n%100!==0||n%400===0?r<=366:r<=365}var i=t.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=i[1],a=i[2],s=i[3],u=a?"0".concat(a).slice(-2):a,c=s?"0".concat(s).slice(-2):s,l=new Date("".concat(o,"-").concat(u||"01","-").concat(c||"01"));if(a&&s)return l.getUTCFullYear()===o&&l.getUTCMonth()+1===a&&l.getUTCDate()===s;return!0}(t):n};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),f.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/([01][0-9]|2[0-3])/,a=/[0-5][0-9]/,s=new RegExp("[-+]".concat(o.source,":").concat(a.source)),u=new RegExp("([zZ]|".concat(s.source,")")),c=new RegExp("".concat(o.source,":").concat(a.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),l=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),h=new RegExp("".concat(c.source).concat(u.source)),f=new RegExp("".concat(l.source,"[ tT]").concat(h.source));t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t),(0,i.default)(a,t.toUpperCase())};var r=o(n(4)),i=o(n(42));function o(t){return t&&t.__esModule?t:{default:t}}var a=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t),(0,i.default)(a,t.toUpperCase())};var r=o(n(4)),i=o(n(42));function o(t){return t&&t.__esModule?t:{default:t}}var a=["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"];t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.default)(t),t.length%8===0&&o.test(t))return!0;return!1};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[A-Z2-7]+=*$/;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,i.default)(t);var e=t.split(",");if(e.length<2)return!1;var n=e.shift().trim().split(";"),r=n.shift();if("data:"!==r.substr(0,5))return!1;var u=r.substr(5);if(""!==u&&!o.test(u))return!1;for(var c=0;c<n.length;c++)if(c===n.length-1&&"base64"===n[c].toLowerCase());else if(!a.test(n[c]))return!1;for(var l=0;l<e.length;l++)if(!s.test(e[l]))return!1;return!0};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[a-z]+\/[a-z0-9\-\+]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t.trim())};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)||a.test(t)||s.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,r.default)(t),e=(0,i.default)(e,l),!t.includes(","))return!1;var n=t.split(",");if(n[0].startsWith("(")&&!n[1].endsWith(")")||n[1].endsWith(")")&&!n[0].startsWith("("))return!1;if(e.checkDMS)return u.test(n[0])&&c.test(n[1]);return a.test(n[0])&&s.test(n[1])};var r=o(n(4)),i=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}var a=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,u=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,c=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,l={checkDMS:!1};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,i.default)(t),e in u)return u[e].test(t);if("any"===e){for(var n in u){if(u.hasOwnProperty(n))if(u[n].test(t))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))},e.locales=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^\d{4}$/,a=/^\d{5}$/,s=/^\d{6}$/,u={AD:/^AD\d{3}$/,AT:o,AU:o,AZ:/^AZ\d{4}$/,BE:o,BG:o,BR:/^\d{5}-\d{3}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:o,CZ:/^\d{3}\s?\d{2}$/,DE:a,DK:o,DZ:a,EE:a,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:a,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:o,ID:a,IE:/^(?!.*(?:o))[A-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IS:/^\d{3}$/,IT:a,JP:/^\d{3}\-\d{4}$/,KE:a,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:o,LV:/^LV\-\d{4}$/,MX:a,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,NL:/^\d{4}\s?[a-z]{2}$/i,NO:o,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:o,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:a,SE:/^[1-9]\d{2}\s?\d{2}$/,SI:o,SK:/^\d{3}\s?\d{2}$/,TN:o,TW:/^\d{3}(\d{2})?$/,UA:a,US:/^\d{5}(-\d{4})?$/,ZA:o,ZM:a},c=Object.keys(u);e.locales=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,r.default)((0,i.default)(t,e),e)};var r=o(n(59)),i=o(n(58));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,r.default)(t);var n=e?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(t,n)};var r=o(n(4)),i=o(n(60));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,i.default)(t),t.replace(new RegExp("[^".concat(e,"]+"),"g"),"")};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(t);for(var n=t.length-1;n>=0;n--)if(-1===e.indexOf(t[n]))return!1;return!0};var r,i=(r=n(4))&&r.__esModule?r:{default:r};t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e=(0,i.default)(e,o);var n=t.split("@"),r=n.pop(),h=[n.join("@"),r];if(h[1]=h[1].toLowerCase(),"gmail.com"===h[1]||"googlemail.com"===h[1]){if(e.gmail_remove_subaddress&&(h[0]=h[0].split("+")[0]),e.gmail_remove_dots&&(h[0]=h[0].replace(/\.+/g,l)),!h[0].length)return!1;(e.all_lowercase||e.gmail_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]=e.gmail_convert_googlemaildotcom?"gmail.com":h[1]}else if(a.indexOf(h[1])>=0){if(e.icloud_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(e.all_lowercase||e.icloud_lowercase)&&(h[0]=h[0].toLowerCase())}else if(s.indexOf(h[1])>=0){if(e.outlookdotcom_remove_subaddress&&(h[0]=h[0].split("+")[0]),!h[0].length)return!1;(e.all_lowercase||e.outlookdotcom_lowercase)&&(h[0]=h[0].toLowerCase())}else if(u.indexOf(h[1])>=0){if(e.yahoo_remove_subaddress){var f=h[0].split("-");h[0]=f.length>1?f.slice(0,-1).join("-"):f[0]}if(!h[0].length)return!1;(e.all_lowercase||e.yahoo_lowercase)&&(h[0]=h[0].toLowerCase())}else c.indexOf(h[1])>=0?((e.all_lowercase||e.yandex_lowercase)&&(h[0]=h[0].toLowerCase()),h[1]="yandex.ru"):e.all_lowercase&&(h[0]=h[0].toLowerCase());return h.join("@")};var r,i=(r=n(18))&&r.__esModule?r:{default:r};var o={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],u=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function l(t){return t.length>1?t:""}t.exports=e.default,t.exports.default=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(t),o.test(t)};var r,i=(r=n(4))&&r.__esModule?r:{default:r};var o=/^[^\s-_](?!.*?[-_]{2,})([a-z0-9-\\]{1,})[^\s]*[^-_\s]$/;t.exports=e.default,t.exports.default=e.default},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]]);
//# sourceMappingURL=2.b0822e6d.chunk.js.map